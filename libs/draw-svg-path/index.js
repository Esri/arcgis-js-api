// COPYRIGHT Â© 2020 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/4.17/esri/copyright.txt for details.

!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((r=r||self).drawSvgPath={})}(this,(function(r){"use strict";var t=function(r){var t=0,a=0,e=0,n=0;return r.map((function(r){var o=(r=r.slice())[0],c=o.toUpperCase();if(o!=c)switch(r[0]=c,o){case"a":r[6]+=e,r[7]+=n;break;case"v":r[1]+=n;break;case"h":r[1]+=e;break;default:for(var i=1;i<r.length;)r[i++]+=e,r[i++]+=n}switch(c){case"Z":e=t,n=a;break;case"H":e=r[1];break;case"V":n=r[1];break;case"M":e=t=r[1],n=a=r[2];break;default:e=r[r.length-2],n=r[r.length-1]}return r}))};var a=function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,t){var a=[],e=!0,n=!1,o=void 0;try{for(var c,i=r[Symbol.iterator]();!(e=(c=i.next()).done)&&(a.push(c.value),!t||a.length!==t);e=!0);}catch(r){n=!0,o=r}finally{try{!e&&i.return&&i.return()}finally{if(n)throw o}}return a}(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},e=2*Math.PI,n=function(r,t,a,e,n,o,c){var i=r.x,h=r.y;return{x:e*(i*=t)-n*(h*=a)+o,y:n*i+e*h+c}},o=function(r,t){var a=1.5707963267948966===t?.551915024494:-1.5707963267948966===t?-.551915024494:4/3*Math.tan(t/4),e=Math.cos(r),n=Math.sin(r),o=Math.cos(r+t),c=Math.sin(r+t);return[{x:e-n*a,y:n+e*a},{x:o+c*a,y:c-o*a},{x:o,y:c}]},c=function(r,t,a,e){var n=r*a+t*e;return n>1&&(n=1),n<-1&&(n=-1),(r*e-t*a<0?-1:1)*Math.acos(n)},i=function(r){var t=r.px,i=r.py,h=r.cx,s=r.cy,u=r.rx,l=r.ry,f=r.xAxisRotation,v=void 0===f?0:f,p=r.largeArcFlag,y=void 0===p?0:p,M=r.sweepFlag,x=void 0===M?0:M,b=[];if(0===u||0===l)return[];var g=Math.sin(v*e/360),d=Math.cos(v*e/360),w=d*(t-h)/2+g*(i-s)/2,m=-g*(t-h)/2+d*(i-s)/2;if(0===w&&0===m)return[];u=Math.abs(u),l=Math.abs(l);var k=Math.pow(w,2)/Math.pow(u,2)+Math.pow(m,2)/Math.pow(l,2);k>1&&(u*=Math.sqrt(k),l*=Math.sqrt(k));var C=function(r,t,a,n,o,i,h,s,u,l,f,v){var p=Math.pow(o,2),y=Math.pow(i,2),M=Math.pow(f,2),x=Math.pow(v,2),b=p*y-p*x-y*M;b<0&&(b=0),b/=p*x+y*M;var g=(b=Math.sqrt(b)*(h===s?-1:1))*o/i*v,d=b*-i/o*f,w=l*g-u*d+(r+a)/2,m=u*g+l*d+(t+n)/2,k=(f-g)/o,C=(v-d)/i,A=(-f-g)/o,q=(-v-d)/i,S=c(1,0,k,C),T=c(k,C,A,q);return 0===s&&T>0&&(T-=e),1===s&&T<0&&(T+=e),[w,m,S,T]}(t,i,h,s,u,l,y,x,g,d,w,m),A=a(C,4),q=A[0],S=A[1],T=A[2],z=A[3],F=Math.abs(z)/(e/4);Math.abs(1-F)<1e-7&&(F=1);var j=Math.max(Math.ceil(F),1);z/=j;for(var L=0;L<j;L++)b.push(o(T,z)),T+=z;return b.map((function(r){var t=n(r[0],u,l,d,g,q,S),a=t.x,e=t.y,o=n(r[1],u,l,d,g,q,S),c=o.x,i=o.y,h=n(r[2],u,l,d,g,q,S);return{x1:a,y1:e,x2:c,y2:i,x:h.x,y:h.y}}))},h=function(r){for(var t,a=[],e=0,n=0,o=0,c=0,h=null,l=null,f=0,v=0,p=0,y=r.length;p<y;p++){var M=r[p],x=M[0];switch(x){case"M":o=M[1],c=M[2];break;case"A":var b=i({px:f,py:v,cx:M[6],cy:M[7],rx:M[1],ry:M[2],xAxisRotation:M[3],largeArcFlag:M[4],sweepFlag:M[5]});if(!b.length)continue;for(var g,d=0;d<b.length;d++)g=b[d],M=["C",g.x1,g.y1,g.x2,g.y2,g.x,g.y],d<b.length-1&&a.push(M);break;case"S":var w=f,m=v;"C"!=t&&"S"!=t||(w+=w-e,m+=m-n),M=["C",w,m,M[1],M[2],M[3],M[4]];break;case"T":"Q"==t||"T"==t?(h=2*f-h,l=2*v-l):(h=f,l=v),M=u(f,v,h,l,M[1],M[2]);break;case"Q":h=M[1],l=M[2],M=u(f,v,M[1],M[2],M[3],M[4]);break;case"L":M=s(f,v,M[1],M[2]);break;case"H":M=s(f,v,M[1],v);break;case"V":M=s(f,v,f,M[1]);break;case"Z":M=s(f,v,o,c)}t=x,f=M[M.length-2],v=M[M.length-1],M.length>4?(e=M[M.length-4],n=M[M.length-3]):(e=f,n=v),a.push(M)}return a};function s(r,t,a,e){return["C",r,t,a,e,a,e]}function u(r,t,a,e,n,o){return["C",r/3+2/3*a,t/3+2/3*e,n/3+2/3*a,o/3+2/3*e,n,o]}var l=function(r){var t=[];return r.replace(v,(function(r,a,e){var n=a.toLowerCase();for(e=function(r){var t=r.match(p);return t?t.map(Number):[]}(e),"m"==n&&e.length>2&&(t.push([a].concat(e.splice(0,2))),n="l",a="m"==a?"l":"L");;){if(e.length==f[n])return e.unshift(a),t.push(e);if(e.length<f[n])throw new Error("malformed path data");t.push([a].concat(e.splice(0,f[n])))}})),t},f={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},v=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var p=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;r.draw=function(r,a){for(var e=h(t(l(a))),n=0;n<e.length;n++){var o=e[n];"M"===o[0]?r.moveTo(o[1],o[2]):"C"===o[0]&&r.bezierCurveTo(o[1],o[2],o[3],o[4],o[5],o[6])}},Object.defineProperty(r,"__esModule",{value:!0})}));