/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../core/Collection","../core/Error","../core/lang","../core/maybe","../core/accessorSupport/decorators/property","../core/accessorSupport/ensureType","../core/has","../core/Logger","../core/accessorSupport/decorators/enumeration","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","./ExtrudeSymbol3DLayer","./FillSymbol3DLayer","./IconSymbol3DLayer","./LineSymbol3DLayer","./ObjectSymbol3DLayer","./Symbol3D","./TextSymbol3DLayer","./WaterSymbol3DLayer"],(function(e,o,r,t,l,s,y,n,a,c,i,m,p,b,u,L,S,d,f,g,h){"use strict";var w;const D=r.ofType({base:null,key:"type",typeMap:{extrude:b,fill:u,icon:L,line:S,object:d,text:g,water:h}}),_=r.ofType({base:null,key:"type",typeMap:{extrude:b,fill:u,icon:L,line:S,object:d,water:h}});let x=w=function(o){function r(e){var r;return(r=o.call(this,e)||this).symbolLayers=new D,r.type="polygon-3d",r}e._inheritsLoose(r,o);var y=r.prototype;return y.writeSymbolLayers=function(e,o,r,l){const s=e.filter((e=>"text"!==e.type));if(l&&l.messages&&s.length<e.length){const o=e.find((e=>"text"===e.type));l.messages.push(new t("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:o}))}o[r]=s.map((e=>e.write({},l))).toArray()},y.clone=function(){return new w({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})},r.fromJSON=function(e){const o=new w;if(o.read(e),2===o.symbolLayers.length&&"fill"===o.symbolLayers.getItemAt(0).type&&"line"===o.symbolLayers.getItemAt(1).type){const r=o.symbolLayers.getItemAt(0),t=o.symbolLayers.getItemAt(1);!t.enabled||e.symbolLayers&&e.symbolLayers[1]&&!1===e.symbolLayers[1].enable||(r.outline={size:t.size,color:s.isSome(t.material)?t.material.color:null}),o.symbolLayers.removeAt(1)}return o},r.fromSimpleFillSymbol=function(e){return new w({symbolLayers:[u.fromSimpleFillSymbol(e)]})},r}(f);return o.__decorate([y.property({type:D,json:{type:_}})],x.prototype,"symbolLayers",void 0),o.__decorate([p.writer("web-scene","symbolLayers")],x.prototype,"writeSymbolLayers",null),o.__decorate([i.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],x.prototype,"type",void 0),x=w=o.__decorate([m.subclass("esri.symbols.PolygonSymbol3D")],x),x}));
