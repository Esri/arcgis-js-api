/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../core/has","../core/lang","../core/maybe","../core/Logger","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/enumeration","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","../core/Error","../core/urlUtils","../core/uuid","../portal/support/resourceExtension","../core/Collection","./ExtrudeSymbol3DLayer","./FillSymbol3DLayer","./IconSymbol3DLayer","./LineSymbol3DLayer","./ObjectSymbol3DLayer","./TextSymbol3DLayer","./WaterSymbol3DLayer","./Symbol3D"],(function(e,o,r,t,l,s,y,n,a,c,i,m,p,b,u,L,S,d,f,g,h,w,D,_){"use strict";var x;const v=L.ofType({base:null,key:"type",typeMap:{extrude:S,fill:d,icon:f,line:g,object:h,text:w,water:D}}),A=L.ofType({base:null,key:"type",typeMap:{extrude:S,fill:d,icon:f,line:g,object:h,water:D}});let I=x=function(o){function r(e){var r;return(r=o.call(this,e)||this).type="polygon-3d",r}e._inheritsLoose(r,o);var s=r.prototype;return s.writeSymbolLayers=function(e,o,r,t){const l=e.filter((e=>"text"!==e.type));if(t&&t.messages&&l.length<e.length){const o=e.find((e=>"text"===e.type));t.messages.push(new m("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:o}))}o[r]=l.map((e=>e.write({},t))).toArray()},s.clone=function(){return new x({styleOrigin:t.clone(this.styleOrigin),symbolLayers:t.clone(this.symbolLayers),thumbnail:t.clone(this.thumbnail)})},r.fromJSON=function(e){const o=new x;if(o.read(e),2===o.symbolLayers.length&&"fill"===o.symbolLayers.getItemAt(0).type&&"line"===o.symbolLayers.getItemAt(1).type){const r=o.symbolLayers.getItemAt(0),t=o.symbolLayers.getItemAt(1);!t.enabled||e.symbolLayers&&e.symbolLayers[1]&&!1===e.symbolLayers[1].enable||(r.outline={size:t.size,color:l.isSome(t.material)?t.material.color:null}),o.symbolLayers.removeAt(1)}return o},r.fromSimpleFillSymbol=function(e){return new x({symbolLayers:[d.fromSimpleFillSymbol(e)]})},r}(_);return o.__decorate([n.property({type:v,json:{type:A}})],I.prototype,"symbolLayers",void 0),o.__decorate([i.writer("web-scene","symbolLayers")],I.prototype,"writeSymbolLayers",null),o.__decorate([a.enumeration({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],I.prototype,"type",void 0),I=x=o.__decorate([c.subclass("esri.symbols.PolygonSymbol3D")],I),I}));
