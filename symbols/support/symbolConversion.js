/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{isSymbol3D as o}from"../../symbols.js";import e from"../../core/Error.js";import r from"../WebStyleSymbol.js";import m from"../PointSymbol3D.js";import i from"../SimpleLineSymbol.js";import l from"../LineSymbol3D.js";import t from"../SimpleMarkerSymbol.js";import n from"../PictureMarkerSymbol.js";import s from"../SimpleFillSymbol.js";import y from"../PolygonSymbol3D.js";import f from"../TextSymbol.js";import b from"../LabelSymbol3D.js";const p={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function a(a,S=p){if(!a)return{symbol:null};const{retainId:c=p.retainId,ignoreDrivers:u=p.ignoreDrivers,hasLabelingContext:d=p.hasLabelingContext,retainCIM:j=p.retainCIM}=S;let D;if(o(a)||a instanceof r)D=a.clone();else if("cim"===a.type){const o=a.data?.symbol?.type;if("CIMPointSymbol"!==o)return{error:new e("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${o||"unknown"}' is unsupported in 3D`,{symbol:a})};D=j?a.clone():m.fromCIMSymbol(a)}else if(a instanceof i)D=l.fromSimpleLineSymbol(a);else if(a instanceof t)D=m.fromSimpleMarkerSymbol(a);else if(a instanceof n)D=m.fromPictureMarkerSymbol(a);else if(a instanceof s)D=y.fromSimpleFillSymbol(a);else{if(!(a instanceof f))return{error:new e("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${a.type||a.declaredClass}' is unsupported in 3D`,{symbol:a})};D=d?b.fromTextSymbol(a):m.fromTextSymbol(a)}if(c&&"cim"!==D.type&&(D.id=a.id),u&&o(D))for(let o=0;o<D.symbolLayers.length;++o)D.symbolLayers.getItemAt(o)._ignoreDrivers=!0;return{symbol:D}}export{a as to3D};
