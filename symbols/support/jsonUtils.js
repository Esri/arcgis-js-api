/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
define(["exports","../../symbols","../../core/Error","../../core/maybe","../Symbol3D","./symbolConversion","../WebStyleSymbol"],(function(e,s,n,o,r,t,i){"use strict";function l(e,s,n,o){const r=b(e,{},o);r&&(s[n]=r)}function b(e,s,l){if(!e)return null;if(l&&"web-scene"===l.origin&&!(e instanceof r)&&!(e instanceof i)){const r=t.to3D(e,{retainCIM:!0});return o.isSome(r.symbol)?r.symbol.write(s,l):(l.messages&&l.messages.push(new n("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:l,error:r.error})),null)}return l&&"web-map"===l.origin&&"web-style"===e.type?(l.messages&&l.messages.push(new n("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in webmaps. Use CIMSymbol instead when working with WebMap in MapView.`,{symbol:e,context:l})),null):e.write(s,l)}function m(e,n){return s.readSymbol(e,null,n)}e.fromJSON=m,e.write=l,Object.defineProperty(e,"__esModule",{value:!0})}));
