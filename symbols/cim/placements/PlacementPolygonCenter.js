/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../core/has","../../../geometry/support/aaBoundingRect","../../../geometry/support/boundsUtils","../../../geometry/support/centroid","../../../geometry/support/labelPoint","../CIMPlacements","../enums"],(function(e,t,n,o,s,l,r,i){"use strict";function a(e){return void 0!==e.rings}let c=function(){function e(){}return e.local=function(){return null===e.instance&&(e.instance=new e),e.instance},e.prototype.execute=function(e,t,n,o,s){return new f(e,t,n)},e}();c.instance=null;let f=function(){function e(e,t,n){this._geometry=e,this._offsetX=void 0!==t.offsetX?t.offsetX*n:0,this._offsetY=void 0!==t.offsetY?t.offsetY*n:0,this._method=void 0!==t.method?t.method:i.PlacementPolygonCenterMethod.OnPolygon,this._internalPlacement=new r.Placement}var c=e.prototype;return c.next=function(){const e=this._geometry;return this._geometry=null,e&&a(e)?this._polygonCenter(e):null},c._polygonCenter=function(e){let r=!1;switch(this._method){case i.PlacementPolygonCenterMethod.CenterOfMass:{const t=s.weightedAreaCentroid(e);t&&(this._internalPlacement.setTranslate(t[0]+this._offsetX,t[1]+this._offsetY),r=!0)}break;case i.PlacementPolygonCenterMethod.BoundingBoxCenter:{const t=n.create();o.getBoundsXY(t,e),t&&(this._internalPlacement.setTranslate((t[2]+t[0])/2+this._offsetX,(t[3]+t[1])/2+this._offsetY),r=!0)}break;case i.PlacementPolygonCenterMethod.OnPolygon:default:{let n;n=t("polylabel-placement-enabled")?l.getPolylabelPoint(e):l.getLabelPoint(e),null!==n&&(this._internalPlacement.setTranslate(n[0]+this._offsetX,n[1]+this._offsetY),r=!0)}}return r?this._internalPlacement:null},e}();e.PlacementPolygonCenter=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
