/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define((function(){"use strict";return function(){function t(){}var a=t.prototype;return a.applyColorSubstituition=function(t,a){if(!a)return t;this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));const{width:n,height:e}=t,o=this._rasterizationCanvas,r=o.getContext("2d");t!==o&&(o.width=n,o.height=e,r.drawImage(t,0,0,n,e));const i=r.getImageData(0,0,n,e).data;if(a)for(const h of a)if(h&&h.oldColor&&4===h.oldColor.length&&h.newColor&&4===h.newColor.length){const[t,a,n,e]=h.oldColor,[o,r,s,g]=h.newColor;if(t===o&&a===r&&n===s&&e===g)continue;for(let h=0;h<i.length;h+=4)t===i[h]&&a===i[h+1]&&n===i[h+2]&&e===i[h+3]&&(i[h]=o,i[h+1]=r,i[h+2]=s,i[h+3]=g)}const s=new ImageData(i,n,e);return r.putImageData(s,0,0),o},a.tintImageData=function(t,a){if(!a||a.length<4)return t;this._rasterizationCanvas||(this._rasterizationCanvas=document.createElement("canvas"));const{width:n,height:e}=t,o=this._rasterizationCanvas,r=o.getContext("2d");t!==o&&(o.width=n,o.height=e,r.drawImage(t,0,0,n,e));const i=r.getImageData(0,0,n,e),s=new Uint8Array(i.data),h=[a[0]/255,a[1]/255,a[2]/255,a[3]/255];for(let c=0;c<s.length;c+=4)s[c+0]*=h[0],s[c+1]*=h[1],s[c+2]*=h[2],s[c+3]*=h[3];const g=new ImageData(new Uint8ClampedArray(s.buffer),n,e);return r.putImageData(g,0,0),o},t}()}));
