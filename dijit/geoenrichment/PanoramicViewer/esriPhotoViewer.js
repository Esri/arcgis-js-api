// COPYRIGHT © 2022 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/3.42/esri/copyright.txt for details.

!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=86)}([function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return o})),n(10),n(26),n(22),n(99),n(100),n(53),n(54),n(107),n(109),n(110),n(113),n(115),n(116),n(78),n(117),n(79);var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._imageAtt360MaxSize=10485,this._imageAttDefMaxSize=1024,this._imageAttTargetSize=1024,this._thumbnailImageSize=440}var t,n;return t=e,null,(n=[{key:"notDef",value:function(e){return null==e}},{key:"isDef",value:function(t){return!e.notDef(t)}},{key:"checkNaN",value:function(e){var t=isNaN(e);return t&&console.log("NaN Error: number was expected."),t}},{key:"hasText",value:function(t){return e.isDef(t)&&"string"==typeof t&&t.length>0&&t.trim().length>0}},{key:"async",value:function(e,t){return setTimeout(e,t)}},{key:"onException",value:function(e){console.log(e)}},{key:"onError",value:function(e){console.log(e)}},{key:"log",value:function(e){console.log(e)}},{key:"getExtension",value:function(e,t){var n=e.lastIndexOf(".");if(n>=0&&e.length>n+1){var r=e.substr(n+1);return t?r.toUpperCase():r}return null}},{key:"loadCSS",value:function(e){$j('link[href="'+e+'"]').length||$j("head").append('<link rel="stylesheet" type="text/css" href="'+e+'">')}},{key:"_updateHeading",value:function(t){e.HeadingChangedCallbacks&&$j.each(e.HeadingChangedCallbacks,(function(e,n){n(t)}))}},{key:"formatNumberWithCommas",value:function(e,t){var n=t||2;return parseFloat(e.toFixed(n)).toLocaleString().replace(/\.([0-9])$/,".$10")}},{key:"getKeys",value:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}},{key:"endsWith",value:function(e,t){return-1!==e.indexOf(t,e.length-t.length)}},{key:"getLocalizedNumber",value:function(e,t){var n,r=t||0===t?t:1;if(e||0===e)try{for(var i="",o=0;o<r;o++)i+="0";i="0,0.["+i+"]",n=numeral(e).format(i)}catch(e){console.log(e)}return n}},{key:"addPx",value:function(e){return e.toString().trim().toLowerCase().endsWith("px")?e:e+"px"}},{key:"hexColorFromRGB",value:function(e){var t,n=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");function r(e){return isNaN(e)?"00":n[(e-e%16)/16]+n[e%16]}return"#"+r((t=(t=e).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+r(t[2])+r(t[3])}},{key:"emptyChildNodes",value:function(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"is360File",value:function(t){return e.hasText(t)&&t.indexOf(".360.")>0}},{key:"isPanoFile",value:function(t){return e.hasText(t)&&t.indexOf(".pano.")>0}},{key:"getAspectRatio",value:function(e,t,n){var r,i,o,a=100*e/(100*t),s=3 in arguments?arguments[2]:16,c=4 in arguments?arguments[3]:16,l=new Array(s).join(",").split(","),u=new Array(c).join(",").split(","),f={},h={};for(o in l.forEach((function(e,t){++t,u.forEach((function(e,n){f[r=100*t/(100*++n)]||(f[r]=!0,h[t+":"+n]=r)}))})),h)(!i||!n&&Math.abs(a-h[o])<Math.abs(a-h[i])||n<0&&h[o]<=a&&Math.abs(a-h[o])<Math.abs(a-h[i])||n>0&&h[o]>=a&&Math.abs(a-h[o])<Math.abs(a-h[i]))&&(i=o);return i}},{key:"floorPowerOfTwo",value:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}},{key:"ceilPowerOfTwo",value:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}},{key:"nearestPowerOfTwo",value:function(t,n){var r=e.floorPowerOfTwo(t),i=e.ceilPowerOfTwo(t);return i-t<=r+t&&i<n?i:r}},{key:"getPowerOfTwoSize",value:function(t,n){return{width:e.nearestPowerOfTwo(t.width,n),height:e.nearestPowerOfTwo(t.height,n)}}},{key:"isDef",value:function(t){return!e.notDef(t)}},{key:"notDef",value:function(e){return null==e}},{key:"hasText",value:function(t){return e.isDef(t)&&"string"==typeof t&&t.length>0&&t.trim().length>0}},{key:"_nsORv",value:function(t,n){var r;try{r=t.split(".").reduce((function(e,t){return void 0===e?e:e[t]}),window)}catch(t){e.onException(t)}return r||n}},{key:"hasClass",value:function(e,t){return"classList"in document.documentElement&&e&&e.classList?e.classList.contains(t):!(!e||!e.className)&&new RegExp("\\b"+t+"\\b").test(e.className)}},{key:"addClass",value:function(t,n){t&&t.classList?t.classList.add(n):t&&t.className&&(e.hasClass(t,n)||(t.className+=" "+n))}},{key:"removeClass",value:function(e,t){"classList"in document.documentElement&&e&&e.classList?e.classList.remove(t):e&&e.className&&e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")}},{key:"initMaxTextureSize",value:function(t){if(!e.maxTextureSize&&t){e.maxTextureSize=0;var n=document.createElement("canvas");t.appendChild(n);var r=n.getContext("webgl");r&&(e.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),e.log("MAX_TEXTURE_SIZE= "+this.maxTextureSize)),t.removeChild(n)}}},{key:"removeExtension",value:function(e){return e.replace(/\.[^/.]+$/,"")}},{key:"noop",value:function(e){return{}}},{key:"getTouch",value:function(e){var t,n,r={};return e&&(void 0!==e.pageX?(t=e.pageX,n=e.pageY):e.originalEvent&&e.originalEvent.touches?(t=e.originalEvent.touches[0].pageX,n=e.originalEvent.touches[0].pageY):e.touches&&(t=e.touches[0].pageX,n=e.touches[0].pageY),r.x=t,r.y=n),r}},{key:"getTouchEnd",value:function(e){var t,n,r={};return e&&(e.pageX?(t=e.pageX,n=e.pageY):e.changedTouches?(t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY):e.originalEvent&&e.originalEvent.changedTouches&&(t=e.originalEvent.changedTouches[0].pageX,n=e.originalEvent.changedTouches[0].pageY),r.x=t,r.y=n),r}},{key:"showElem",value:function(e){e&&e.style&&(e.style.display="block")}},{key:"hideElem",value:function(e){e&&e.style&&(e.style.display="none")}},{key:"parseMatrixTransform",value:function(t,n){var r,i,o;try{return r=(t=t||document.getElementById(n)).style.transform,e.hasText(r)&&"none"!=r&&r.indexOf("matrix")>=0&&(i=r.replace(/^\w+\(/,"[").replace(/\)$/,"]"),o=JSON.parse(i)),{matrix:o=o||[1,0,0,1,0,0],scale:o[0],x:o[4],y:o[5]}}catch(t){e.onException(t)}}},{key:"setMatrixTransform",value:function(e,t){document.getElementById(e).style.transform="matrix("+t.scale+",0,0,"+t.scale+","+t.x+","+t.y+")"}},{key:"isSizeRatio360",value:function(t,n){try{if(t&&n)return n>=t/2.025&&n<=t/1.975}catch(t){e.onException(t)}return!1}},{key:"isSizeRatioPano",value:function(t,n){try{if(t&&n)return t/n>2&&t>e.minPanoramicWidth()}catch(t){e.onException(t)}return!1}},{key:"getImageSizeLimits",value:function(e,t,n){var r,i,o,a,s=10485759,c=e.width*e.height;return t?(a=(i=s/c)>=1,o=Math.sqrt(s/2),r={maxFileSize:a?c:Math.floor(s/1e3),maxWidth:a?e.width:Math.floor(2*o),maxHeight:a?e.height:Math.floor(o)}):n?r={maxFileSize:(a=(i=s/c)>=1)?c:Math.floor(s/1e3),maxWidth:a?e.width:Math.floor(Math.sqrt(.9*s)),maxHeight:a?e.height:Math.floor(Math.sqrt(s/3))}:(a=(i=3145725/c)>=1,e.width,e.height,a?e.width:Math.floor(Math.sqrt(2097129.0285)),o=a?e.height:Math.floor(3*Math.sqrt(2359293.75)),r={maxFileSize:3145725,maxWidth:a?e.width:e.width*i,maxHeight:a?e.height:e.height*i}),r}},{key:"_setImageTargetSizePano360",value:function(t,n){var r=e.ImageAttachment_360MaxSize;t&&n&&(r=Math.min(r,t*n)),e.ImageAttachment_TargetSize=r}},{key:"_resetImageTargetSize",value:function(){e.ImageAttachment_TargetSize=e.ImageAttachment_DefaultMaxSize}},{key:"updateImageOptionsPano360",value:function(t,n){if(t&&n){n.is360image=e.isSizeRatio360(t.width,t.height),n.isPanoImage=e.isSizeRatioPano(t.width,t.height);var r=e.getImageSizeLimits(t,n.is360image,n.isPanoImage);(n.is360image||n.isPanoImage)&&e._setImageTargetSizePano360(r.maxWidth,r.maxHeight),n.maxWidth=r.maxWidth,n.maxHeight=r.maxHeight,n.outputSizeLimit=r.maxFileSize}}},{key:"fitImageSize",value:function(e,t,n,r,i){var o,a,s,c=Math.min(e.maxTextureSize,i);return t>n?(a=Math.min(c,t*r),o=n*(s=Math.min(r,a/t))):a=t*(s=(o=Math.min(c,n*r))/n),r<s||t<a&&n<o?{width:t,height:n}:{width:a,height:o}}},{key:"resizeImageToFitGPU",value:function(t,n,r,i){return new Promise((function(o,a){try{setTimeout((function(){var a,s,c,l=Math.min(t.maxTextureSize,r),u=(a=n.width,s=n.height,4096,4096,{width:a*(c=Math.min(4096/a,4096/s)),height:s*c}),f=l/Math.max(n.width,n.height);if(f<1||i){f=Math.min(1,f),n.width,n.height,e.fitImageSize(t,n.width,n.height,f,l);var h=document.createElement("canvas");h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(n,0,0,u.width,u.height),n.src=h.toDataURL("image/jpeg",1),n.width=u.width,n.height=u.height}o()}),0)}catch(t){e.onError(t),a()}}))}},{key:"fetch",value:function(e){function t(t,n,r,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r,i,o){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(r,{method:n,headers:{Accept:o,"Content-Type":o},body:JSON.stringify(i)}).then((function(t){if(t.ok)return t;throw e.onException(t),"Failed to fetch data. Response: "+JSON.parse(t)})).catch((function(t){throw e.onException(t),"Failed to fetch data"}));case 3:t.next=9;break;case 5:throw t.prev=5,t.t0=t.catch(0),e.onException(t.t0),"Failed to execute fetch request.";case 9:case"end":return t.stop()}}),t,null,[[0,5]])})),function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))});return function(e,t,r,i){return n.apply(this,arguments)}}())},{key:"is_iOS",value:function(){if(!this.isBrowser()&&navigator&&navigator.userAgent){var e=navigator.userAgent;if(e.indexOf("iPhone")>0||e.indexOf("iPad")>0)return!0}return!1}},{key:"isBrowser",value:function(){return!(navigator.userAgent.match(/(iPhone)/i)||navigator.userAgent.match(/(iPad|iPod)/i)||navigator.userAgent.match(/android/i))}},{key:"getBrowser",value:function(){var e=navigator.userAgent,t=e.indexOf("Chrome")>-1,n=e.indexOf("MSIE")>-1||e.indexOf("rv:")>-1,r=e.indexOf("Firefox")>-1,i=e.indexOf("Safari")>-1;t&&i&&(i=!1);var o=e.indexOf("OP")>-1;return t&&o&&(t=!1),t?"chrome":n?"ie":r?"firefox":i?"safari":o?"opera":""}},{key:"MAX_CANVAS_OUTPUT_DIMENSION",get:function(){return 1770}},{key:"MAX_OUTPUT_SIZE",get:function(){return e.MAX_CANVAS_OUTPUT_DIMENSION*e.MAX_CANVAS_OUTPUT_DIMENSION}},{key:"IMAGEPREFIX",get:function(){return"data:image/jpeg;base64,"}},{key:"_ThumbnailImageDimension",get:function(){return 440}},{key:"maxTextureSize",get:function(){return this._maxTextureSize},set:function(e){this._maxTextureSize=e}},{key:"minPanoramicWidth",get:function(){return this._minPanoramicWidth},set:function(e){this._minPanoramicWidth=e}},{key:"ImageAttachment_360MaxSize",get:function(){return this._imageAtt360MaxSize},set:function(e){this._imageAtt360MaxSize=e}},{key:"ImageAttachment_DefaultMaxSize",get:function(){return this._imageAttDefMaxSize},set:function(e){this._imageAttDefMaxSize=e}},{key:"ImageAttachment_TargetSize",get:function(){return this._imageAttTargetSize},set:function(e){this._imageAttTargetSize=e}},{key:"ThumbnailImageSize",get:function(){return this._thumbnailImageSize},set:function(e){this._thumbnailImageSize=e}},{key:"_DEFAULT_ATTACHMENT_ICONS",get:function(){return[null,"generic_icon.png","icon_7zip.png","icon_excel.png","icon_pdf.png","icon_ppt.png","icon_txt.png","icon_video.png","icon_word.png","icon_zip.png",""]}},{key:"_ATTACHMENT_TYPES_TO_ICON_MAP",get:function(){return{"7Z":2,AIF:1,AVI:1,BMP:1,DOC:8,DOCX:8,DOT:1,ECW:1,EMF:1,EPA:1,GIF:1,GML:1,GTAR:1,GZ:1,IMG:1,J2K:1,JP2:1,JPC:1,JPE:1,JPEG:1,JPF:1,JPG:1,JSON:1,MDB:1,MID:1,MOV:7,MP2:7,MP3:7,MP4:7,MPA:7,MPE:1,MPEG:7,MPG:7,MPV2:7,PDF:4,PNG:1,PPT:1,PPTX:1,PS:1,PSD:1,QT:1,RA:1,RAM:1,RAW:1,RMI:1,SID:1,TAR:9,TGZ:1,TIF:1,TIFF:1,TXT:1,VRML:1,WAV:7,WMA:1,WMF:1,WPS:1,XLS:3,XLSX:3,XLT:1,XML:1,ZIP:9,imageTypes:{JPEG:1,JPG:1,PNG:1,TIF:1,TIFF:1,GIF:1}}}},{key:"_SANITIZE_ERROR_TEXT",get:function(){return"[error]"}},{key:"Token",get:function(){return this.hasOwnProperty("_token")?this._token:null},set:function(e){this._token=e}},{key:"HeadingChangedCallbacks",get:function(){return this.hasOwnProperty("_headingChangedCallbacks")?this._headingChangedCallbacks:null},set:function(e){this._headingChangedCallbacks=e}},{key:"missingImage64Enc",get:function(){return"iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAME2lDQ1BJQ0MgUHJvZmlsZQAASImVVwdUk8kWnr+kEJJQAhGQEnpHepXei4B0sBGSAKFESAgq9rKo4NpFBGzoqohtLYCsBRHFwiJgwf5ARWVlXSzYUHmTArq+dt49Z/75cufeO9+d3JkzA4CSLTsvLwdVBiBXUCCMCfZjJSWnsEi9gAS0AR1YATU2R5TnGx0dAaCM9n+Xd7cAIumvW0ti/ev4fxUVLk/EAQCJhjiNK+LkQnwcAFyDkycsAIDQBvWGswryJHgQYjUhJAgAEZfgDBnWkOA0GbaS2sTF+EPsAwCZymYLMwCgS3izCjkZMA5dwtFWwOULIK6C2IuTyeZCfB9iq9zcmRArkSE2S/suTsbfYqaNxWSzM8awLBepkAP4orwc9pz/czn+t+TmiEfnMICNmikMiZHkDNdtX/bMcAmmQnxKkBYZBbEqxJf4XKm9BN/NFIfEy+0HOCJ/uGaACQAKuOyAcIi1IWaKs+N95dieLZT6Qns0kl8QGifHacKZMfL4aKEgJzJCHmdFJi90FG/jiQJjR23S+UGhEMNKQ48XZcYlyniiLYX8hEiI6RB3iLJjw+W+D4sy/SNHbYTiGAlnI4jfpguDYmQ2mEauaDQvzIbDls4FawHzKciMC5H5Ykk8UVLEKAcuLyBQxgHj8gTxcm4YrC6/GLlvcV5OtNwe28bLCY6RrTN2RFQYO+rbVQALTLYO2KMsdli0fK53eQXRcTJuOAoigD8IACwghi0NzARZgN8+UD8Af8lGggAbCEEG4AFruWbUI1E6IoDfWFAE/oSIB0Rjfn7SUR4ohPovY1rZ1xqkS0cLpR7Z4CnEubgW7oV74BHw6wObPe6Ku436sZRGZyUGEgOIIcQgovkYDw5knQObEPD/jS4c9jyYnYSLYDSHb/EITwmdhEeEm4Qewh2QAJ5Io8itZvCXCH9gzgKTQA+MFiTPLu377HATyNoJ98M9IX/IHWfiWsAad4SZ+OLeMDcnqP2eoXiM27e1/HE+Cevv85Hr6RZ0JzmLtLF/xn/M6sco/t+tERf24T9aYiuwY1grdg67jJ3C6gELO4s1YG3YaQkeq4Qn0koYnS1Gyi0bxuGP2tjW2vbbfv5hbrZ8fsl6iQp4swskm8F/Zt4cIT8js4DlC09jHitUwLGxYtnb2rkAIDnbZUfHG6b0zEaYV77p8psAcCuByoxvOrYhACefAsB4901n+BqW+1oATndwxMJCmU5yHAMCoAAluCs0gS4wBGYwH3vgDDyADwgEYSAKxIFkMB2ueCbIhZxngXlgMSgGpWAt2AQqwHawC+wDB8FRUA9OgXPgIrgKOsBNcA/WRR94AQbBOzCMIAgJoSEMRBPRQ4wRS8QecUW8kEAkAolBkpFUJAMRIGJkHrIUKUXWIxXITqQG+RU5iZxDLiOdyB2kF+lHXiOfUAylomqoDmqCTkBdUV80HI1Dp6EZaD5ahC5DV6PlaDV6AK1Dz6FX0ZtoD/oCHcIApogxMX3MGnPF/LEoLAVLx4TYAqwEK8OqsUNYI/yfr2M92AD2ESfiDJyFW8PaDMHjcQ6ejy/AV+EV+D68Dm/Br+O9+CD+lUAjaBMsCe6EUEISIYMwi1BMKCPsIZwgXID7po/wjkgkMommRBe4L5OJWcS5xFXErcTDxCZiJ/ExcYhEImmSLEmepCgSm1RAKiZtIR0gnSV1kfpIH8iKZD2yPTmInEIWkJeQy8j7yWfIXeRn5GEFZQVjBXeFKAWuwhyFNQq7FRoVrin0KQxTVCimFE9KHCWLsphSTjlEuUC5T3mjqKhooOimOFmRr7hIsVzxiOIlxV7Fj1RVqgXVnzqVKqaupu6lNlHvUN/QaDQTmg8thVZAW02roZ2nPaR9oDPoNvRQOpe+kF5Jr6N30V8qKSgZK/kqTVcqUipTOqZ0TWlAWUHZRNlfma28QLlS+aRyt/KQCkPFTiVKJVdllcp+lcsqz1VJqiaqgapc1WWqu1TPqz5mYAxDhj+Dw1jK2M24wOhTI6qZqoWqZamVqh1Ua1cbVFdVd1RPUJ+tXql+Wr2HiTFNmKHMHOYa5lHmLeancTrjfMfxxq0cd2hc17j3GuM1fDR4GiUahzVuanzSZGkGamZrrtOs13yghWtZaE3WmqW1TeuC1sB4tfEe4znjS8YfHX9XG9W20I7Rnqu9S7tNe0hHVydYJ09ni855nQFdpq6PbpbuRt0zuv16DD0vPb7eRr2zen+w1Fm+rBxWOauFNaivrR+iL9bfqd+uP2xgahBvsMTgsMEDQ4qhq2G64UbDZsNBIz2jSUbzjGqN7horGLsaZxpvNm41fm9iapJostyk3uS5qYZpqGmRaa3pfTOambdZvlm12Q1zormrebb5VvMOC9TCySLTotLimiVq6WzJt9xq2WlFsHKzElhVW3VbU619rQuta617bZg2ETZLbOptXk4wmpAyYd2E1glfbZ1sc2x3296zU7ULs1ti12j32t7CnmNfaX/DgeYQ5LDQocHhlaOlI89xm+NtJ4bTJKflTs1OX5xdnIXOh5z7XYxcUl2qXLpd1VyjXVe5XnIjuPm5LXQ75fbR3dm9wP2o+18e1h7ZHvs9nk80ncibuHviY08DT7bnTs8eL5ZXqtcOrx5vfW+2d7X3Ix9DH67PHp9nvua+Wb4HfF/62foJ/U74vfd395/v3xSABQQHlAS0B6oGxgdWBD4MMgjKCKoNGgx2Cp4b3BRCCAkPWRfSHaoTygmtCR0McwmbH9YSTg2PDa8IfxRhESGMaJyETgqbtGHS/UjjSEFkfRSICo3aEPUg2jQ6P/q3ycTJ0ZMrJz+NsYuZF9May4idEbs/9l2cX9yauHvxZvHi+OYEpYSpCTUJ7xMDEtcn9iRNSJqfdDVZK5mf3JBCSklI2ZMyNCVwyqYpfVOdphZPvTXNdNrsaZena03PmX56htIM9oxjqYTUxNT9qZ/ZUexq9lBaaFpV2iDHn7OZ84Lrw93I7ed58tbznqV7pq9Pf57hmbEhoz/TO7Msc4Dvz6/gv8oKydqe9T47Kntv9khOYs7hXHJuau5JgaogW9AyU3fm7JmdeZZ5xXk9+e75m/IHheHCPSJENE3UUKAGrzltYjPxT+LeQq/CysIPsxJmHZutMlswu22OxZyVc54VBRX9Mhefy5nbPE9/3uJ5vfN95+9cgCxIW9C80HDhsoV9i4IX7VtMWZy9+PcltkvWL3m7NHFp4zKdZYuWPf4p+KfaYnqxsLh7ucfy7SvwFfwV7SsdVm5Z+bWEW3Kl1La0rPTzKs6qKz/b/Vz+88jq9NXta5zXbFtLXCtYe2ud97p961XWF61/vGHShrqNrI0lG99umrHpcplj2fbNlM3izT3lEeUNW4y2rN3yuSKz4malX+XhKu2qlVXvt3K3dm3z2XZou8720u2fdvB33N4ZvLOu2qS6bBdxV+Gup7sTdrf+4vpLzR6tPaV7vuwV7O3ZF7Ovpcalpma/9v41tWituLb/wNQDHQcDDjYcsj608zDzcOkRcER85I9fU3+9dTT8aPMx12OHjhsfrzrBOFFSh9TNqRusz6zvaUhu6DwZdrK50aPxxG82v+09pX+q8rT66TVnKGeWnRk5W3R2qCmvaeBcxrnHzTOa751POn+jZXJL+4XwC5cuBl083+rbevaS56VTl90vn7zieqX+qvPVujanthO/O/1+ot25ve6ay7WGDreOxs6JnWe6vLvOXQ+4fvFG6I2rNyNvdt6Kv3W7e2p3z23u7ed3cu68ult4d/jeovuE+yUPlB+UPdR+WP0P838c7nHuOd0b0Nv2KPbRvcecxy+eiJ587lv2lPa07Jnes5rn9s9P9Qf1d/wx5Y++F3kvhgeK/1T5s+ql2cvjf/n81TaYNNj3Svhq5PWqN5pv9r51fNs8FD308F3uu+H3JR80P+z76Pqx9VPip2fDsz6TPpd/Mf/S+DX86/2R3JGRPLaQLb0KYLCh6ekAvN4LAC0Z3h06AKDQZW8vqSCy96IUgf+EZe8zqTgDsNcHgPhFAETAO8o22IwhpsJecvWO8wGog8NYk4so3cFeFosKXzCEDyMjb3QAIDUC8EU4MjK8dWTky25I9g4ATfmyN59EiPB+v0NTgtq6lcGP8k+jy2wuULUO7QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAgRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE5MjwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4xOTI8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KWzVoKAAABY5JREFUWAmNlkdPa00Mhp0Qeu9FCHLpfcEKdgEhgYRY8Df4VQiJv8B3t6xYIS4SQvTeOyS0EODLY/C5AzcELCVzzozH89p+7Tm+17jID8TUfD7fl9qvEjf1bi2Znmsg4L4kek508PPzs8RiMXl5eREO8vv9EggEdJR3fOz7CYikAFwj0WhUrq6u5Pr6WiKRiAcA0CkpKZKWliZ5eXmSn5+vI3OIa0MnPv354goJU2AbOfjw8FBOTk6E54yMDMnJyZHMzEz1Gr2npye5u7tTYDyzXllZKaWlpRoFs/XpbH39B4CrfHFxIVtbW3J/fy/FxcVSXl6uxlNTUxPZksfHR43S0dGhhMMRKSkukeCvoIJ27bqbPwCARL73JOL19va2elpTUyOFhYXuPg2tO+HmG44cHx/rflLT3NyswBOB+AjgnThHR0eyubkpeNrS0uJttgPdw2yOkQMQW4cvq6urOtfa2irZ2dn/cMKvq/E/QwfRCDvKyM7OjubYjDKHbqIfOvxsDULiANUCEPhh69hBFIAdTmkRdjwnbIQeHrCZNTvgqxGDmkYHCISsq6uTyG1EDg4OUImH6G3g/0MZwvRwOKyo09PTpaysTL0BwNLSkhBGvCBKrBtwRrwsKCjQyrD+YMeUlJRIxVWFVhNkBpTtDdjDc+yNOBhBCWEN5hORxcVFjQTlNTMzI8vLy1r7RIaShHgDAwPS0dHx1pDeTzf77Ds9PdUfAEy8CIQjYa3lhoYGL0+EGjIibW1tCoKuFwqFpKKiQnJzc9XjjY0NXZubm5OHhwcv10QMHgACTlFJpLS6ulqdYt4jIYylndLNXNnd3ZXJyUm5vLyU9vZ2bUhUSW9vrzYajPT19cnw8LCu/Zn7I4Qc4Ofn52oKHQQA9Ar6iokfL5H7u3ttGOTWFd6zsrJkampKw4dXZ2dnXjRmZ2cVYDAYVFBp6WnqoXVB1xZ26DMfAKAAaaJPUSUWIXaFNbto5ufn1QvSQSgh4+joqHJhenpaSQqJx8fHZWFhQcPs2oJLKYEUbek275UhB30+3JQIISSDSHS445NjJRup2Nvbk5GREY0SOkVFRZpzu4zMBiP2iThnmSgAq2t3wRRsRIcLh8vo93+/FUhXV5emg7YNJwBKZGi/lnfbz8gcP0s7cwoAZISH2+7l9S86FBCAUWpra2v6PDg4KBMTE9q0qBo4sb6+ruBoXlzXiSJADyFKADTxG1IO0BKKPtmajqAFIDxAyHUwTrixsTFtWvSN7u5uBUGnC4VC2vmoKtdT9mIfZ4iiidcHKD8MQCK3y4HajAF2ZWVFy62np0fZzjsGGxsbNUJ8klGW7KPkXKGU8Z5qMPEA0FQ4mHBSx0bI2tpaGRoa0hSBnnm63+3trR7AHNyguXDx0DF9fp/09/d7UWMPYABAL7AUEKEAf3jGJLULq/HYOhg55fcTIY2AoE0DsqmpydtGxTDH/YIYGZWEpkV7JQo78RsRsgAOD1H+7mdGcYKD8ZZoxJ5jmtaD/QN1EMcQ44f3QWKIuDDwADAwHLE1ffnmz3RPT05lfWNd7ws8p8I6OzuVL6aDKY8DhggPyCkfIjAfDlia2GB6PH8WDJuUlpVqd8UOHICkkNU9HF0PAC+2yKE87+3uad+m7MiviXuQzTG64GhIRJN+UF9f73VIV0f3xI39hR2f4dWUKEvzgJQQHRcIBlyBLzQhCMfh6PI1RK9w7bp7PA64k64yBvf39/VqxRs+JugZhNO6HTVP2m5ubrQ8SR0fMlVVVd69b0655/CcEIApuUBoUNzvlKh1NNbVCPUcP5QGQ51zIVm3c22YXXdMCgDFzwYIM4y2vo5nRII+Yg3G9jF+5TlryLcA3tTegOiG+IHJxI1KMj1b+zEA22AH2Ls7fuetq2vP/wN/o8DJjhdluQAAAABJRU5ErkJggg=="}}])&&i(t,n),e}()},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(35)("wks"),i=n(18),o=n(1).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(1),i=n(16),o=n(11),a=n(12),s=n(19),c=function(e,t,n){var l,u,f,h,d=e&c.F,p=e&c.G,m=e&c.S,v=e&c.P,g=e&c.B,y=p?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,w=p?i:i[t]||(i[t]={}),x=w.prototype||(w.prototype={});for(l in p&&(n=t),n)f=((u=!d&&y&&void 0!==y[l])?y:n)[l],h=g&&u?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,y&&a(y,l,f,e&c.U),w[l]!=f&&o(w,l,h),v&&x[l]!=f&&(x[l]=f)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(6)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(14),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(4),i=n(62),o=n(28),a=Object.defineProperty;t.f=n(5)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(3);r(r.S+r.F*!n(5),"Object",{defineProperty:n(8).f})},function(e,t,n){var r=n(8),i=n(29);e.exports=n(5)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(1),i=n(11),o=n(13),a=n(18)("src"),s=n(88),c=(""+s).split("toString");n(16).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(24);e.exports=function(e){return Object(r(e))}},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(23);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(43),i=n(24);e.exports=function(e){return r(i(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r,i,o,a,s=n(17),c=n(1),l=n(19),u=n(39),f=n(3),h=n(9),d=n(23),p=n(48),m=n(93),v=n(49),g=n(69).set,y=n(95)(),w=n(71),x=n(96),b=n(97),_=n(98),k=c.TypeError,E=c.process,I=E&&E.versions,C=I&&I.v8||"",S=c.Promise,T="process"==u(E),A=function(){},L=i=w.f,M=!!function(){try{var e=S.resolve(1),t=(e.constructor={})[n(2)("species")]=function(e){e(A,A)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==C.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(e){}}(),P=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(i||(2==e._h&&B(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?l(k("Promise-chain cycle")):(o=P(n))?o.call(n,c,l):c(n)):l(r)}catch(e){u&&!a&&u.exit(),l(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&F(e)}))}},F=function(e){g.call(c,(function(){var t,n,r,i=e._v,o=z(e);if(o&&(t=x((function(){T?E.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=T||z(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},z=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){g.call(c,(function(){var t;T?E.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})}))},O=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},R=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=P(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,l(R,r,1),l(O,r,1))}catch(e){O.call(r,e)}})):(n._v=e,n._s=1,D(n,!1))}catch(e){O.call({_w:n,_d:!1},e)}}};M||(S=function(e){p(this,S,"Promise","_h"),d(e),r.call(this);try{e(l(R,this,1),l(O,this,1))}catch(e){O.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(50)(S.prototype,{then:function(e,t){var n=L(v(this,S));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(R,e,1),this.reject=l(O,e,1)},w.f=L=function(e){return e===S||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!M,{Promise:S}),n(30)(S,"Promise"),n(51)("Promise"),a=n(16).Promise,f(f.S+f.F*!M,"Promise",{reject:function(e){var t=L(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!M),"Promise",{resolve:function(e){return _(s&&this===a?S:this,e)}}),f(f.S+f.F*!(M&&n(72)((function(e){S.all(e).catch(A)}))),"Promise",{all:function(e){var t=this,n=L(t),r=n.resolve,i=n.reject,o=x((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,c=!1;n.push(void 0),a++,t.resolve(e).then((function(e){c||(c=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=L(t),r=n.reject,i=x((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(63),i=n(46).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",l="object"==typeof e,u=t.regeneratorRuntime;if(u)l&&(e.exports=u);else{(u=t.regeneratorRuntime=l?e.exports:{}).wrap=x;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",m={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(M([])));y&&y!==r&&i.call(y,a)&&(v=y);var w=E.prototype=_.prototype=Object.create(v);k.prototype=w.constructor=E,E.constructor=k,E[c]=k.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(w),e},u.awrap=function(e){return{__await:e}},I(C.prototype),C.prototype[s]=function(){return this},u.AsyncIterator=C,u.async=function(e,t,n,r){var i=new C(x(e,t,n,r));return u.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},I(w),w[c]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=M,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:M(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function x(e,t,n,r){var i=t&&t.prototype instanceof _?t:_,o=Object.create(i.prototype),a=new L(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=b(e,t,n);if("normal"===c.type){if(r=n.done?p:h,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function _(){}function k(){}function E(){}function I(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function C(e){var t;this._invoke=function(n,r){function o(){return new Promise((function(t,o){!function t(n,r,o,a){var s=b(e[n],e,r);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return t("throw",e,o,a)}))}a(s.arg)}(n,r,t,o)}))}return t=t?t.then(o,o):o()}}function S(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,S(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=b(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function M(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t){e.exports={}},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(8).f,i=n(13),o=n(2)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(63),i=n(46);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(4),i=n(91),o=n(46),a=n(45)("IE_PROTO"),s=function(){},c=function(){var e,t=n(42)("iframe"),r=o.length;for(t.style.display="none",n(66).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){n(60)("asyncIterator")},function(e,t,n){var r=n(16),i=n(1),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(17)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(5),a=n(3),s=n(12),c=n(89).KEY,l=n(6),u=n(35),f=n(30),h=n(18),d=n(2),p=n(61),m=n(60),v=n(90),g=n(65),y=n(4),w=n(9),x=n(20),b=n(28),_=n(29),k=n(32),E=n(92),I=n(38),C=n(8),S=n(31),T=I.f,A=C.f,L=E.f,M=r.Symbol,P=r.JSON,D=P&&P.stringify,F=d("_hidden"),z=d("toPrimitive"),B={}.propertyIsEnumerable,O=u("symbol-registry"),R=u("symbols"),N=u("op-symbols"),j=Object.prototype,H="function"==typeof M,W=r.QObject,V=!W||!W.prototype||!W.prototype.findChild,Z=o&&l((function(){return 7!=k(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=T(j,t);r&&delete j[t],A(e,t,n),r&&e!==j&&A(j,t,r)}:A,G=function(e){var t=R[e]=k(M.prototype);return t._k=e,t},U=H&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},Y=function(e,t,n){return e===j&&Y(N,t,n),y(e),t=b(t,!0),y(n),i(R,t)?(n.enumerable?(i(e,F)&&e[F][t]&&(e[F][t]=!1),n=k(n,{enumerable:_(0,!1)})):(i(e,F)||A(e,F,_(1,{})),e[F][t]=!0),Z(e,t,n)):A(e,t,n)},X=function(e,t){y(e);for(var n,r=v(t=x(t)),i=0,o=r.length;o>i;)Y(e,n=r[i++],t[n]);return e},q=function(e){var t=B.call(this,e=b(e,!0));return!(this===j&&i(R,e)&&!i(N,e))&&(!(t||!i(this,e)||!i(R,e)||i(this,F)&&this[F][e])||t)},K=function(e,t){if(e=x(e),t=b(t,!0),e!==j||!i(R,t)||i(N,t)){var n=T(e,t);return!n||!i(R,t)||i(e,F)&&e[F][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=L(x(e)),r=[],o=0;n.length>o;)i(R,t=n[o++])||t==F||t==c||r.push(t);return r},Q=function(e){for(var t,n=e===j,r=L(n?N:x(e)),o=[],a=0;r.length>a;)!i(R,t=r[a++])||n&&!i(j,t)||o.push(R[t]);return o};H||(s((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===j&&t.call(N,n),i(this,F)&&i(this[F],e)&&(this[F][e]=!1),Z(this,e,_(1,n))};return o&&V&&Z(j,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",(function(){return this._k})),I.f=K,C.f=Y,n(25).f=E.f=J,n(47).f=q,n(64).f=Q,o&&!n(17)&&s(j,"propertyIsEnumerable",q,!0),p.f=function(e){return G(d(e))}),a(a.G+a.W+a.F*!H,{Symbol:M});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)d($[ee++]);for(var te=S(d.store),ne=0;te.length>ne;)m(te[ne++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(O,e+="")?O[e]:O[e]=M(e)},keyFor:function(e){if(!U(e))throw TypeError(e+" is not a symbol!");for(var t in O)if(O[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?k(e):X(k(e),t)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:K,getOwnPropertyNames:J,getOwnPropertySymbols:Q}),P&&a(a.S+a.F*(!H||l((function(){var e=M();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(w(t)||void 0!==e)&&!U(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!U(t))return t}),r[1]=t,D.apply(P,r)}}),M.prototype[z]||n(11)(M.prototype,z,M.prototype.valueOf),f(M,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(14),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(47),i=n(29),o=n(20),a=n(28),s=n(13),c=n(62),l=Object.getOwnPropertyDescriptor;t.f=n(5)?l:function(e,t){if(e=o(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(21),i=n(2)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){"use strict";var r=n(4);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(102),i=n(103),o=n(27),a=n(20);e.exports=n(75)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r=n(9),i=n(1).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(21);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(20),i=n(7),o=n(37);e.exports=function(e){return function(t,n,a){var s,c=r(t),l=i(c.length),u=o(a,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(35)("keys"),i=n(18);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(4),i=n(23),o=n(2)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r=n(12);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(1),i=n(8),o=n(5),a=n(2)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(9),i=n(21),o=n(2)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){for(var r=n(41),i=n(31),o=n(12),a=n(1),s=n(11),c=n(27),l=n(2),u=l("iterator"),f=l("toStringTag"),h=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),m=0;m<p.length;m++){var v,g=p[m],y=d[g],w=a[g],x=w&&w.prototype;if(x&&(x[u]||s(x,u,h),x[f]||s(x,f,g),c[g]=h,y))for(v in r)x[v]||o(x,v,r[v],!0)}},function(e,t,n){"use strict";var r=n(3),i=n(55)(0),o=n(33)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(19),i=n(43),o=n(15),a=n(7),s=n(105);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,f=6==e,h=5==e||f,d=t||s;return function(t,s,p){for(var m,v,g=o(t),y=i(g),w=r(s,p,3),x=a(y.length),b=0,_=n?d(t,x):c?d(t,0):void 0;x>b;b++)if((h||b in y)&&(v=w(m=y[b],b,g),e))if(n)_[b]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return b;case 2:_.push(m)}else if(u)return!1;return f?-1:l||u?u:_}}},function(e,t,n){"use strict";var r=n(77)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r=n(39),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";var r,i,o=n(40),a=RegExp.prototype.exec,s=String.prototype.replace,c=a,l=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(e){var t,n,r,i,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",o.call(c))),l&&(t=c.lastIndex),r=a.call(c,e),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=c},function(e,t,n){"use strict";n(108);var r=n(12),i=n(11),o=n(6),a=n(24),s=n(2),c=n(58),l=s("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var h=s(e),d=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),p=d?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[h](""),!t})):void 0;if(!d||!p||"replace"===e&&!u||"split"===e&&!f){var m=/./[h],v=n(a,h,""[e],(function(e,t,n,r,i){return t.exec===c?d&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=v[0],y=v[1];r(String.prototype,e,g),i(RegExp.prototype,h,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},function(e,t,n){var r=n(1),i=n(16),o=n(17),a=n(61),s=n(8).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(2)},function(e,t,n){e.exports=!n(5)&&!n(6)((function(){return 7!=Object.defineProperty(n(42)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(13),i=n(20),o=n(44)(!1),a=n(45)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),c=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~o(l,n)||l.push(n));return l}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(21);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(1).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(27),i=n(2)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(39),i=n(2)("iterator"),o=n(27);e.exports=n(16).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r,i,o,a=n(19),s=n(70),c=n(66),l=n(42),u=n(1),f=u.process,h=u.setImmediate,d=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},w=function(e){y.call(e.data)};h&&d||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},d=function(e){delete g[e]},"process"==n(21)(f)?r=function(e){f.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:p?(o=(i=new p).port2,i.port1.onmessage=w,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",w,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:h,clear:d}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var r=n(23);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(2)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){var r=n(9),i=n(74).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){var r=n(9),i=n(4),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(19)(Function.call,n(38).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){"use strict";var r=n(17),i=n(3),o=n(12),a=n(11),s=n(27),c=n(104),l=n(30),u=n(76),f=n(2)("iterator"),h=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,n,p,m,v,g){c(n,t,p);var y,w,x,b=function(e){if(!h&&e in I)return I[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",k="values"==m,E=!1,I=e.prototype,C=I[f]||I["@@iterator"]||m&&I[m],S=C||b(m),T=m?k?b("entries"):S:void 0,A="Array"==t&&I.entries||C;if(A&&(x=u(A.call(new e)))!==Object.prototype&&x.next&&(l(x,_,!0),r||"function"==typeof x[f]||a(x,f,d)),k&&C&&"values"!==C.name&&(E=!0,S=function(){return C.call(this)}),r&&!g||!h&&!E&&I[f]||a(I,f,S),s[t]=S,s[_]=d,m)if(y={values:k?S:b("values"),keys:v?S:b("keys"),entries:T},g)for(w in y)w in I||o(I,w,y[w]);else i(i.P+i.F*(h||E),t,y);return y}},function(e,t,n){var r=n(13),i=n(15),o=n(45)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(14),i=n(24);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(4),i=n(15),o=n(7),a=n(14),s=n(56),c=n(57),l=Math.max,u=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;n(59)("replace",2,(function(e,t,n,p){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=p(n,e,this,t);if(i.done)return i.value;var f=r(e),h=String(this),d="function"==typeof t;d||(t=String(t));var v=f.global;if(v){var g=f.unicode;f.lastIndex=0}for(var y=[];;){var w=c(f,h);if(null===w)break;if(y.push(w),!v)break;""===String(w[0])&&(f.lastIndex=s(h,o(f.lastIndex),g))}for(var x,b="",_=0,k=0;k<y.length;k++){w=y[k];for(var E=String(w[0]),I=l(u(a(w.index),h.length),0),C=[],S=1;S<w.length;S++)C.push(void 0===(x=w[S])?x:String(x));var T=w.groups;if(d){var A=[E].concat(C,I,h);void 0!==T&&A.push(T);var L=String(t.apply(void 0,A))}else L=m(E,h,I,C,T,t);I>=_&&(b+=h.slice(_,I)+L,_=I+E.length)}return b+h.slice(_)}];function m(e,t,r,o,a,s){var c=r+e.length,l=o.length,u=d;return void 0!==a&&(a=i(a),u=h),n.call(s,u,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>l){var h=f(u/10);return 0===h?n:h<=l?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},function(e,t,n){"use strict";n(80)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,n){var r=n(3),i=n(24),o=n(6),a=n(118),s="["+a+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(e,t,n){var i={},s=o((function(){return!!a[e]()||"​"!="​"[e]()})),c=i[e]=s?t(f):a[e];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},f=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},function(e,t,n){var r=n(3);r(r.S,"Object",{create:n(32)})},function(e,t,n){for(var r,i=n(1),o=n(11),a=n(18),s=a("typed_array"),c=a("view"),l=!(!i.ArrayBuffer||!i.DataView),u=l,f=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[h[f++]])?(o(r.prototype,s,!0),o(r.prototype,c,!0)):u=!1;e.exports={ABV:l,CONSTR:u,TYPED:s,VIEW:c}},function(e,t,n){var r=n(14),i=n(7);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){"use strict";var r=n(15),i=n(37),o=n(7);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:i(c,n);l>s;)t[s++]=e;return t}},function(e,t,n){"use strict";n(34),n(36),n(10),n(79),n(78),n(22),n(26);var r=n(0);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n(119),n(41),n(120),n(53),n(54),n(121),n(81),n(123),n(127),n(129),n(130),n(131),n(132);var c=function(){function e(){o(this,e),this.defaultZoomSpeed=.065,this.defaultDoubleTapZoomSpeed=1.75,this.doubleTapSpeedInMS=300,this.containerElement=null,this.preventTextSelection=new l,this.wheel=new u}return s(e,[{key:"create",value:function(e,t){var n=this;if(n.filterKey=function(){return{}},t&&t.filterKey&&"function"==typeof t.filterKey&&(n.filterKey=t.filterKey),null!=e){n.containerElement=e;var r=(t=t||{}).controller;if(r||(e instanceof SVGElement&&(r=n.makeSvgController(e,t)),e instanceof HTMLElement&&(r=n.makeDomController(e,t))),!r)throw new Error("Cannot create panzoom for the current type of dom element");var i=r.getOwner(),o={x:0,y:0},a=!1,s=new n.Transform(t&&t.transform);r.initTransform&&r.initTransform(s);var c,l="number"==typeof t.pinchSpeed?t.pinchSpeed:1,u=t.bounds,f="number"==typeof t.maxZoom?t.maxZoom:Number.POSITIVE_INFINITY,h="number"==typeof t.minZoom?t.minZoom:0,d="number"==typeof t.boundsPadding?t.boundsPadding:.05,p="number"==typeof t.zoomDoubleClickSpeed?t.zoomDoubleClickSpeed:this.defaultDoubleTapZoomSpeed,m=t.beforeWheel||function(){return!1},v="number"==typeof t.zoomSpeed?t.zoomSpeed:this.defaultZoomSpeed;this.validateBounds(u),t.autocenter&&function(){var e,t,n=0,o=0,a=B();if(a)n=a.left,o=a.top,e=a.right-a.left,t=a.bottom-a.top;else{var c=i.getBoundingClientRect();e=c.width,t=c.height}var l=r.getBBox();if(0!==l.width&&0!==l.height){var u=t/l.height,f=e/l.width,h=Math.min(f,u);s.x=-(l.left+l.width/2)*h+e/2+n,s.y=-(l.top+l.height/2)*h+t/2+o,s.scale=h,b&&b.clamp(s)}}();var g,y,w,x,b=t.clampHandler||null,_=t.swipeVerticalHandler||null,k=0,E=!1,I=!1;x="smoothScroll"in t&&!t.smoothScroll?this.rigidScroll():this.kinetic((function(){return{x:s.x,y:s.y}}),(function(e,t){if(re(),b){var n=[e,t];b.constrain(n),e=n[0],t=n[1]}F(e,t)}),t.smoothScroll);var C,S,T,A=!1;M();var L={dispose:function(){P()},moveBy:j,moveTo:F,minZoom:h,centerOn:function(e){var t=e.ownerSVGElement;if(!t)throw new Error("ui element is required to be within the scene");var n=e.getBoundingClientRect(),r=n.left+n.width/2,i=n.top+n.height/2,o=t.getBoundingClientRect();j(o.width/2-r,o.height/2-i,!0)},zoomTo:ne,zoomAbs:N,smoothZoom:te,smoothScroll:x,setTransform:function(e){s.x=e.x,s.y=e.y,s.scale=e.scale},cancelZoomAnimation:re,showRectangle:function(e){var t=i.getBoundingClientRect(),n=D(t.width,t.height),r=e.right-e.left,o=e.bottom-e.top;if(!Number.isFinite(r)||!Number.isFinite(o))throw new Error("Invalid rectangle");var a=n.x/r,c=n.y/o,l=Math.min(a,c);s.x=-(e.left+r/2)*l+n.x/2,s.y=-(e.top+o/2)*l+n.y/2,s.scale=l,b&&b.clamp(s)},pause:function(){P(),A=!0},resume:function(){A&&(M(),A=!1)},isPaused:function(){return A},getTransform:function(){return s},getMinZoom:function(){return h},getMaxZoom:function(){return f},setMinZoom:function(e){h=e},setMaxZoom:function(e){f=e},mouseX:g,mouseY:y,clampHandler:b,onKeyDown:W};return n.eventify(L),L}function M(){i.addEventListener("mousedown",X),i.addEventListener("touchstart",V),i.addEventListener("keydown",W),n.wheel.addWheelListener(e,$),O()}function P(){n.wheel.removeWheelListener(e,$),i.removeEventListener("mousedown",X),i.removeEventListener("keydown",W),i.removeEventListener("touchstart",V),c&&(window.cancelAnimationFrame(c),c=0),x.cancel(),J(),Q(),ae()}function D(e,t){if(r.getScreenCTM){var n=r.getScreenCTM(),i=n.a,a=n.d,s=n.e,c=n.f;o.x=e*i-s,o.y=t*a-c}else o.x=e,o.y=t;return o}function F(e,t){s.x=e,s.y=t,b&&b.clamp(s),function(){var e;if(e=B()){var t,n,i,o,a=(i=(t=r.getBBox()).left,o=t.top,{left:(n={x:i*s.scale+s.x,y:o*s.scale+s.y}).x,top:n.y,right:t.width*s.scale+n.x,bottom:t.height*s.scale+n.y}),c=e.left-a.right;c>0&&(s.x=s.x+c,b&&b.clamp(s),!0),(c=e.right-a.left)<0&&(s.x=s.x+c,b&&b.clamp(s),!0),(c=e.top-a.bottom)>0&&(s.y=s.y+c,b&&b.clamp(s),!0),(c=e.bottom-a.top)<0&&(s.y=s.y+c,b&&(s=b.clamp(s)),!0)}}(),se("pan"),O()}function z(e,t){F(s.x+e,s.y+t)}function B(){if(u){if("boolean"==typeof u){var e=i.getBoundingClientRect(),t=e.width,n=e.height;return{left:t*d,top:n*d,right:t*(1-d),bottom:n*(1-d)}}return u}}function O(){a=!0,c=window.requestAnimationFrame(H)}function R(e,t,r){if(n.isNaN(e)||n.isNaN(t)||n.isNaN(r))throw new Error("zoom requires valid numbers");s.scale=s.scale*r;var i=D(e,t);s.x=i.x-r*(i.x-s.x),s.y=i.y-r*(i.y-s.y),b&&b.clamp(s,{fix:1}),se("zoom"),O()}function N(e,t,n){R(e,t,n/s.scale)}function j(e,t,r){if(0!=e||0!=t){if(b){var i=[e,t];b.constrainRelative(i),e=i[0],t=i[1]}if(0!=e||0!=t){if(!r)return z(e,t);C&&C.cancel();var o={x:e,y:t},a=0,s=0;C=n.animate({x:0,y:0},o,{step:function(e){z(e.x-a,e.y-s),a=e.x,s=e.y}})}}}function H(){a&&(a=!1,r.applyTransform(s),se("transform"),c=0)}function W(e){var t=0,r=0,o=0;if(38===e.keyCode?r=1:40===e.keyCode?r=-1:37===e.keyCode?t=1:39===e.keyCode?t=-1:189===e.keyCode||109===e.keyCode?o=1:187!==e.keyCode&&107!==e.keyCode||(o=-1),!n.filterKey||"function"!=typeof n.filterKey||!n.filterKey(e,t,r,o)){if(t||r){e.preventDefault(),e.stopPropagation();var a=i.getBoundingClientRect(),s=Math.min(a.width,a.height);j(.05*s*t,.05*s*r)}if(o){var c=ie(o),l=i.getBoundingClientRect();ne(l.width/2,l.height/2,c)}}}function V(e){if(function(e){t.onTouch&&!t.onTouch(e)||(e.stopPropagation(),e.preventDefault())}(e),1===e.touches.length)return function(e){var t=ee(e.touches[0]);g=t.x,y=t.y,x.cancel(),Z()}(e,e.touches[0]);2===e.touches.length&&(w=Y(e.touches[0],e.touches[1]),T=!0,Z())}function Z(){E||(E=!0,document.addEventListener("touchmove",G),document.addEventListener("touchend",U),document.addEventListener("touchcancel",U))}function G(e){if(1===e.touches.length){e.stopPropagation();var t=ee(e.touches[0]),n=t.x-g,r=t.y-y;0!==n&&0!==r&&oe(),g=t.x,y=t.y;var i=D(n,r);j(i.x,i.y)}else if(2===e.touches.length){T=!0;var o=e.touches[0],a=e.touches[1],s=Y(o,a),c=1+(s/w-1)*l;g=(o.clientX+a.clientX)/2,y=(o.clientY+a.clientY)/2,ne(g,y,c),w=s,e.stopPropagation(),e.preventDefault()}}function U(e){if(e.touches.length>0){var t=ee(e.touches[0]);g=t.x,y=t.y}else{var r=new Date;r-k<n.doubleTapSpeedInMS&&te(g,y,p),k=r,E=!1,ae(),Q()}}function Y(e,t){var n=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(n*n+r*r)}function X(e){if(E)return e.stopPropagation(),!1;if(1===e.button&&null!==window.event||0===e.button){x.cancel();var t=ee(e),r=D(t.x,t.y);return g=r.x,y=r.y,n.swipe||(n.swipe={ix:0,iy:0,dx:0,dy:0,timestamp:null}),n.swipe.x=g,n.swipe.y=y,n.swipe.timestamp=(new Date).getTime(),n.swipe.expires=n.swipe.timestamp+1e3,document.addEventListener("mousemove",q),document.addEventListener("mouseup",K),n.preventTextSelection.capture(e.target||e.srcElement),!1}}function q(e){if(!E){oe();var t=ee(e),n=D(t.x,t.y),r=n.x-g,i=n.y-y;g=n.x,y=n.y,j(r,i)}}function K(e){n.preventTextSelection.release(),ae(),J();var t=(new Date).getTime();if(n.swipe){if(n.swipe.expires&&t<=n.swipe.expires){var r=ee(e),i=D(r.x,r.y),o=i.x-n.swipe.x,a=i.y-n.swipe.y,s=Math.abs(o);s<30&&a>20?_&&_("down"):s<30&&a<-20&&_&&_("up")}n.swipe.x=0,n.swipe.y=0,n.swipe.timestamp=null,n.swipe.expires=null}}function J(){document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",K),I=!1}function Q(){document.removeEventListener("touchmove",G),document.removeEventListener("touchend",U),document.removeEventListener("touchcancel",U),I=!1,T=!1}function $(e){if(!m(e)){x.cancel();var t=ie(e.deltaY);if(1!==t){var n=ee(e);ne(n.x,n.y,t),e.preventDefault()}}}function ee(e){var t=i.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function te(e,t,r){var i=s.scale,o={scale:i},a={scale:r*i};x.cancel(),re(),S=n.animate(o,a,{step:function(n){N(e,t,n.scale)}})}function ne(e,t,n){return x.cancel(),re(),R(e,t,n)}function re(){S&&(S.cancel(),S=null)}function ie(e){var t=1;return e>0?t=1-v:e<0&&(t=1+v),t}function oe(){I||(se("panstart"),I=!0,x.start())}function ae(){I&&(T||x.stop(),se("panend"))}function se(e){L.fire(e,L)}}},{key:"validateBounds",value:function(e){var t=i(e);if("undefined"!==t&&"boolean"!==t&&!(this.isNumber(e.left)&&this.isNumber(e.top)&&this.isNumber(e.bottom)&&this.isNumber(e.right)))throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}},{key:"isNumber",value:function(e){return Number.isFinite(e)}},{key:"isNaN",value:function(e){return Number.isNaN?Number.isNaN(e):e!=e}},{key:"rigidScroll",value:function(){function e(){return{}}return{start:e,stop:e,cancel:e}}},{key:"makeDomController",value:function(e,t){if(!(e instanceof HTMLElement))throw new Error("svg element is required for svg.panzoom to work");var n=e.parentElement;if(!n)throw new Error("Do not apply panzoom to the detached DOM element. ");return e.scrollTop=0,t.disableKeyboardInteraction||n.setAttribute("tabindex",0),{getBBox:function(){return{left:0,top:0,width:e.clientWidth,height:e.clientHeight}},getOwner:function(){return n},applyTransform:function(t){e.style.transformOrigin="0 0 0",e.style.transform="matrix("+t.scale+", 0, 0, "+t.scale+", "+t.x+", "+t.y+")"}}}},{key:"kinetic",value:function(e,t,n){"object"!==i(n)&&(n={});var r,o,a,s,c,l,u,f,h,d,p="number"==typeof n.minVelocity?n.minVelocity:5,m="number"==typeof n.amplitude?n.amplitude:.25;return{start:function(){r=e(),l=h=s=u=0,o=new Date,window.clearInterval(a),window.cancelAnimationFrame(d),a=window.setInterval(v,100)},stop:function(){window.clearInterval(a),window.cancelAnimationFrame(d);var t=e();c=t.x,f=t.y,o=Date.now(),(s<-p||s>p)&&(c+=l=m*s),(u<-p||u>p)&&(f+=h=m*u),d=window.requestAnimationFrame(g)},cancel:function(){window.clearInterval(a),window.cancelAnimationFrame(d)}};function v(){var t=Date.now(),n=t-o;o=t;var i=e(),a=i.x-r.x,c=i.y-r.y;r=i;var l=1e3/(1+n);s=.8*a*l+.2*s,u=.8*c*l+.2*u}function g(){var e=Date.now()-o,n=!1,r=0,i=0;l&&((r=-l*Math.exp(-e/342))>.5||r<-.5?n=!0:r=l=0),h&&((i=-h*Math.exp(-e/342))>.5||i<-.5?n=!0:i=h=0),n&&(t(c+r,f+i),d=window.requestAnimationFrame(g))}}},{key:"makeSvgController",value:function(e,t){if(!(e instanceof SVGElement))throw new Error("svg element is required for svg.panzoom to work");var n=e.ownerSVGElement;if(!n)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");return t.disableKeyboardInteraction||n.setAttribute("tabindex",0),{getBBox:function(){var t=e.getBBox();return{left:t.x,top:t.y,width:t.width,height:t.height}},getScreenCTM:function(){return n.getScreenCTM()},getOwner:function(){return n},applyTransform:function(t){e.setAttribute("transform","matrix("+t.scale+" 0 0 "+t.scale+" "+t.x+" "+t.y+")")},initTransform:function(t){var r=e.getScreenCTM();t.x=r.e,t.y=r.f,t.scale=r.a,clampHandler&&clampHandler.clamp(t),n.removeAttributeNS(null,"viewBox")}}}},{key:"disabled",value:function(e){return e.stopPropagation(),!1}},{key:"Transform",value:function(e){e?(this.x=e.x,this.y=e.y,this.scale=e.scale):(this.x=0,this.y=0,this.scale=1)}},{key:"getScheduler",value:function(e){if(!e)return"undefined"!=typeof window&&window.requestAnimationFrame?this.rafScheduler():this.timeoutScheduler();if("function"!=typeof e.next)throw new Error("Scheduler is supposed to have next(cb) function");if("function"!=typeof e.cancel)throw new Error("Scheduler is supposed to have cancel(handle) function");return e}},{key:"rafScheduler",value:function(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}},{key:"timeoutScheduler",value:function(){return{next:function(e){return setTimeout(e,1e3/60)},cancel:function(e){return clearTimeout(e)}}}},{key:"BezierEasing",value:function(e,t,n,r){var i="function"==typeof Float32Array;function o(e,t,n){return((function(e,t){return 1-3*t+3*e}(t,n)*e+function(e,t){return 3*t-6*e}(t,n))*e+function(e){return 3*e}(t))*e}function a(e){return e}!function(e,t,n,r){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===r)return a;for(var s=i?new Float32Array(11):new Array(11),c=0;c<11;++c)s[c]=o(.1*c,e,n)}(e,t,n,r)}},{key:"animate",value:function(e,t,n){var r={ease:this.BezierEasing(.25,.1,.25,1),easeIn:this.BezierEasing(.42,0,1,1),easeOut:this.BezierEasing(0,0,.58,1),easeInOut:this.BezierEasing(.42,0,.58,1),linear:this.BezierEasing(0,0,1,1)},i=Object.create(null),o=Object.create(null),a="function"==typeof(n=n||{}).easing?n.easing:r[n.easing];a||(n.easing&&console.warn("Unknown easing function in amator: "+n.easing),a=r.ease);var s="function"==typeof n.step?n.step:function(){return!1},c="function"==typeof n.done?n.done:function(){return!1},l=this.getScheduler(n.scheduler),u=Object.keys(t);u.forEach((function(n){i[n]=e[n],o[n]=t[n]-e[n]}));var f,h="number"==typeof n.duration?n.duration:400,d=Math.max(1,.06*h),p=0;return f=l.next((function t(){var n=a(p/d);p+=1,function(t){u.forEach((function(n){e[n]=o[n]*t+i[n]}))}(n),p<=d?(f=l.next(t),s(e)):(f=0,setTimeout((function(){c(e)}),0))})),{cancel:function(){l.cancel(f),f=0}}}},{key:"eventify",value:function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var t=function(e){var t=Object.create(null);return{on:function(n,r,i){if("function"!=typeof r)throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){if(void 0===n)return t=Object.create(null),e;if(t[n])if("function"!=typeof r)delete t[n];else for(var i=t[n],o=0;o<i.length;++o)i[o].callback===r&&i.splice(o,1);return e},fire:function(n){var r,i=t[n];if(!i)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var o=0;o<i.length;++o){var a=i[o];a.callback.apply(a.ctx,r)}return e}}}(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}}]),e}(),l=function(){function e(){o(this,e),this.dragObject=null,this.prevSelectStart=null,this.prevDragStart=null}return s(e,[{key:"disabled",value:function(e){return e.stopPropagation(),!1}},{key:"capture",value:function(e){this.prevSelectStart=window.document.onselectstart,this.prevDragStart=window.document.ondragstart,window.document.onselectstart=this.disabled,this.dragObject=e,this.dragObject.ondragstart=this.disabled}},{key:"release",value:function(){window.document.onselectstart=this.prevSelectStart,this.dragObject&&(this.dragObject.ondragstart=this.prevDragStart)}}]),e}(),u=function(){function e(){o(this,e),this.prefix="",this._addEventListener=null,this._removeEventListener=null,this.support=void 0,this.detectEventModel("undefined"!=typeof window&&window,"undefined"!=typeof document&&document)}return s(e,[{key:"addWheelListener",value:function(e,t,n){this._addWheelListener(e,this.support,t,n),"DOMMouseScroll"==this.support&&this._addWheelListener(e,"MozMousePixelScroll",t,n)}},{key:"removeWheelListener",value:function(e,t,n){this._removeWheelListener(e,this.support,t,n),"DOMMouseScroll"==this.support&&_removeWheelListener(e,"MozMousePixelScroll",t,n)}},{key:"_addWheelListener",value:function(e,t,n,r){e[this._addEventListener](this.prefix+t,"wheel"==this.support?n:function(e){!e&&(e=window.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaY:0,deltaZ:0,clientX:e.clientX,clientY:e.clientY,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){e.stopImmediatePropagation&&e.stopImmediatePropagation()}};return"mousewheel"==this.support?(t.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX)):t.deltaY=e.detail,n(t)},r||!1)}},{key:"_removeWheelListener",value:function(e,t,n,r){e[this._removeEventListener](this.prefix+t,n,r||!1)}},{key:"detectEventModel",value:function(e,t){e&&e.addEventListener?(this._addEventListener="addEventListener",this._removeEventListener="removeEventListener"):(this._addEventListener="attachEvent",this._removeEventListener="detachEvent",this.prefix="on"),this.support=t?"onwheel"in t.createElement("div")?"wheel":void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll":"wheel"}}]),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t,this.padding=4,this.thumbnailSlider=n,this.panzoomInstance=n.panzoom_instance}var t,n,i;return t=e,i=[{key:"calculateThumbnailTransform",value:function(t,n,i,o){for(var a=parseInt(n.style.width||n.offsetWidth),s=(parseInt(i.style.width||i.offsetWidth),a>>1),c=0,l="#"+(i=t.viewer.Dom_CarouselTray).id+" img",u=i.querySelectorAll(l),f=0;f<=o;f++){var h=u[f];c+=(f<o?h.offsetWidth:h.offsetWidth>>1)+10}var d=r.a.parseMatrixTransform(i),p=e._clampScale(d.scale),m=s-c;return{xform:"matrix("+p+", 0, 0, "+p+", "+m+", 0)",left:m,scale:p}}},{key:"_clampScale",value:function(t){return Math.max(e.minScale,Math.min(e.maxScale,t))}},{key:"minScale",get:function(){return 1}},{key:"maxScale",get:function(){return 1}}],(n=[{key:"_getScaleRange",value:function(e){return{min:e.ow>e.oh?(e.cw-(this.padding<<1))/e.ow:(e.ch-(this.padding<<1))/e.oh,max:3}}},{key:"_applyScale",value:function(t,n){var r=e._clampScale(n);return{cw:t.cw,ch:t.ch,ow:t.ow*r,oh:t.oh*r}}},{key:"_getXYRanges",value:function(e){var t,n,r;return t=(r=e.cw>>1)-40,{x:[r-e.trayW,t],y:[n=this.padding-4,n]}}},{key:"_fitTransform",value:function(e,t){return t.x=Math.min(e.x[1],Math.max(e.x[0],t.x)),t.y=Math.min(e.y[1],Math.max(e.y[0],t.y)),t}},{key:"_revertContainerTransform",value:function(){var e=this.viewer.Dom_CarouselTray;return r.a.parseMatrixTransform(e)}},{key:"clamp",value:function(t,n){e.minScale,this.padding;var r=this.viewer.Dom_CarouselContainer,i=this.viewer.Dom_CarouselTray;if(i&&r){var o={cw:parseInt(r.offsetWidth),ch:parseInt(r.offsetHeight),ow:this.thumbnailSlider.originalTraySize.w,oh:this.thumbnailSlider.originalTraySize.h},a=(this._getScaleRange(o),e._clampScale(t.scale));if(n&&n.fix&&a<t.scale){var s=this._revertContainerTransform();return t.x=s.x,t.y=s.y,t.scale=s.scale,t}var c=this._applyScale(o,a);c.trayW=i.offsetWidth,t.scale=a;var l=this._getXYRanges(c);this._fitTransform(l,t),r.style.marginLeft=0,r.style.marginRight=0}return t}},{key:"clampHome",value:function(){this.thumbnailSlider.originalTraySize;var t,n=this.viewer.Dom_CarouselTray;if(n){var i=parseInt(n.offsetWidth),o=parseInt(n.offsetHeight),a=(this.padding,this.padding,this.thumbnailSlider.originalTraySize.w),s=this.thumbnailSlider.originalTraySize.h,c=(i-(this.padding<<1))/a,l=(o-(this.padding<<1))/s;t=e._clampScale(Math.min(c,l));var u={x:this.padding,y:this.padding,scale:t};this.clamp(u,{fix:1}),n.style.marginLeft=0,n.style.marginRight=0;var f=this.viewer.flexbox.dom.carouselTray;r.a.setMatrixTransform(f,u),this.thumbnailSlider._panzoom_instance_api.setTransform(u),window.removeEventListener("keydown",this.thumbnailSlider._panzoom_instance_api.onKeyDown),window.addEventListener("keydown",this.thumbnailSlider._panzoom_instance_api.onKeyDown)}}},{key:"showSmall",value:function(){var e=this.viewer.Dom_CarouselContainer;this.viewer.Dom_CarouselTray&&e&&(e.style.height="49px",e.style.bottom="0px",r.a.setMatrixTransform(this.dom.trayId,{x:0,y:0,scale:1}),this.thumbnailSlider._panzoom_instance_api.setTransform({x:0,y:0,scale:1}),window.removeEventListener("keydown",this.thumbnailSlider._panzoom_instance_api.onKeyDown),window.addEventListener("keydown",this.thumbnailSlider._panzoom_instance_api.onKeyDown))}},{key:"showLarge",value:function(){var e=this.viewer.Dom_CarouselContainer,t=(this.viewer.Dom_CarouselTray,49*this.MAX_SCALE);e.style.height=t+"px",e.style.bottom="0px";var n={x:0,y:0,scale:this.MAX_SCALE};r.a.setMatrixTransform(this.dom.trayId,n),this.thumbnailSlider._panzoom_instance_api.setTransform({x:0,y:0,scale:this.MAX_SCALE})}},{key:"constrain",value:function(t){if(t&&2==t.length){var n=t[0],i=t[1],o=this.viewer.Dom_CarouselTray,a=r.a.parseMatrixTransform(o),s={x:n,y:i,scale:e._clampScale(a.scale)};this.clamp(s),t[0]=s.x,t[1]=s.y}else console.log.error("invalid clamp vars")}},{key:"constrainRelative",value:function(t){if(t&&2==t.length){var n=t[0],i=t[1],o=this.viewer.Dom_CarouselTray,a=r.a.parseMatrixTransform(o),s={x:a.x+n,y:a.y+i,scale:e._clampScale(a.scale)};this.clamp(s),t[0]=s.x-a.x,t[1]=s.y-a.y}else console.log.error("invalid clamp vars")}}])&&f(t.prototype,n),i&&f(t,i),e}();function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"baiv_main_watermarkPano",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px'\t viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'><style type='text/css'>\t.st0{fill:#FFFFFF;}\t.st1{fill:none;}</style><path class='st0' d='M18.2,7.5c0-0.7,0.6-1.3,1.3-1.3c0.7,0,1.3,0.6,1.3,1.3s-0.6,1.3-1.3,1.3l0,0C18.8,8.8,18.2,8.2,18.2,7.5z\t M19.1,7.9c0.2,0.2,0.5,0.2,0.7,0s0.2-0.5,0-0.7s-0.5-0.2-0.7,0c0,0,0,0,0,0C18.9,7.3,18.9,7.7,19.1,7.9z M30,1.6v17.8\tc-4.5-1.5-9.2-2.2-14-2.2c-4.8,0-9.5,0.7-14,2.2V1.6c4.5,1.5,9.2,2.2,14,2.2C20.8,3.8,25.5,3.1,30,1.6z M3,18c0.3-0.1,0.6-0.2,1-0.3\tl4.8-4.6C8.9,13,9.2,13,9.3,13.1l0.6,0.3l4.2-3.6c0.2-0.2,0.5-0.2,0.6,0c0,0,2.7,2.4,3.5,3.1l2.2-2.1c0.2-0.2,0.5-0.2,0.7,0\tc0,0,0,0,0,0L29,18l0,0V3c-4.2,1.2-8.6,1.8-13,1.8C11.6,4.8,7.2,4.2,3,3V18z M16,16.2c3.8,0,7.5,0.5,11.2,1.4l-6.3-5.6L19,13.6\tc-0.4,0.3-0.9,0.4-1.3,0c-1.1-0.9-2.1-1.9-3.2-2.8l-3.9,3.3c-0.3,0.3-0.7,0.3-1.1,0.1l-0.3-0.1l-3.3,3.2C9.2,16.6,12.6,16.2,16,16.2\tz'/><path class='st1' d='M0,0h32v32H0V0z'/></svg>"}},{key:"baiv_main_watermark360",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'><style type='text/css'>\t.st0{fill:#FFFFFF;}\t.st1{fill:none;}</style><path class='st0' d='M29.8,24.6c0,2.1-4,3.5-8.8,4.1v2.5L19.6,30l-1.7-1.5l1.7-1.5l1.4-1.2v1.9c4.7-0.6,7.8-1.9,7.8-3.1\tc0-1.6-5.5-3.4-12.8-3.4S3.2,23,3.2,24.6c0,1.4,4,2.9,9.8,3.3v1C7.3,28.5,2.2,27,2.2,24.6c0-2.9,7.1-4.4,13.8-4.4\tS29.8,21.7,29.8,24.6z M18.2,7.5c0-0.7,0.6-1.3,1.3-1.3c0.7,0,1.3,0.6,1.3,1.3s-0.6,1.3-1.3,1.3l0,0C18.8,8.8,18.2,8.2,18.2,7.5z\t M19.1,7.9c0.2,0.2,0.5,0.2,0.7,0s0.2-0.5,0-0.7s-0.5-0.2-0.7,0c0,0,0,0,0,0C18.9,7.3,18.9,7.7,19.1,7.9z M30,1.6v17.8\tc-4.5-1.5-9.2-2.2-14-2.2c-4.8,0-9.5,0.7-14,2.2V1.6c4.5,1.5,9.2,2.2,14,2.2C20.8,3.8,25.5,3.1,30,1.6z M3,18c0.3-0.1,0.6-0.2,1-0.3\tl4.8-4.6C8.9,13,9.2,13,9.3,13.1l0.6,0.3l4.2-3.6c0.2-0.2,0.5-0.2,0.6,0c0,0,2.7,2.4,3.5,3.1l2.2-2.1c0.2-0.2,0.5-0.2,0.7,0\tc0,0,0,0,0,0L29,18l0,0V3c-4.2,1.2-8.6,1.8-13,1.8C11.6,4.8,7.2,4.2,3,3V18z M16,16.2c3.8,0,7.5,0.5,11.2,1.4l-6.3-5.6L19,13.6\tc-0.4,0.3-0.9,0.4-1.3,0c-1.1-0.9-2.1-1.9-3.2-2.8l-3.9,3.3c-0.3,0.3-0.7,0.3-1.1,0.1l-0.3-0.1l-3.3,3.2C9.2,16.6,12.6,16.2,16,16.2\tz'/><path class='st1' d='M0,0h32v32H0V0z'/></svg>"}},{key:"baiv_thumbnails_watermarkPano",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px'\t viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'><style type='text/css'>\t.st0{fill:#FFFFFF;}\t.st1{fill:none;}</style><path class='st0' d='M18.2,7.5c0-0.7,0.6-1.3,1.3-1.3c0.7,0,1.3,0.6,1.3,1.3s-0.6,1.3-1.3,1.3l0,0C18.8,8.8,18.2,8.2,18.2,7.5z\t M19.1,7.9c0.2,0.2,0.5,0.2,0.7,0s0.2-0.5,0-0.7s-0.5-0.2-0.7,0c0,0,0,0,0,0C18.9,7.3,18.9,7.7,19.1,7.9z M30,1.6v17.8\tc-4.5-1.5-9.2-2.2-14-2.2c-4.8,0-9.5,0.7-14,2.2V1.6c4.5,1.5,9.2,2.2,14,2.2C20.8,3.8,25.5,3.1,30,1.6z M3,18c0.3-0.1,0.6-0.2,1-0.3\tl4.8-4.6C8.9,13,9.2,13,9.3,13.1l0.6,0.3l4.2-3.6c0.2-0.2,0.5-0.2,0.6,0c0,0,2.7,2.4,3.5,3.1l2.2-2.1c0.2-0.2,0.5-0.2,0.7,0\tc0,0,0,0,0,0L29,18l0,0V3c-4.2,1.2-8.6,1.8-13,1.8C11.6,4.8,7.2,4.2,3,3V18z M16,16.2c3.8,0,7.5,0.5,11.2,1.4l-6.3-5.6L19,13.6\tc-0.4,0.3-0.9,0.4-1.3,0c-1.1-0.9-2.1-1.9-3.2-2.8l-3.9,3.3c-0.3,0.3-0.7,0.3-1.1,0.1l-0.3-0.1l-3.3,3.2C9.2,16.6,12.6,16.2,16,16.2\tz'/><path class='st1' d='M0,0h32v32H0V0z'/></svg>"}},{key:"baiv_thumbnails_watermark360",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'><style type='text/css'>\t.st0{fill:#FFFFFF;}\t.st1{fill:none;}</style><path class='st0' d='M29.8,24.6c0,2.1-4,3.5-8.8,4.1v2.5L19.6,30l-1.7-1.5l1.7-1.5l1.4-1.2v1.9c4.7-0.6,7.8-1.9,7.8-3.1\tc0-1.6-5.5-3.4-12.8-3.4S3.2,23,3.2,24.6c0,1.4,4,2.9,9.8,3.3v1C7.3,28.5,2.2,27,2.2,24.6c0-2.9,7.1-4.4,13.8-4.4\tS29.8,21.7,29.8,24.6z M18.2,7.5c0-0.7,0.6-1.3,1.3-1.3c0.7,0,1.3,0.6,1.3,1.3s-0.6,1.3-1.3,1.3l0,0C18.8,8.8,18.2,8.2,18.2,7.5z\t M19.1,7.9c0.2,0.2,0.5,0.2,0.7,0s0.2-0.5,0-0.7s-0.5-0.2-0.7,0c0,0,0,0,0,0C18.9,7.3,18.9,7.7,19.1,7.9z M30,1.6v17.8\tc-4.5-1.5-9.2-2.2-14-2.2c-4.8,0-9.5,0.7-14,2.2V1.6c4.5,1.5,9.2,2.2,14,2.2C20.8,3.8,25.5,3.1,30,1.6z M3,18c0.3-0.1,0.6-0.2,1-0.3\tl4.8-4.6C8.9,13,9.2,13,9.3,13.1l0.6,0.3l4.2-3.6c0.2-0.2,0.5-0.2,0.6,0c0,0,2.7,2.4,3.5,3.1l2.2-2.1c0.2-0.2,0.5-0.2,0.7,0\tc0,0,0,0,0,0L29,18l0,0V3c-4.2,1.2-8.6,1.8-13,1.8C11.6,4.8,7.2,4.2,3,3V18z M16,16.2c3.8,0,7.5,0.5,11.2,1.4l-6.3-5.6L19,13.6\tc-0.4,0.3-0.9,0.4-1.3,0c-1.1-0.9-2.1-1.9-3.2-2.8l-3.9,3.3c-0.3,0.3-0.7,0.3-1.1,0.1l-0.3-0.1l-3.3,3.2C9.2,16.6,12.6,16.2,16,16.2\tz'/><path class='st1' d='M0,0h32v32H0V0z'/></svg>"}},{key:"fx_fullScreenButton",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 24 24' style='enable-background:new 0 0 24 24;' xml:space='preserve'> <style type='text/css'> .st0{fill:#FFFFFF;} .st1{fill:none;} </style> <path class='st0' d='M3,16H2v6h6v-1H3V16z M16,3h5v5h1V2h-6V3z M21,21h-5v1h6v-6h-1V21z M8,2H2v6h1V3h5V2z'/> <path class='st1' d='M0,0h24v24H0V0z'/> </svg>"}},{key:"fx_minimizeButton",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 24 24' style='enable-background:new 0 0 24 24;' xml:space='preserve'> <style type='text/css'> .st0{fill:#FFFFFF;} .st1{fill:none;} </style> <path class='st0' d='M16,8h6v1h-7V2h1V8z M2,16h6v6h1v-7H2V16z M15,22h1v-6h6v-1h-7V22z M8,8H2v1h7V2H8V8z'/> <path class='st1' d='M0,0h24v24H0V0z'/></svg>"}},{key:"fx_closeButton",value:function(){return"<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'> <path fill='#FFF' d='M12.207 12.5l7.7783 7.7781-.7071.7072L11.5 13.207l-7.7782 7.7782-.707-.7072 7.778-7.778-7.7781-7.7782.7071-.707 7.7782 7.778 7.7782-7.7782.707.7071-7.778 7.7783z'/> </svg>"}},{key:"fx_chevronUp",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px'\t viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'><style type='text/css'>\t.st0{fill:#FFFFFF;}\t.st1{fill:none;}</style><path class='st0' d='M16,22.2l-9-9v-1.4l9,9l9-9v1.4L16,22.2z'/><path class='st1' d='M0,0h32v32H0V0z'/></svg>"}},{key:"fx_chevronDown",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px'\t viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'><style type='text/css'>\t.st0{fill:#FFFFFF;}\t.st1{fill:none;}</style><path class='st0' d='M16,22.2l-9-9v-1.4l9,9l9-9v1.4L16,22.2z'/><path class='st1' d='M0,0h32v32H0V0z'/></svg>"}},{key:"fx_prevImageArrow",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'><style type='text/css'>.st0{fill:#FFFFFF;}.st1{fill:none;}</style> <path class='st0' d='M18.8,25l-9-9l9-9h1.4l-9,9l9,9H18.8z'/> <path class='st1' d='M0,0h32v32H0V0z'/></svg>"}},{key:"fx_nextImageArrow",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px'\t viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'><style type='text/css'>\t.st0{fill:#FFFFFF;}\t.st1{fill:none;}</style><path class='st0' d='M13.2,7l9,9l-9,9h-1.4l9-9l-9-9H13.2z'/><path class='st1' d='M0,0h32v32H0V0z'/></svg>"}},{key:"fx_LeftArrowMask",value:function(){return"<svg xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' width='30' height='30' viewBox='0 0 172 172' style='fill:#000;'> <g fill='none' fill-rule='nonzero' stroke='none' stroke-width='1' stroke-linecap='butt' stroke-linejoin='miter' stroke-miterlimit='10' stroke-dasharray='' stroke-dashoffset='0' font-family='none' font-weight='none' font-size='none' text-anchor='none' style='mix-blend-mode: normal'> <path d='M0,172v-172h172v172z' fill='none'></path> <g fill='#ACACAC'> <path stroke='#ACACAC' stroke-width='12' d='M154.74625,44.6125c-1.8275,0.05375 -3.5475,0.80625 -4.81062,2.12313l-63.93563,63.93562l-63.93562,-63.93562c-1.30344,-1.33031 -3.07719,-2.08281 -4.945,-2.08281c-2.795,0 -5.30781,1.70656 -6.35594,4.3c-1.06156,2.59344 -0.43,5.56312 1.57219,7.51156l68.8,68.8c2.6875,2.6875 7.04125,2.6875 9.72875,0l68.8,-68.8c2.0425,-1.96188 2.6875,-4.98531 1.58562,-7.60563c-1.08844,-2.62031 -3.66844,-4.3 -6.50375,-4.24625z' transform='rotate(90) translate(0 -170)'></path></g></g></svg>"}},{key:"fx_RightArrowMask",value:function(){return"<svg xmlns='http://www.w3.org/2000/svg' x='0px' y='0px' width='30' height='30' viewBox='0 0 172 172' style='fill:#000;'> <g fill='none' stroke='none' stroke-width='1' stroke-linecap='butt' stroke-linejoin='miter' stroke-miterlimit='10' stroke-dasharray='' stroke-dashoffset='0' font-family='none' font-weight='none' font-size='none' text-anchor='none' style='mix-blend-mode: normal'> <path d='M0,172v-172h172v172z' fill='none'></path> <g fill='#ACACAC'> <path stroke='#ACACAC' stroke-width='12' d='M154.74625,44.6125c-1.8275,0.05375 -3.5475,0.80625 -4.81062,2.12313l-63.93563,63.93562l-63.93562,-63.93562c-1.30344,-1.33031 -3.07719,-2.08281 -4.945,-2.08281c-2.795,0 -5.30781,1.70656 -6.35594,4.3c-1.06156,2.59344 -0.43,5.56312 1.57219,7.51156l68.8,68.8c2.6875,2.6875 7.04125,2.6875 9.72875,0l68.8,-68.8c2.0425,-1.96188 2.6875,-4.98531 1.58562,-7.60563c-1.08844,-2.62031 -3.66844,-4.3 -6.50375,-4.24625z' transform='rotate(-90) translate(-170 10)'></path></g></g></svg>"}},{key:"fx_nextImageOn",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px'\t viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'><style type='text/css'>\t.st0{fill:#FFFFFF;}\t.st1{fill:none;}</style><path class='st0' d='M13.2,7l9,9l-9,9h-1.4l9-9l-9-9H13.2z'/><path class='st1' d='M0,0h32v32H0V0z'/></svg>"}},{key:"fx_prevImageOn",value:function(){return"<svg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 32 32' style='enable-background:new 0 0 32 32;' xml:space='preserve'><style type='text/css'>.st0{fill:#FFFFFF;}.st1{fill:none;}</style> <path class='st0' d='M18.8,25l-9-9l9-9h1.4l-9,9l9,9H18.8z'/> <path class='st1' d='M0,0h32v32H0V0z'/></svg>"}}],null&&d(t.prototype,null),n&&d(t,n),e}();function m(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){m(o,r,i,a,s,"next",e)}function s(e){m(o,r,i,a,s,"throw",e)}a(void 0)}))}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t,this._mousedownCoord=null,this._trayElem=null,this._panzoom_instance=null,this._LARGE_TRAY_SCALE=3,this._placeholderImage="data:image/svg+xml,%3Csvg version='1.1' id='placeholderImage' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 225 225' style='enable-background:new 0 0 225 225;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E.st0{fill:%23BABABA;}.st1{fill:%23E1E1E1;}%3C/style%3E%3Crect class='st0' width='225' height='225'/%3E%3Cg id='g3050'%3E%3Cpath id='path3053' inkscape:connector-curvature='0' class='st1' d='M105,75.2c0.5-0.9,2.9-3.5,4.7-4.4c3.5-1.7,7.6,0.1,10.6,4.7c2.8,4.3,12.6,21.4,13.5,23.2c0.1,0.3,1.6,3,2.4,4.6c0.1,0.1,2.2,3.3,4.6,7.4c3.2,5.7,3.5,5.8,3.9,6.7c0.4,0.7,0.4,0.7,0.8,1.3c0.2,0.4,0.2,0.5,0.3,0.6c0.3,0.4,10.8,18.7,12.2,21.3c1.6,3,2.2,6.5,1.4,8.9c-0.6,1.8-2.9,3.8-5,4.5c-1.9,0.6-78.1,1-81.4,0.4c-4.1-0.7-6.9-2.9-7.5-5.8c-0.4-2.1,0.1-5,1.2-7.1 M116.8,141.9c2.2-1.7,2.9-3.4,2.7-6.1c-0.2-2.4-1-3.9-3.1-5.4c-0.9-0.7-1.8-0.9-3.9-0.9c-2.3,0-2.9,0.2-4.2,1.2c-2,1.6-2.9,3.2-2.9,5.8C105.5,142,112.3,145.3,116.8,141.9z M118.5,95.5l-0.7-1.3l-1.2-0.9c-3.1-2.2-8.2-1-10.1,2.4c-1.2,2.1-1.2,4.2-0.2,9.8c0.4,2.4,1.2,7.3,1.8,10.9c0.5,3.6,1,7.1,1.1,7.6c0.2,0.9,0.4,1,3.5,1l3.3,0l1.2-8.7v0c1.5-10.7,2.1-13.4,2-12.5c0,0.1,0.1-0.5,0.1-1c0.1-0.4,0.2-1,0.3-2.4C119.6,98.5,119,96.4,118.5,95.5'/%3E%3C/g%3E%3C/svg%3E"}var t,n,i;return t=e,n=[{key:"initialize",value:function(e,t,n){var i=this;return new Promise((function(e,o){t&&t.id&&n&&n.length>0?(i._contElem=i.viewer.Dom_CarouselContainer,i._trayElem=i.viewer.Dom_CarouselTray,i._loadThumbnails().then((function(){setTimeout((function(){r.a.showElem(i._contElem)}),500),e()}),o)):o()}))}},{key:"_thumbId",value:function(e){return this.viewer.flexbox._ID("thumb")+"_"+e}},{key:"_saveTraySize",value:function(){var e=this.viewer.Dom_CarouselTray;this.originalTraySize={w:parseInt(e.offsetWidth),h:parseInt(e.offsetHeight)}}},{key:"_loadThumb",value:function(){var e=v(regeneratorRuntime.mark((function e(t,n,i){var o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this,a=i,e.next=4,new Promise((function(e,i){console.log("_loadThumb called");var s=document.createElement("div");r.a.addClass(s,"baiv_thumbnails_imgDiv");var c=document.createElement("img"),l=document.createElement("div"),u=o._thumbId(a);c.setAttribute("id",u),c.setAttribute("thumb-id",n.id),r.a.addClass(l,"baiv_thumbnails_watermark"),s.appendChild(c),s.appendChild(l),t.appendChild(s),c.onload=function(){r.a.checkNaN(this.naturalWidth),r.a.checkNaN(this.naturalHeight);var n=this.getAttribute("thumb-id"),i=r.a.isDef(this.naturalWidth)&this.naturalWidth>0?this.naturalWidth:this.width,a=r.a.isDef(this.naturalHeight)&this.naturalHeight>0?this.naturalHeight:this.height;r.a.checkNaN(i),r.a.checkNaN(a);var s=i*(o.viewer._CAROUSEL_TRAY_INITIAL_HEIGHT/a);o.viewer.images[n].thumbnailWidth=parseInt(s),o.addWatermark.call(o,t,n),e()},c.onerror=function(e){console.log("Thumb img error");var t=e.target.getAttribute("thumb-id");o.viewer.images[t].isPano=!1,o.viewer.images[t].is360=!1,o.viewer.images[t].url=o._placeholderImage,c.src=o._placeholderImage},c.setAttribute("src",n.src)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_loadThumbnails",value:function(){var e=v(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise((function(e,i){try{var o=[],a=t.viewer.Dom_CarouselTray;t.viewer.thumbnails.forEach((function(e,t){o.push(n._loadThumb(a,e,t))})),Promise.all(o.map((function(e){return e.catch((function(e){return console.log("Error on promiseArray",e)}))}))).then((function(){t._adjustWidth(),t._createPanzoom();var n=t.viewer.Dom_Footer;t.viewer.Dom_CarouselContainer.style.width=r.a.addPx(n.offsetWidth),t.clamper.clampHome(),e()}),i)}catch(e){i(e)}}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_adjustWidth",value:function(){var e=v(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise((function(e,n){try{var i=t.viewer.Dom_CarouselTray,o=(t.viewer._CAROUSEL_TRAY_INITIAL_HEIGHT,0),a="#"+i.id+" img",s=i.querySelectorAll(a);s.forEach((function(e){var n=e.getAttribute("thumb-id"),r=t.viewer.images[parseInt(n)].thumbnailWidth;o+=r+10})),i.style.width=r.a.addPx(o),t._saveTraySize(),t._addWatermarks(),t.initThumbnailEvents(s),e()}catch(e){n(e)}}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_addWatermarks",value:function(){var e,t=this,n=t.viewer.Dom_CarouselTray;n&&n.querySelectorAll("img").forEach((function(r,i){e=r.getAttribute("thumb-id"),t.addWatermark.call(t,n,e)}))}},{key:"addWatermark",value:function(e,t){var n=this.viewer.getImageByAtachmentId(t),i=e.querySelector("img[thumb-id='"+t+"']").nextElementSibling;n&&(n.is360?(r.a.addClass(i,"baiv_thumbnails_watermark360"),i.innerHTML=p.baiv_thumbnails_watermark360()):n.isPano&&(r.a.addClass(i,"baiv_thumbnails_watermarkPano"),i.innerHTML=p.baiv_thumbnails_watermarkPano()))}},{key:"initThumbnailEvents",value:function(t){var n=this;function i(e){e.preventDefault();var t=r.a.getTouch(e);n.viewer._mousedownCoord={x:t.x,y:t.y}}function o(t){if(t.preventDefault(),!n.viewer.imageLoading){var i=n.viewer.Dom_CarouselTray,o=r.a.getTouchEnd(t);if(n.viewer._mousedownCoord&&Math.abs(n.viewer._mousedownCoord.x-o.x)<=2&&Math.abs(n.viewer._mousedownCoord.y-o.y)<=2){n.viewer._mousedownCoord=null,n._panzoom_instance_api.cancelZoomAnimation();var a=t.currentTarget,s=a.getAttribute("id");s||(s=a.previousSibling.getAttribute("id"));var c,l=i.querySelectorAll("img");for(c=0;c<l.length;c++)if(l[c].getAttribute("id")==s){e.selectThumbnail(n,c);break}}}}t.forEach((function(e){e.removeEventListener("touchstart",i),e.removeEventListener("mousedown",i),e.removeEventListener("touchend",o),e.removeEventListener("mouseup",o),e.addEventListener("touchstart",i),e.addEventListener("mousedown",i),e.addEventListener("touchend",o),e.addEventListener("mouseup",o),e.nextSibling.removeEventListener("touchstart",i),e.nextSibling.removeEventListener("mousedown",i),e.nextSibling.removeEventListener("touchend",o),e.nextSibling.removeEventListener("mouseup",o),e.nextSibling.addEventListener("touchstart",i),e.nextSibling.addEventListener("mousedown",i),e.nextSibling.addEventListener("touchend",o),e.nextSibling.addEventListener("mouseup",o)}))}},{key:"_createPanzoom",value:function(){var e=v(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise((function(e,n){try{t._trayElem.offsetWidth,t._panzoom_instance=new c,t.clamper=new h(t.viewer,t),t._panzoom_instance_api=t._panzoom_instance.create.call(t._panzoom_instance,t._trayElem,{minZoom:1,maxZoom:3,clampHandler:t.clamper,swipeVerticalHandler:function(e){t.onSwipeVertical&&t.onSwipeVertical(e)},bounds:{left:-999999,top:68,right:999999,bottom:0}}),e()}catch(e){n(e)}}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],i=[{key:"selectThumbnail",value:function(t,n,i){var o=t;return new Promise((function(a,s){try{if(o.viewer.isBusy())a();else{o.viewer.showBusy("selectThumbnail"),r.a.log("user chose thumbnail "+n),o.viewer.selectedIndex=n,o.viewer.showPagination&&e.updatePagination(o);var c,l,u=o.viewer.Dom_CarouselContainer,f=o.viewer.Dom_CarouselTray;if(r.a.isDef(f)){for(Math.round(f.children[n].offsetWidth/2),c=0;c<f.children.length;c++)l=f.children[c],r.a.removeClass(l,"baiv_thumbnails_select_border"),c<n&&l.offsetWidth;var d=f.children[n].querySelector("img"),p=d.getAttribute("thumb-id");if(d.offsetWidth,r.a.isDef(p)){u.offsetWidth,t.clamper=h.calculateThumbnailTransform(t,u,f,n);var m=t.clamper.xform,v=f.style;r.a.addClass(f,"baiv_thumbnails_slowMove"),v.transform=m,v["-webkit-transform"]=m,v["-moz-transform"]=m,v["-o-transform"]=m,r.a.addClass(f.children[n],"baiv_thumbnails_select_border"),o.viewer.flexbox.setNavButtonState(0,n>0),o.viewer.flexbox.setNavButtonState(1,n<o.viewer.images.length-1),o._panzoom_instance_api.setTransform({x:t.clamper.left,y:0,scale:t.clamper.scale}),o.viewer.getImageByAtachmentId(p)?i?(o.viewer.hideBusy("selectThumbnail skipshowingmain"),a()):o.viewer.showImage(n).then((function(){a()}),(function(e){o.viewer.hideBusy("selectThumbnail 07"),s(e)})):(o.viewer.hideBusy("selectThumbnail 05"),console.log("error: invalid image data"),s()),setTimeout((function(){f&&r.a.removeClass(f,"baiv_thumbnails_slowMove")}),500)}else o.viewer.hideBusy("selectThumbnail attachmennt error"),s("error:missing thumbnail attachment")}else o.viewer.hideBusy("selectThumbnail error"),s("error: missing thumbnails container")}}catch(e){s(e)}}))}}],n&&g(t.prototype,n),i&&g(t,i),e}();function w(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function x(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){w(o,r,i,a,s,"next",e)}function s(e){w(o,r,i,a,s,"throw",e)}a(void 0)}))}}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t,this.instanceId=t.instanceId,this.resizeTimer=null,this.mouseTimer=null,this.onCloseCallback=t.options.onCloseCallback,this.isFullscreen=!1,this.dom={busyLoader:this._ID("busy_loader_"),caption:this._ID("fx_captionBar"),carousel:this._ID("fx_carouselContainer"),carouselTray:this._ID("fx_carouselTrayContainer"),chevron:this._ID("fx_chevronTab"),close:this._ID("fx_closeButton"),filename:this._ID("fx_filenameDiv"),flatImageDiv:this._ID("fx_imageDiv"),footer:this._ID("fx_bottomBar"),fullscreen:this._ID("fx_fullScreenButton"),minimize:this._ID("fx_minimizeButton"),minimize360:this._ID("fx_minimizeButton360"),header:this._ID("fx_headerDiv"),headerButtons:this._ID("fx_headerButtonsDiv"),headerRightPad:this._ID("fx_rightPadding"),hoverZoneLeft:this._ID("fx_hoverL"),hoverZoneRight:this._ID("fx_hoverR"),leftArrow:this._ID("fx_prevImageArrow"),rightArrow:this._ID("fx_nextImageArrow"),mainImageDiv:this._ID("fx_imageContainerDiv"),outer:this._ID("fx_outer"),panzoomDivId:this._ID("panzoomDivId"),panolensDivId:this._ID("panolensDivId"),pnControl:this._ID("fx_prevNextControl"),pnDivider:this._ID("fx_imageNavDivider"),pnLeftArrow:this._ID("fx_prevImageButton"),pnRightArrow:this._ID("fx_nextImageButton"),pnLeftMask:this._ID("fx_LeftMask"),pnRightMask:this._ID("fx_RightMask"),thumbnailsId:this._ID("fx_thumbsTray"),title:this._ID("fx_titleDiv"),watermark:this._ID("fx_watermark")}}var t,n;return t=e,(n=[{key:"generateHTML",value:function(e){var t=this;return new Promise((function(n,i){try{var o=function e(n){n.preventDefault(),n.stopPropagation();var i=!1,o=document.getElementById(t.dom.panolensDivId),a=document.getElementById(t.dom.mainImageDiv),s=t.viewer.currentImage.is360?o:a,c=t.viewer.currentImage.is360?document.getElementById(t.dom.minimize360):document.getElementById(t.dom.minimize);if(t.isFullscreen)document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{try{document.removeEventListener("fullscreenchange",h),document.addEventListener("fullscreenchange",h),s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):s.msRequestFullscreen&&s.msRequestFullscreen()}catch(e){console.log("_toggleFullscreen:  "+e)}if(t.isFullscreen=!0,c)c.style.display="block";else{c=document.createElement("a");var l=t.viewer.currentImage.is360?t.dom.minimize360:t.dom.minimize;c.setAttribute("id",l),c.style.zIndex=1e3,c.innerHTML=p.fx_minimizeButton(),r.a.addClass(c,"fx_minimizeButton"),r.a.addClass(c,"baiv_tooltip"),s.appendChild(c);var u=document.createElement("span");r.a.addClass(u,"baiv_tooltiptext"),r.a.addClass(u,"baiv_tooltip-left"),u.innerHTML=t.viewer.localized.i18n("image-viewer-minimize"),c.appendChild(u)}c.removeEventListener("click",e),c.addEventListener("click",e)}function f(e,n){function r(){!function(e){--e>0&&(t.viewer.deviceOpener&&t.viewer.deviceOpener.clampHandler?t.viewer.deviceOpener.clampHandler.clampHome(t.viewer.currentImage.originalSize):setTimeout(f,300))}(e),i=!1}setTimeout(r,500),n&&setTimeout(r,n)}function h(){i||(i=!0,t.isFullscreen?(c.removeEventListener("click",e),c.addEventListener("click",e)):(c.style.display="none",t.isFullscreen=!1),f(3,1e3))}},a=function(){t.resizeTimer&&clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout((function(){t._onResizeContainer()}),400)},s=function(){t.viewer.images.length;var e=t.viewer.selectedIndex-1;if(e>=0){var n=t.viewer.thumbnailSlider;y.selectThumbnail(n,e),t.setNavButtonState(0,e>0)}},c=function(){var e=t.viewer.images.length,n=t.viewer.selectedIndex+1;if(n<e){var r=t.viewer.thumbnailSlider;y.selectThumbnail(r,n),t.setNavButtonState(1,n<e-1)}},l=document.createElement("div");l.classList.add("fx_outer"),l.id=t.dom.outer;var u=document.createElement("div");u.classList.add("fx_headerDiv"),u.style.height="50px",u.id=t.dom.header;var f=document.createElement("div");f.classList.add("fx_titleDiv"),f.id=t.dom.title,f.innerText=t.viewer.localized.i18n("image-viewer-title"),u.appendChild(f);var h=document.createElement("div");h.classList.add("fx_filenameDiv"),h.id=t.dom.filename,u.appendChild(h);var d=document.createElement("div");d.classList.add("fx_rightPadding"),d.id=t.dom.headerRightPad,u.appendChild(d),l.appendChild(u);var m=document.createElement("div");m.classList.add("fx_headerButtonsDiv"),m.id=t.dom.headerButtons;var v=function e(){console.log(this,t),r.a.isDef(t.viewer.options.showFullScreenBtn)&&!0===t.viewer.options.showFullScreenBtn&&g.removeEventListener("click",_onToggleFullScreen),r.a.isDef(t.viewer.options.showCloseBtn)&&!0===t.viewer.options.showCloseBtn&&x.removeEventListener("click",e),window.removeEventListener("resize",a),void 0!==t.panolensViewer&&t.panolensViewer.dispose(),r.a.isDef(t.viewer.options.onCloseCallback)&&t.viewer.options.onCloseCallback(),void 0!==t.viewer&&(t.viewer=null)},g=document.createElement("div");g.innerHTML=p.fx_fullScreenButton(),g.classList.add("fx_fullScreenButton"),g.classList.add("fx_buttons"),g.classList.add("baiv_tooltip"),g.id=t.dom.fullscreen,m.appendChild(g);var w=document.createElement("span");r.a.addClass(w,"baiv_tooltiptext"),r.a.addClass(w,"baiv_tooltip-left"),w.innerHTML=t.viewer.localized.i18n("image-viewer-fullscreen"),g.appendChild(w),g.removeEventListener("click",o),g.addEventListener("click",o);var x=document.createElement("div");x.innerHTML=p.fx_closeButton(),x.classList.add("fx_closeButton"),x.classList.add("fx_buttons"),x.classList.add("baiv_tooltip"),x.id=t.dom.close,m.appendChild(x),x.removeEventListener("click",v),x.addEventListener("click",v);var b=document.createElement("span");if(r.a.addClass(b,"baiv_tooltiptext"),r.a.addClass(b,"baiv_tooltip-left"),b.innerHTML=t.viewer.localized.i18n("image-viewer-close"),x.appendChild(b),l.appendChild(m),"safari"!==r.a.getBrowser()){var _=function(){document.fullscreenElement||(t.isFullscreen=!1)};document.removeEventListener("fullscreenchange",(function(e){document.fullscreenElement||_()}),!1),document.removeEventListener("webkitfullscreenchange",(function(e){document.webkitFullscreenElement||_()}),!1),document.removeEventListener("mozfullscreenchange",(function(e){document.mozFullScreenElement||_()}),!1),document.removeEventListener("MSFullscreenChange",(function(e){document.msFullscreenElement||_()}),!1),document.addEventListener("fullscreenchange",(function(e){document.fullscreenElement||_()}),!1),document.addEventListener("webkitfullscreenchange",(function(e){document.webkitFullscreenElement||_()}),!1),document.addEventListener("mozfullscreenchange",(function(e){document.mozFullScreenElement||_()}),!1),document.addEventListener("MSFullscreenChange",(function(e){document.msFullscreenElement||_()}),!1)}var k=document.createElement("div");k.classList.add("baiv_panzoom_cont"),k.id=t.dom.mainImageDiv;var E=document.createElement("div");E.classList.add("baiv_panzoom_image"),E.id=t.dom.panzoomDivId,k.appendChild(E);var I=document.createElement("div");I.classList.add("baiv_panzoom_360"),I.id=t.dom.panolensDivId,k.appendChild(I),l.appendChild(k);var C=document.createElement("div");C.classList.add("fx_watermark"),C.id=t.dom.watermark,l.appendChild(C);var S=document.createElement("div");S.innerHTML=p.fx_prevImageArrow(),S.classList.add("fx_prevImageArrow"),S.classList.add("fx_leftRightArrows"),S.id=t.dom.leftArrow,l.appendChild(S),S.addEventListener("click",(function(){var e=document.getElementById(t.dom.leftArrow),n=document.getElementById(t.dom.rightArrow);s(),t._onDisplayArrows(e,n)}));var T=document.createElement("div");T.innerHTML=p.fx_nextImageArrow(),T.classList.add("fx_nextImageArrow"),T.classList.add("fx_leftRightArrows"),T.id=t.dom.rightArrow,l.appendChild(T),T.addEventListener("click",(function(){var e=document.getElementById(t.dom.leftArrow),n=document.getElementById(t.dom.rightArrow);c(),t._onDisplayArrows(e,n)}));var A=document.createElement("div");A.classList.add("fx_hoverL"),A.id=t.dom.hoverZoneLeft,l.appendChild(A);var L=document.createElement("div");L.classList.add("fx_hoverR"),L.id=t.dom.hoverZoneRight,l.appendChild(L);var M=document.createElement("div");M.classList.add("fx_bottomBar"),M.id=t.dom.footer;var P=document.createElement("div");P.classList.add("fx_captionBar"),P.id=t.dom.caption,M.appendChild(P);var D=document.createElement("div");D.classList.add("fx_carouselContainer"),D.id=t.dom.carousel,M.appendChild(D);var F=document.createElement("div");F.setAttribute("id",t.viewer.flexbox.dom.carouselTray),r.a.addClass(F,"baiv_thumbnails_tray"),D.appendChild(F);var z=document.createElement("div");z.classList.add("fx_chevronTab"),z.classList.add("fx_chevronDown"),z.id=t.dom.chevron,M.appendChild(z);var B=document.createElement("div");B.classList.add("fx_prevNextControl"),B.id=t.dom.pnControl;var O=document.createElement("div");O.innerHTML=p.fx_prevImageOn(),O.classList.add("fx_prevImageButton"),O.classList.add("fx_prevImageOn"),O.id=t.dom.pnLeftArrow,B.appendChild(O);var R=document.createElement("div");R.classList.add("fx_imageNavDivider"),R.id=t.dom.pnDivider,B.appendChild(R);var N=document.createElement("div");N.innerHTML=p.fx_nextImageOn(),N.classList.add("fx_nextImageButton"),N.classList.add("fx_nextImageOn"),N.id=t.dom.pnRightArrow,B.appendChild(N);var j=document.createElement("div");j.id=t.dom.pnLeftMask,j.classList.add("fx_LeftMask"),B.appendChild(j);var H=document.createElement("div");H.id=t.dom.pnRightMask,H.classList.add("fx_RightMask"),B.appendChild(H),M.appendChild(B),t.viewer.container.prepend(l),t.viewer.container.appendChild(M),window.removeEventListener("resize",a),window.addEventListener("resize",a);var W=document.getElementById(t.dom.chevron);W.addEventListener("click",(function(){var e={bar:document.getElementById(t.dom.footer),caption:document.getElementById(t.dom.caption),carousel:document.getElementById(t.dom.carouselTray)};r.a.hasClass(W,"fx_chevronUp")?t._showBottomBar(e):t._hideBottomBar(e)}));var V=document.getElementById(t.dom.pnLeftArrow);V.removeEventListener("click",s),V.addEventListener("click",s);var Z=document.getElementById(t.dom.pnRightArrow);Z.removeEventListener("click",c),Z.addEventListener("click",c),e&&t.setOptions(e),t._onResizeContainer(),n()}catch(e){i(e)}}))}},{key:"_onResizeContainer",value:function(){var e=x(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isFullscreen){e.next=10;break}return t=this.viewer.container,n=t.style,t.offsetWidth,n.width,t.offsetHeight,n.height,r=parseInt(this.viewer.container.offsetWidth),i=parseInt(this.viewer.container.offsetHeight),e.next=9,this._updateLayout({width:r,height:i});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_updateLayout",value:function(){var e=x(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=document.getElementById(this.dom.outer))&&(n.style.height=t.height+"px",this.viewer.Dom_MainImageContainer,document.getElementById(this.dom.header),parseInt(document.getElementById(this.dom.header).style.height),t.height,document.getElementById(this.dom.panzoomDivId),r=document.getElementById(this.dom.panolensDivId),parseInt(r.parentElement.style.height),i=document.getElementById(this._ID("fx_filenameDiv")),t.width<=750?i.style.visibility="hidden":i.style.visibility="visible");case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_showBottomBar",value:function(e){this.viewer.options.closeCarousel?this.viewer.Dom_Footer.style.bottom=r.a.addPx(0):document.getElementById(this.dom.caption).style.display="block";var t=document.getElementById(this.dom.chevron);t.innerHTML=p.fx_chevronDown(),r.a.removeClass(t,"fx_chevronUp"),r.a.addClass(t,"fx_chevronDown")}},{key:"_hideBottomBar",value:function(e){if(console.log(this.viewer.options.closeCarousel),this.viewer.options.closeCarousel){var t=this.viewer.Dom_Footer,n=t.offsetHeight;t.style.bottom=r.a.addPx(-n)}else document.getElementById(this.dom.caption).style.display="none";var i=document.getElementById(this.dom.chevron);i.innerHTML=p.fx_chevronUp(),r.a.removeClass(i,"fx_chevronDown"),r.a.addClass(i,"fx_chevronUp")}},{key:"_onDisplayArrows",value:function(e,t){if(this.mouseTimer&&clearTimeout(this.mouseTimer),e.style.visibility="visible",t.style.visibility="visible","sides"===this.viewer.options.pagination){var n=this.viewer.images.length,i=this.viewer.selectedIndex;0===i?r.a.addClass(e,"fx_LeftArrowMask"):r.a.removeClass(e,"fx_LeftArrowMask"),n-1===i?r.a.addClass(t,"fx_RightArrowMask"):r.a.removeClass(t,"fx_RightArrowMask")}this.mouseTimer=setTimeout((function(){e.style.visibility="hidden",t.style.visibility="hidden"}),3e3)}},{key:"_removeArrowHoverEvents",value:function(e,t){e.removeEventListener("mousemove",{}),t.removeEventListener("mousemove",{})}},{key:"swapMainImageContainer",value:function(){var e=this.viewer.Dom_FlatImageContainerDiv,t=this.viewer.Dom_360ImageContainerDiv;this.viewer.currentImage.is360&&!this.viewer.currentImage.externalImage?(this.viewer.deviceOpener&&this.viewer.deviceOpener._clearFlat(),r.a.hideElem(e),r.a.showElem(t)):(r.a.hideElem(t),r.a.showElem(e))}},{key:"setCaption",value:function(e){var t=document.getElementById(this.dom.caption);t&&(t.style.display=e?"block":"none")}},{key:"setCarousel",value:function(e){var t=document.getElementById(this.dom.carouselTray);t&&(t.style.display=e?"block":"none")}},{key:"setChevron",value:function(e){var t=document.getElementById(this.dom.chevron);t&&(t.style.display=e?"block":"none")}},{key:"setFooter",value:function(e){var t=document.getElementById(this.dom.footer);t&&(t.style.display=e?"block":"none")}},{key:"setFooterState",value:function(e){var t={bar:document.getElementById(this.dom.footer),caption:document.getElementById(this.dom.caption),carousel:document.getElementById(this.dom.carouselTray)};switch(console.log(e,t),e){case"down":this._hideBottomBar(t);break;default:this._showBottomBar(t)}}},{key:"setPagination",value:function(e){var t=this;switch(e){case"sides":var n=document.getElementById(this.dom.pnControl),r=document.getElementById(this.dom.hoverZoneLeft),i=document.getElementById(this.dom.hoverZoneRight),o=document.getElementById(this.dom.leftArrow),a=document.getElementById(this.dom.rightArrow);if(n&&r&&i&&o&&a){var s=function(e){t._onDisplayArrows(o,a)};n.style.display="none",r.style.visibility="visible",i.style.visibility="visible",o.style.visibility="visible",a.style.visibility="visible",t._removeArrowHoverEvents(r,i),r.addEventListener("mousemove",s),i.addEventListener("mousemove",s),t._onDisplayArrows(o,a)}break;case"none":var c=document.getElementById(this.dom.pnControl),l=document.getElementById(this.dom.hoverZoneLeft),u=document.getElementById(this.dom.hoverZoneRight),f=document.getElementById(this.dom.pnLeftArrow),h=document.getElementById(this.dom.pnRightArrow);c&&l&&u&&f&&h&&(c.style.display="none",f.style.display="none",h.style.display="none",l.style.visibility="none",u.style.visibility="none",f.style.display="none",h.style.display="none");break;default:var d=document.getElementById(t.dom.pnControl),p=document.getElementById(t.dom.hoverZoneLeft),m=document.getElementById(t.dom.hoverZoneRight),v=document.getElementById(t.dom.leftArrow),g=document.getElementById(t.dom.rightArrow);d&&p&&m&&v&&g&&(t._removeArrowHoverEvents(p,m),p.style.visibility="hidden",m.style.visibility="hidden",v.style.visibility="hidden",g.style.visibility="hidden",v.style.display="none",g.style.display="none",d.style.display="block")}}},{key:"setHeader",value:function(e){var t=document.getElementById(this._ID("fx_headerDiv"));t&&(e?(parseInt(t.style.height),t.style.height=e?"52px":"0"):t.style.display="none",this._onResizeContainer())}},{key:"setFullscreen",value:function(e){var t=document.getElementById(this._ID("fx_fullScreenButton"));t&&(t.style.display=e?"block":"none")}},{key:"setClose",value:function(e){var t=document.getElementById(this._ID("fx_closeButton"));t&&(t.style.display=e?"block":"none")}},{key:"setOptions",value:function(e){console.log("setOptions",e),this.setCaption(e.showCaption),this.setCarousel(e.showCarousel),this.setFooter(e.showFooter&&(e.showCaption||e.showCarousel)),this.setFooterState(e.footerInitialState),this.setPagination(e.pagination),this.setHeader(e.showHeader),this.setFullscreen(e.showFullscreenBtn),this.setClose(e.showCloseBtn),this.setChevron(e.showTab)}},{key:"_ID",value:function(e){return e+this.instanceId}},{key:"setNavButtonState",value:function(e,t){var n=t?"none":"block";(e?document.getElementById(this.dom.pnRightMask):document.getElementById(this.dom.pnLeftMask)).style.display=n}}])&&b(t.prototype,n),e}();function k(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){k(o,r,i,a,s,"next",e)}function s(e){k(o,r,i,a,s,"throw",e)}a(void 0)}))}}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(133);var C=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t,this.image=n,this.mainImageDivId=t.dom.mainImageDiv,this.clampHandler=null,this._flatImage_Element=null,this._360Image_Element=null,this.options={maxWidth:800,maxHeight:400,canvas:!1,pixelRatio:1,downsamplingRatio:1,orientation:!0,contain:!0,outputSizeLimit:3145725}}var t,n;return t=e,(n=[{key:"loadImageAsync",value:function(){var e=E(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.abrupt("return",new Promise((function(e,n){switch(t.image.imageType){case t.viewer.imageTypes.imgFlat:case t.viewer.imageTypes.imgPano:t.openFlatImageAsync().then(e,n);break;case t.viewer.imageTypes.img360:t.open360ImageAsync().then(e,n);break;default:n("loadImageAsync: unknown image type")}})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openFlatImageAsync",value:function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){t()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"open360ImageAsync",value:function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){t()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"openPanoImageAsync",value:function(){var e=E(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){t()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_swapToContainer",value:function(e){var t=this.viewer.Dom_FlatImageContainerDiv,n=this.viewer.Dom_360ImageContainerDiv;t&&n&&(e&&"360"==e?(r.a.hideElem(t),this._clearFlat(),r.a.showElem(n)):(r.a.hideElem(n),r.a.showElem(t)))}},{key:"_clearFlat",value:function(){for(var e=this.viewer.Dom_FlatImageContainerDiv;e.firstChild;)e.removeChild(e.firstChild)}},{key:"_clear360",value:function(){for(var e=this.viewer.Dom_360ImageContainerDiv;e.firstChild;)e.removeChild(e.firstChild)}}])&&I(t.prototype,n),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.viewer=t,this.deviceLoader=n,this.maxScale=4,this.padding=20}var t,n;return t=e,(n=[{key:"_getScaleRange",value:function(e){var t=this.maxScale||4,n=(e.cw-(this.padding<<1))/e.ow,r=(e.ch-(this.padding<<1))/e.oh;return{min:Math.min(n,r),max:t}}},{key:"_applyScale",value:function(e,t){return{cw:e.cw,ch:e.ch,ow:e.ow*t,oh:e.oh*t}}},{key:"_getXYRanges",value:function(e){var t,n,r,i,o=e.cw-(this.padding<<1),a=e.ch-(this.padding<<1);return e.oh<a&&(r=i=(e.ch>>1)-(e.oh>>1)),e.oh>a&&(r=-(e.oh-a+this.padding),i=this.padding),e.oh==a&&(r=i=this.padding),e.ow<o&&(t=n=(e.cw>>1)-(e.ow>>1)),e.ow>o&&(t=-(e.ow-o+this.padding),n=this.padding),e.ow==o&&(t=n=this.padding),{x:[t,n],y:[r,i]}}},{key:"_fitTransform",value:function(e,t){return t.x=Math.min(e.x[1],Math.max(e.x[0],t.x)),t.y=Math.min(e.y[1],Math.max(e.y[0],t.y)),t}},{key:"_revertContainerTransform",value:function(){var e=this.viewer.Dom_FlatImageContainerDiv;return r.a.parseMatrixTransform(e)}},{key:"clamp",value:function(e,t){this.padding;var n=this.viewer.Dom_FlatImage,r=this.viewer.Dom_FlatImageContainerDiv;if(n&&r){var i={cw:parseInt(r.offsetWidth),ch:parseInt(r.offsetHeight),ow:this.viewer.currentImage.originalSize.w,oh:this.viewer.currentImage.originalSize.h},o=this._getScaleRange(i),a=Math.min(this.maxScale,Math.max(o.min,e.scale));if(t&&t.fix&&a<e.scale){var s=this._revertContainerTransform();return e.x=s.x,e.y=s.y,e.scale=s.scale,e}var c=this._applyScale(i,a);e.scale=a;var l=this._getXYRanges(c);this._fitTransform(l,e),r.style.marginLeft=0,r.style.marginRight=0}return e}},{key:"clampHome",value:function(){var e,t=this.viewer.currentImage.originalSize,n=this.viewer.Dom_FlatImageContainerDiv;if(this.viewer.Dom_FlatImage&&n){var i=parseInt(n.offsetWidth),o=parseInt(n.offsetHeight),a=(this.padding,this.padding,t.w),s=t.h,c=(i-(this.padding<<1))/a,l=(o-(this.padding<<1))/s;e=Math.min(c,l);var u={x:this.padding,y:this.padding,scale:e};this.clamp(u),n.style.marginLeft=0,n.style.marginRight=0;var f=this.viewer.flexbox.dom.panzoomDivId;r.a.setMatrixTransform(f,u),this.viewer._panzoom_instance_api.setTransform(u),window.removeEventListener("keydown",this.viewer._panzoom_instance_api.onKeyDown),window.addEventListener("keydown",this.viewer._panzoom_instance_api.onKeyDown)}}},{key:"constrain",value:function(e){if(e&&2==e.length){var t=e[0],n=e[1],i=this.viewer.Dom_FlatImageContainerDiv,o={x:t,y:n,scale:r.a.parseMatrixTransform(i).scale};this.clamp(o),e[0]=o.x,e[1]=o.y}else console.log.error("invalid clamp vars")}},{key:"constrainRelative",value:function(e){if(e&&2==e.length){var t=e[0],n=e[1],i=this.viewer.Dom_FlatImageContainerDiv,o=r.a.parseMatrixTransform(i),a={x:o.x+t,y:o.y+n,scale:o.scale};this.clamp(a),e[0]=a.x-o.x,e[1]=a.y-o.y}else console.log.error("invalid clamp vars")}}])&&S(t.prototype,n),e}();function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"render",value:function(e,t){return new Promise((function(n,i){try{t?(e.pano=new BAIVLENS.ImagePanorama(t.url),e.pano.imagePath=t.url,e.pano.animationDuration=0,e.pano.addEventListener("load",(function(e){n()})),e.pano.loaded=!1,e.pano.progressElement={},e.viewer.panolensViewer.add(e.pano),n()):i(ex)}catch(e){r.a.onException(e),i(e)}}))}},{key:"clearImage",value:function(e){e&&e.pano&&(e.viewer.panolensViewer.remove(e.pano),e.pano.dispose(),console.log("pano360: cleared"))}},{key:"onProgress",value:function(e,t){console.log("pano360: progress= "+t.progress.loaded/t.progress.total*100+"%"),e.progressElement&&(e.panoView.progress=t.progress.loaded/t.progress.total*100,e.panoView.progressElement.style.width=e.panoView.progress+"%",100===e.panoView.progress&&e.panoView.progressElement.classList.add("baiv_progress_finish"))}}],null&&A(t.prototype,null),n&&A(t,n),e}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){P(o,r,i,a,s,"next",e)}function s(e){P(o,r,i,a,s,"throw",e)}a(void 0)}))}}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,z(t).call(this,e,n))}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(t,C),n=t,(i=[{key:"openFlatImageAsync",value:function(){var e=D(regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.abrupt("return",new Promise(function(){var e=D(regeneratorRuntime.mark((function e(o,a){var s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.viewer.flexbox.swapMainImageContainer(),n=t.viewer.Dom_FlatImageContainerDiv,t.clampHandler=new T(t.viewer,t),r.a.hideElem(void 0),r.a.hideElem(n),t._swapToContainer("flat"),t._clearFlat(),t.image.url,s=t.viewer.dom.flatImageDiv,(l=document.createElement("img")).setAttribute("id",s),n.appendChild(l),l.onload=function(){if(r.a.checkNaN(this.naturalWidth),r.a.checkNaN(this.naturalHeight),l.style.width=r.a.isDef(this.naturalWidth)&&this.naturalWidth>0?r.a.addPx(this.naturalWidth):r.a.addPx(this.width),l.style.height=r.a.isDef(this.naturalHeight)&&this.naturalHeight>0?r.a.addPx(this.naturalHeight):r.a.addPx(this.height),t.image.originalSize={w:parseInt(l.style.width),h:parseInt(l.style.height)},t.getZoomConstraint(6,!0).then((function(e){if(console.log("getZoomConstraint: "+e),0!=e){var i=e;t.viewer.main_panzoom_instance?t.viewer._panzoom_instance_api.setMinZoom(i):(t.viewer.main_panzoom_instance=new c,t.viewer._panzoom_instance_api=t.viewer.main_panzoom_instance.create.call(t.viewer.main_panzoom_instance,n,{minZoom:i,clampHandler:t.clampHandler,filterKey:function(){return!1}})),console.log(t.image.originalSize),t.clampHandler.clampHome(t.image.originalSize)}r.a.showElem(n),t.viewer.hideBusy("deviceLoaderBrowser: onLoad"),o()}),(function(e){r.a.onError(e),a(e,"getZoomConstraint failed")})),t.viewer.currentImageType===t.viewer.imageTypes.imgFlat&&r.a.isSizeRatioPano(this.naturalWidth,this.naturalHeight)){t.viewer.currentImage.isPano=!0,t.viewer.currentImageType=t.viewer.imageTypes.imgPano;var e=t.viewer.Dom_CarouselTray;r.a.isDef(t.viewer.thumbnailSlider)&&t.viewer.thumbnailSlider.addWatermark.call(t,e,t.viewer.currentImage.attachmentId),r.a.isDef(t.viewer.callbacks&&t.viewer.callbacks.updateImageTypeCallback)&&t.viewer.callbacks.updateImageTypeCallback(t.viewer.selectedIndex,"pano")}},l.onerror=function(e){console.log("error loading image",e),l.src=t.viewer.placeholderImage},l.setAttribute("src",i.image.url)}catch(e){console.log(e),a(e)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"open360ImageAsync",value:function(){var e=D(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.abrupt("return",new Promise((function(e,n){t._load360Image(t.viewer.currentImage).catch((function(e){console.log(e),n()})).then((function(){t.viewer.flexbox.swapMainImageContainer(),t.viewer.hideBusy("deviceLoaderBrowser: 360 loaded"),e()}),(function(e){console.log("open360 rejected: "+e),n(e)}))})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_load360Image",value:function(e){var t=this;return new Promise((function(e,n){try{var i=t.viewer.Dom_MainImageContainer,o=t.viewer.Dom_FlatImageContainerDiv,a=t.viewer.Dom_360ImageContainerDiv,s=i.offsetWidth,c=i.offsetHeight;r.a.hideElem(o),r.a.showElem(a),console.log(a),a.style.width=r.a.addPx(s),a.style.height=r.a.addPx(c),t.viewer.pano360={instanceId:t.viewer.instanceId,container:i,containerId:a},console.log("self.viewer.panolensViewer",t.viewer.panolensViewer),void 0===t.viewer.panolensViewer&&(console.log("new BAIVLENS.Viewer"),t.viewer.panolensViewer=new BAIVLENS.Viewer({container:a,output:"console"})),console.log(t,t.viewer.currentImage),L.render(t,t.viewer.currentImage).then((function(){console.log("360 render"),t.viewer.hideBusy("Pano360.render completed"),t.viewer&&t.viewer.main_panzoom_instance&&t.viewer.main_panzoom_instance.containerElement&&t.viewer.main_panzoom_instance.containerElement.dispatchEvent(new Event("resize")),e()}),(function(e){r.a.onError(e),n()}))}catch(e){console.log(e)}}))}},{key:"getZoomConstraint",value:function(e,t){var n=this;return new Promise((function(r,i){var o,a,s,c,l,u,f,h,d,p;if(--e>=0){var m=(s=1,c=n.viewer.Dom_MainImageContainer,l=n.viewer.Dom_FlatImage,u=c.offsetWidth,f=c.offsetHeight,h=Math.floor(.1*Math.min(u,f)),d=l.offsetWidth,p=l.offsetHeight,u>0&&f>0&&d>0||p>0?(n.image.imageType==n.viewer.imageTypes.img360?(a=f/p,o=u/d,s=Math.max(o,a)):n.image.imageType==n.viewer.imageTypes.imgPano?(a=o=u/d,s=Math.max(o,a)):(o=f/(p+h),a=u/(d+h),s=Math.min(o,a)),t&&n.main_panzoom_instance?(n.main_panzoom_instance.setMinZoom(s),{failed:0,scale:s}):{failed:0,scale:s}):{failed:1});m.failed?n.getZoomConstraint(e,t).then((function(e){e.failed||r(e)}),(function(e){i(e)})):r(m.scale)}else i("timed out")}))}}])&&F(n.prototype,i),t}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).nls,n=void 0===t?null:t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),e.CodesMap={ja:"ja",pt:"pt","pt-br":"pt","pt-pt":"pt","fr-fr":"fr","fr-be":"fr","fr-ca":"fr","fr-lu":"fr","fr-ch":"fr",fr:"fr","de-de":"de","de-li":"de","de-lu":"de","de-ch":"de",de:"de",en:"en","en-us":"en",custom:"custom"},e.Strings={ja:{"image-viewer-close":"クローズ","image-viewer-fullscreen":"全画面","image-viewer-minimize":"最小化","image-viewer-title":"画像ビューアー"},de:{"image-viewer-close":"Schließen","image-viewer-fullscreen":"Vollbild","image-viewer-minimize":"Minimieren","image-viewer-title":"Bildanzeige"},fr:{"image-viewer-close":"Fermer","image-viewer-fullscreen":"Plein écran","image-viewer-minimize":"Réduire","image-viewer-title":"Visionneuse d'images"},pt:{"image-viewer-close":"Fechar","image-viewer-fullscreen":"Tela Cheia","image-viewer-minimize":"Minimizar","image-viewer-title":"Visualizador de Imagem"},en:{"image-viewer-close":"Close","image-viewer-fullscreen":"Fullscreen","image-viewer-minimize":"Minimize","image-viewer-title":"Photo Viewer"},custom:n},this.locale=this.getLocale(n)}var t,n,i;return t=e,i=[{key:"Strings",get:function(){return this.hasOwnProperty("_Strings")?this._Strings:null},set:function(e){this._Strings=e}},{key:"CodesMap",get:function(){return this.hasOwnProperty("_Codes")?this._Codes:null},set:function(e){this._Codes=e}}],(n=[{key:"getLocale",value:function(e){var t="en";return null!==e?t="custom":navigator&&(null!=navigator.languages?t=navigator.languages[0]:navigator.language&&(t=navigator.language)),t.toLowerCase()}},{key:"i18n",value:function(e){var t;return r.a.hasText(this.locale)&&r.a.hasText(e)&&(t=this.language(this.locale)[e]),t||(t=this.language("en")[e]),t||"@@@@"}},{key:"language",value:function(t){var n="en";r.a.hasText(t)&&(n=t.toLowerCase());var i=e.CodesMap[n];return i||(i="en"),e.Strings[i]}}])&&R(t.prototype,n),i&&R(t,i),e}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){H(o,r,i,a,s,"next",e)}function s(e){H(o,r,i,a,s,"throw",e)}a(void 0)}))}}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return Z}));var Z=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instanceId=e.IDcounter,e.bumpIdCounter(),this.container=null,this.images=n,this.selectedImage=0,this.flexbox=null,this.cssStyles=new Array,this.main_panzoom_instance=null,this.imageTypes={imgFlat:1,imgPano:2,img360:3},this.supportedImageTypes={JPEG:1,JPG:1,PNG:1,TIF:1,TIFF:1,GIF:1},this.imageType=null,this.localized=new N({nls:r}),this._CAROUSEL_TRAY_INITIAL_HEIGHT=68,this.placeholderImage="data:image/svg+xml,%3Csvg version='1.1' id='placeholderImage' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns:svg='http://www.w3.org/2000/svg' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 225 225' style='enable-background:new 0 0 225 225;' xml:space='preserve'%3E%3Cstyle type='text/css'%3E.st0{fill:%23BABABA;}.st1{fill:%23E1E1E1;}%3C/style%3E%3Crect class='st0' width='225' height='225'/%3E%3Cg id='g3049'%3E%3Cpath id='path3053' inkscape:connector-curvature='0' class='st1' d='M105,75.2c0.5-0.9,2.9-3.5,4.7-4.4c3.5-1.7,7.6,0.1,10.6,4.7c2.8,4.3,12.6,21.4,13.5,23.2c0.1,0.3,1.6,3,2.4,4.6c0.1,0.1,2.2,3.3,4.6,7.4c3.2,5.7,3.5,5.8,3.9,6.7c0.4,0.7,0.4,0.7,0.8,1.3c0.2,0.4,0.2,0.5,0.3,0.6c0.3,0.4,10.8,18.7,12.2,21.3c1.6,3,2.2,6.5,1.4,8.9c-0.6,1.8-2.9,3.8-5,4.5c-1.9,0.6-78.1,1-81.4,0.4c-4.1-0.7-6.9-2.9-7.5-5.8c-0.4-2.1,0.1-5,1.2-7.1 M116.8,141.9c2.2-1.7,2.9-3.4,2.7-6.1c-0.2-2.4-1-3.9-3.1-5.4c-0.9-0.7-1.8-0.9-3.9-0.9c-2.3,0-2.9,0.2-4.2,1.2c-2,1.6-2.9,3.2-2.9,5.8C105.5,142,112.3,145.3,116.8,141.9z M118.5,95.5l-0.7-1.3l-1.2-0.9c-3.1-2.2-8.2-1-10.1,2.4c-1.2,2.1-1.2,4.2-0.2,9.8c0.4,2.4,1.2,7.3,1.8,10.9c0.5,3.6,1,7.1,1.1,7.6c0.2,0.9,0.4,1,3.5,1l3.3,0l1.2-8.7v0c1.5-10.7,2.1-13.4,2-12.5c0,0.1,0.1-0.5,0.1-1c0.1-0.4,0.2-1,0.3-2.4C119.6,98.5,119,96.4,118.5,95.5'/%3E%3C/g%3E%3C/svg%3E",t&&this.setOptions(t),e.hasCSS||(this.loadCSS(),e.hasCSS=!0)}var t,n,i;return t=e,n=[{key:"_id",value:function(e){return e+this.instanceId}},{key:"create",value:function(){var e=W(regeneratorRuntime.mark((function e(t,n,r){var i,o,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>3&&void 0!==a[3]?a[3]:0,o=this,this.container=r,this.selectedImage=i,e.abrupt("return",new Promise(function(){var e=W(regeneratorRuntime.mark((function e(r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o._loadDependencies(t,n).then((function(){o.createLayout().then((function(){o.showBusy(),o.loadThumbnails().then((function(){o.loadMainImage(o.selectedImage).then(r,i)}),i)}),i)}),i);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_loadDependencies",value:function(){var e=W(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,e.next=3,new Promise(function(){var e=W(regeneratorRuntime.mark((function e(o,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:("undefined"==typeof BAIV3||"undefined"==typeof BAIVLENS)&&r.a.hasText(t)&&r.a.hasText(n)?(console.log("--\x3eloading viewer dependencies"),i._loadScript(t,(function(e){console.log("     |:loaded three"),i._loadScript(n,(function(e){console.log("     |:loaded panolens"),o()}),(function(e){a("error loading panolens")}))}),(function(e){a("error loading three")}))):o();case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createLayout",value:function(){var e=W(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,new Promise(function(){var e=W(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.flexbox=new _(t),e.next=4,t.flexbox.generateHTML().then((function(){t.flexbox.setOptions(t.options),n()}),r);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadThumbnails",value:function(){var t=W(regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this,t.next=3,new Promise((function(t,o){var a,s,c=n.Dom_CarouselTray,l=n.Dom_CarouselContainer,u=[];if(r.a.isDef(n.images)&&n.images.length>=1){for(var f=0;f<n.images.length;f++)(a=n.images[f]).attachmentId||(a.attachmentId=f),s=a.thumbnail&&e.isBase64(a.thumbnail)?e.fixBase64(a.thumbnail):a.url,u.push({id:a.attachmentId,src:s,caption:a.caption});n.thumbnails=u,i.thumbnailSlider=new y(i),i.thumbnailSlider.initialize(l,c,n.thumbnails).then(t,o)}else o("no thumbnails")}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"showImage",value:function(){var e=W(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,new Promise((function(e,r){n.images&&n.images.length>0&&t>=0&&t<n.images.length?(n.deviceOpener||console.log("error"),n.deviceOpener._swapToContainer(n.images[t].currentImageType),n.showBusy("showImage..."),n.selectedImage=t,n.updateWatermark(),n.loadMainImage(t,1).then(e,r)):(n.hideBusy("showImage -no images..."),r("showImage: index out of valid range"))}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadMainImage",value:function(){var e=W(regeneratorRuntime.mark((function e(t,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this,e.next=3,new Promise((function(e,o){return setTimeout((function(){try{if(L.clearImage(i.deviceOpener),i.images&&i.images.length>0){i.container,i.instanceId;var a=i.images[t];i.currentImage=a,i.deviceOpener=null,a.imageType=a.isPano?i.imageTypes.imgPano:a.is360?i.imageTypes.img360:i.imageTypes.imgFlat,i.currentImageType=a.imageType,i.deviceOpener=new O(i,a),i.options.showFooter&&i.options.showCaption&&i._setCaption(a),i.options.showHeader&&i._setImageTitle(a),i.deviceOpener.loadImageAsync().then((function(){n?e():y.selectThumbnail(i.thumbnailSlider,t,!0).then((function(){e()}),(function(e){r.a.log(e),console.log(e),o()}))}),o)}else o("no images")}catch(e){console.log(e),o("Viewer: loadMainImage failed.")}}),0)}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_setImageTitle",value:function(e){document.getElementById(this.flexbox.dom.filename).innerText=e.filename}},{key:"_setCaption",value:function(e){document.getElementById(this.flexbox.dom.caption).innerText=e.caption||" "}},{key:"_loadScript",value:function(e,t,n){try{var i=document.getElementsByTagName("head")[0],o=document.createElement("script");console.log("     |:loading: "+e),o.type="text/javascript",o.src=e,o.onload=t,o.onerror=n,i.appendChild(o)}catch(t){r.a.onException(t),console.log("unable to load: "+e)}}},{key:"updateWatermark",value:function(){var e=this.Dom_Watermark,t=this.selectedImage,n=this.images[t];n.is360?(e.innerHTML=p.baiv_main_watermark360(),r.a.addClass(e,"baiv_main_watermark360"),r.a.removeClass(e,"baiv_main_watermarkPano")):n.isPano?(e.innerHTML=p.baiv_main_watermarkPano(),r.a.addClass(e,"baiv_main_watermarkPano"),r.a.removeClass(e,"baiv_main_watermark360")):(e.innerHTML="",r.a.removeClass(e,"baiv_main_watermark360"),r.a.removeClass(e,"baiv_main_watermarkPano"))}},{key:"setPresets",value:function(e){switch(e){case"embedded":this.options={showCaption:!0,showCarousel:!1,showFooter:!0,showTab:!1,footerInitialState:"up",pagination:"sides",showHeader:!1,showWatermark:!0,showFullscreenBtn:!0,showCloseBtn:!1};break;case"phone":this.options={showCaption:!0,showCarousel:!0,showFooter:!1,closeCarousel:!0,showTab:!0,footerInitialState:"down",pagination:"swipe",showHeader:!1,showWatermark:!0,showFullscreenBtn:!1,showCloseBtn:!1};break;case"tablet":this.options={showCaption:!0,showCarousel:!0,showFooter:!0,closeCarousel:!1,showTab:!0,footerInitialState:"up",pagination:"swipe",showHeader:!0,showWatermark:!0,showFullscreenBtn:!0,showCloseBtn:!1};break;default:this.options={showCaption:!0,showCarousel:!0,showFooter:!0,showTab:!0,closeCarousel:!1,footerInitialState:"up",pagination:"bottom",showHeader:!0,showWatermark:!0,showFullscreenBtn:!0,showCloseBtn:!0}}}},{key:"setOptions",value:function(e){console.log("self",this),this._mode=this._validateOption(e.mode,"standard",["standard","embedded","phone","tablet"]),this.setPresets(this._mode),this.options.showCaption=void 0!==e.showCaption?this._validateOption(e.showCaption,!0):this.options.showCaption,this.options.showCarousel=void 0!==e.showCarousel?this._validateOption(e.showCarousel,!0):this.options.showCarousel,this.options.showFooter=void 0!==e.showFooter?this._validateOption(e.showFooter,!0):this.options.showFooter,this.options.showTab=void 0!==e.showTab?this._validateOption(e.showTab,!0):this.options.showTab,this.options.closeCarousel=void 0!==e.closeCarousel?this._validateOption(e.closeCarousel,!0):this.options.closeCarousel,this.options.footerInitialState=void 0!==e.footerInitialState?this._validateOption(e.footerInitialState,"up",["up","down"]):this.options.footerInitialState,this.options.pagination=void 0!==e.pagination?this._validateOption(e.pagination,"bottom",["sides","bottom","swipe","none"]):this.options.pagination,this.options.showHeader=void 0!==e.showHeader?this._validateOption(e.showHeader,!0):this.options.showHeader,this.options.showFullscreenBtn="safari"!==r.a.getBrowser()&&(void 0!==e.showFullscreenBtn?this._validateOption(e.showFullscreenBtn,!0):this.options.showFullscreenBtn),this.options.showCloseBtn=void 0!==e.showCloseBtn?this._validateOption(e.showCloseBtn,!0):this.options.showCloseBtn,this.options.onCloseCallback=void 0!==e.onCloseCallback?this._validateOption(e.onCloseCallback):null}},{key:"_usingSwipe",value:function(){return"swipe"==this.options.pagination}},{key:"_validateOption",value:function(e,t,n){if(null==e||e.len<=0)return t;if("boolean"==typeof t)return"boolean"!=typeof e?t:e;if("function"==typeof e)return e;var r=e.toLowerCase();if(r===t.toLowerCase())return r;if("object"===j(n))for(var i=0;i<n.length;i++){var o=n[i];if(r===o.toLowerCase())return o}return t}},{key:"loadCSS",value:function(){var t,n,i;if(!e.hasCSS){var o=new Array;o.push(".baiv_loading {background-size: contain;background-repeat: no-repeat;background-position: 50%;width: 60px;height: 60px;position: absolute;left: calc(50% - 30px);top: calc(50% - 30px);z-index:999;}"),o.push(".baiv_navbar {background: #0079C1; text-align:center; height: 54px !important; color: white; position:absolute; top: 0; left: 0; width:100%; z-index: 999999;}"),o.push(".baiv_tooltip .baiv_tooltiptext {visibility: hidden;white-space: nowrap;position: absolute;width: auto;border: 1px solid #d3d3d3;background-color: #ffffff;color: #4c4c4c;;text-align: left;padding: 8px 10px;border-radius: 3px;z-index: 10003;box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);font-size: 12px;}"),o.push(".baiv_tooltip .baiv_tooltip-left::after {content: '';position: absolute;top: 50%;left: 100%;margin-top: -5px;border-width: 5px;border-style: solid;border-color: transparent transparent transparent #ffffff;}"),o.push(".baiv_tooltip:hover .baiv_tooltiptext {visibility: visible;opacity: 1;}"),o.push(".baiv_tooltip-left {top:-6px; bottom: auto;right: 140%;}"),o.push(".baiv_container {background-color: rgba(82, 86, 89, 0.6) !important; z-index: 1001 !important;font-family:'Avenir Next', Avenir, 'Helvetica Neue', Helvetica, Arial, sans-serif;font-size:13px; text-align:unset !important;}"),o.push(".baiv_panzoom_cont {position:relative; top:0; left:0; width:100%;height:calc(100% - 50px);z-index:2;overflow:visible;}"),o.push(".baiv_panzoom_image {height: 100%; z-index:999; margin:0; display:block;}"),"safari"===r.a.getBrowser()||r.a.is_iOS()||o.push(".baiv_panzoom_image:fullscreen img {object-fit:contain !important; background-color:black !important; width: 100% !important; height: 100% !important;}"),o.push(".baiv_panzoom_360 {background-color: unset !important;height:100%;}"),o.push(".baiv_thumbnails_tray {position:relative;bottom:0;height:68px;background-color:rgb(93, 93, 93);}"),o.push(".baiv_thumbnails_slowMove {transition-property: transform;transition-duration: 500ms;}"),o.push(".baiv_thumbnails_imgDiv {position:relative;max-width: 120px;height: 58px;width: auto;display: inline-block;margin: 5px; cursor:pointer;}"),o.push("div.baiv_thumbnails_tray img {max-width: 120px;height: 58px;width: auto;}"),o.push(".baiv_thumbnails_select_border {-webkit-box-shadow: white 0 0 0 3px;-moz-box-shadow: white 0 0 0 3px;box-shadow: white 0 0 0 3px;}"),o.push(".baiv_thumbnails_watermarkPano {width: 24px;height: 24px;position: absolute;top: 10px;left: 12px;}"),o.push(".baiv_thumbnails_watermark360 {width: 24px;height: 24px;position: absolute;top: 10px;left: 12px;}"),o.push(".fx_headerDiv {display: flex;background-color: rgb(37, 94, 145);z-index:3;}"),o.push(".fx_titleDiv {display: flex;flex: 0 0 180px; padding: 0 16px;color: white;align-items: center;justify-content: flex-start;}"),o.push(".fx_rightPadding {display: flex;flex: 0 0 160px;padding: 0 16px;color:white;align-items: center;justify-content: flex-end;}"),o.push(".fx_headerButtonsDiv {display: block;width: auto;height:24px;right:0;position: absolute;top: 14px;background: transparent;text-align: right;z-index: 3;}"),o.push(".fx_fullScreenButton {position:relative;float:left;width: 24px;margin-right: 25px;height: 24px;top: 0;right: 0; cursor: pointer;}"),o.push(".fx_minimizeButton {width: 24px;height: 24px;position: absolute;top: 25px;right: 25px;filter: drop-shadow(0px 0px 0px rgb(93, 93, 93));cursor: pointer;}"),o.push(".fx_closeButton {position:relative;float:left;right:0;margin-right: 25px;top:0;font-size: 8pt;color: white;text-align: center;cursor: pointer;border: none;}"),o.push(".fx_filenameDiv {display: flex;flex: 1;color: white;font-size:10pt;text-align: center;align-items: center;justify-content: center;}"),o.push(".fx_buttons {width: 24px;height: 24px;}"),o.push(".fx_outer {width: 100%;display: flex;flex-flow: column;flex-direction: column;height: 300px;}"),o.push(".fx_imageContainer {position: absolute;top: 0;width: 100%;height: 100%;background-color:#333;z-index: 1;}"),o.push(".fx_watermark {position: absolute;top: 57px;left: 22px;width: 32px;height: 32px;z-index: 3;color: white;text-align: center;font-size: 8pt;}"),o.push(".fx_bottomBar {position: absolute;bottom:0;left:0;display: block;height: auto;width:100%;color: white;z-index: 2;}"),o.push(".fx_captionBar {display: block;height: 26px;padding-top:4px;color: white;font-size:10pt;background-color: rgba(60,60,60,0.75);text-align: center;}"),o.push(".fx_captionBar:empty {display: none !important;}"),o.push(".fx_carouselContainer {display:none; background-color: #5d5d5d;width:100% !important;overflow:hidden;}"),o.push(".fx_chevronTab {position: absolute; text-align:center; top: -24px;left: 18px;width: 42px;height: 24px;background-color: rgba(60, 60, 60, 0.75);border-top-left-radius: 3px;border-top-right-radius: 3px;z-index: 2; cursor: pointer}"),o.push(".fx_chevronTab svg {width:25px; }"),o.push(".fx_chevronUp {transform: rotate(180deg); border-bottom-left-radius: 3px;border-bottom-right-radius: 3px; border-top-left-radius: 0px;border-top-right-radius: 0px;}"),o.push(".fx_leftRightArrows {visibility: hidden;position: absolute;top: calc(50% - 20px);width: 43px;height: 43px;background-color: rgba(90, 90, 90, 0.35);border-radius: 28px;z-index: 2;}"),o.push(".fx_hoverL {visibility: hidden;position: absolute;left: 10px;top: 34%;width: 14%;height: 34%;background-color: transparent;z-index: 2;}"),o.push(".fx_hoverR {visibility: hidden;position: absolute;right: 10px;top: 34%;width: 14%;height: 34%;background-color: transparent;z-index: 2;}"),o.push(".fx_LeftMask {width: 36px;height: 32px;position: absolute;top: 0;left: 0; background-color:rgba(105, 105, 105);opacity:0.6;z-index:2; border-top-left-radius: 8px;border-bottom-left-radius: 8px;}"),o.push(".fx_RightMask {width: 36px;height: 32px;position: absolute;top: 0;left: 40px;background-color:rgba(105, 105, 105);opacity:0.6;z-index:2; border-top-right-radius: 8px;border-bottom-right-radius: 8px;}"),o.push(".fx_LeftArrowMask, .fx_RightArrowMask {background-color:rgba(105, 105, 105);opacity:0.3;z-index:2;}"),o.push(".fx_prevImageArrow svg, .fx_nextImageArrow svg {height:22px; }"),o.push(".fx_prevImageArrow {cursor:pointer; z-index: 3;visibility: hidden;left: 18px;display:flex; align-items: center; justify-content:center;}"),o.push(".fx_nextImageArrow {cursor:pointer; z-index: 3;right: 18px;display:flex; align-items: center; justify-content:center;}"),o.push(".fx_prevImageButton svg, .fx_nextImageButton svg {height: 32px;}"),o.push(".fx_prevImageButton {display:flex; align-items:center; justify-content: center; width: 40px;height: 32px;position: absolute;top: 0;left: 0;color: #fff;}"),o.push(".fx_nextImageButton {display:flex; align-items:center; justify-content: center; width: 36px;height: 32px;position: absolute;top: 0;left: 40px;color: #fff;}"),o.push(".fx_LeftMask {width: 36px;height: 32px;position: absolute;top: 0;left: 0; background-color:rgba(105, 105, 105);opacity:0.6;z-index:2; border-top-left-radius: 8px;border-bottom-left-radius: 8px;}"),o.push(".fx_RightMask {width: 36px;height: 32px;position: absolute;top: 0;left: 40px;background-color:rgba(105, 105, 105);opacity:0.6;z-index:2; border-top-right-radius: 8px;border-bottom-right-radius: 8px;}"),o.push(".fx_nextImageOn {cursor: pointer;background-color: rgba(105,105,105,0.7);border-top-right-radius: 8px;border-bottom-right-radius: 8px;}"),o.push(".fx_prevImageOn {cursor: pointer;background-color: rgba(105,105,105,0.7);border-top-left-radius: 8px;border-bottom-left-radius: 8px}"),o.push(".fx_imageNavDivider {cursor: none;position: absolute;top: 8px;left:40px;width: 1px;height: 16px;z-index:2;background-color: #484848;}"),o.push(".fx_prevNextControl {display:block;position:absolute;top:-60px;right:18px;width:81px;background-color:rgba(0,0,0,0);}"),o=o.join(""),console.log(o),t=o,n=document.head||document.getElementsByTagName("head")[0],(i=document.createElement("style")).setAttribute("id","photoViewerStyles"+this.instanceId),n.appendChild(i),i.type="text/css",i.appendChild(document.createTextNode(t)),e.hasCSS=!0}}},{key:"getImageByAtachmentId",value:function(e){var t,n;if(this.images&&this.images.length>0)for(t=0;t<this.images.length;t++)if((n=this.images[t]).attachmentId==e)return n;return null}},{key:"hideBusy",value:function(e){var t=document.getElementById(this.flexbox.dom.busyLoader);t&&setTimeout((function(){r.a.hideElem(t)}),500)}},{key:"showBusy",value:function(e){var t=document.getElementById(this.flexbox.dom.busyLoader),n=document.getElementById(this.flexbox.dom.outer);t?r.a.showElem(t):((t=document.createElement("div")).setAttribute("id",this.flexbox.dom.busyLoader),r.a.addClass(t,"baiv_loading"),n.appendChild(t))}},{key:"isBusy",value:function(){var e=document.getElementById(this.flexbox.dom.busyLoader);return e&&"block"==e.style.display}},{key:"ID",value:function(e){return e+this.instanceId}},{key:"Dom_CarouselContainer",get:function(){return document.getElementById(this.flexbox.dom.carousel)}},{key:"Dom_CarouselTray",get:function(){return document.getElementById(this.flexbox.dom.carouselTray)}},{key:"Dom_MainImageContainer",get:function(){return document.getElementById(this.flexbox.dom.mainImageDiv)}},{key:"Dom_FlatImageContainerDiv",get:function(){return document.getElementById(this.flexbox.dom.panzoomDivId)}},{key:"Dom_FlatImage",get:function(){return document.getElementById(this.flexbox.dom.flatImageDiv)}},{key:"Dom_360ImageContainerDiv",get:function(){return document.getElementById(this.flexbox.dom.panolensDivId)}},{key:"Dom_Watermark",get:function(){return document.getElementById(this.flexbox.dom.watermark)}},{key:"Dom_Footer",get:function(){return document.getElementById(this.flexbox.dom.footer)}},{key:"dom",get:function(){return this.flexbox?this.flexbox.dom:null}}],i=[{key:"fixBase64",value:function(t){if(t.substr(0,e.imagePrefix.length)!==e.imagePrefix){var n=t.replace(/^data:image\/[a-z]+;base64,/,"");return e.imagePrefix+n}return t}},{key:"isBase64",value:function(e){if(""===e||""===e.trim())return!1;try{return btoa(atob(e))==e}catch(e){return!1}}},{key:"bumpIdCounter",value:function(){void 0===this._idCounter?this._idCounter=1:this._idCounter++}},{key:"imagePrefix",get:function(){return"data:image/png;base64,"}},{key:"hasCSS",set:function(e){this._hasCSS=e},get:function(){return this._hasCSS}},{key:"IDcounter",get:function(){return void 0===this._idCounter&&(this._idCounter=1),this._idCounter}}],n&&V(t.prototype,n),i&&V(t,i),e}()},function(e,t,n){"use strict";n.r(t),function(e){n(34),n(36);var t,r=n(0),i=n(85);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.container,n=void 0===t?null:t,o=e.images,a=void 0===o?null:o,s=e.selectedIndex,c=void 0===s?0:s,l=e.options,u=void 0===l?{}:l,f=e.urlThree,h=void 0===f?null:f,d=e.urlPanolens,p=void 0===d?null:d,m=e.nls,v=void 0===m?null:m;console.log("esriPhotoViewer constructor...");try{console.log("--\x3eCreating NEW esriPhotoViewer: "+n.id),this.images=a,this.selectedIndex=c,this.viewerContainer=r.a.isDef(n)?n:null,r.a.emptyChildNodes(this.viewerContainer),r.a.addClass(this.viewerContainer,"baiv_container"),console.log("here2",u),new i.a(u,this.images,v).create(h,p,this.viewerContainer,this.selectedIndex)}catch(e){throw r.a.onException(e),"Failed to instantiate photo viewer"}};return t.Image=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filename,n=void 0===t?null:t,i=e.imageType,o=void 0===i?"flat":i,a=e.url,s=e.caption,c=void 0===s?null:s,l=e.thumbnail,u=void 0===l?null:l,f=e.attachmentId,h=void 0===f?0:f,d=e.externalImage,p=void 0!==d&&d;this.filename=n,this.url=a,this.caption=c,this.is360="360"===o||r.a.is360File(n),this.isPano="pano"===o||r.a.isPanoFile(n),this.thumbnail=u,this.attachmentId=h,this.externalImage=p},t},"function"==typeof define&&n(134)?define([],t):"object"===o(e)&&e.exports?e.exports=t():window.esriPhotoViewer=t()}.call(this,n(87)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){e.exports=n(35)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(18)("meta"),i=n(9),o=n(13),a=n(8).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(6)((function(){return c(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&c(e)&&!o(e,r)&&u(e),e}}},function(e,t,n){var r=n(31),i=n(64),o=n(47);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),c=o.f,l=0;s.length>l;)c.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(8),i=n(4),o=n(31);e.exports=n(5)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(20),i=n(25).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(19),i=n(94),o=n(67),a=n(4),s=n(7),c=n(68),l={},u={};(t=e.exports=function(e,t,n,f,h){var d,p,m,v,g=h?function(){return e}:c(e),y=r(n,f,t?2:1),w=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(d=s(e.length);d>w;w++)if((v=t?y(a(p=e[w])[0],p[1]):y(e[w]))===l||v===u)return v}else for(m=g.call(e);!(p=m.next()).done;)if((v=i(m,y,p.value,t))===l||v===u)return v}).BREAK=l,t.RETURN=u},function(e,t,n){var r=n(4);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(1),i=n(69).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(21)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(c&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var f=!0,h=document.createTextNode("");new o(l).observe(h,{characterData:!0}),n=function(){h.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(1).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(4),i=n(9),o=n(71);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(1),i=n(73),o=n(8).f,a=n(25).f,s=n(52),c=n(40),l=r.RegExp,u=l,f=l.prototype,h=/a/g,d=/a/g,p=new l(h)!==h;if(n(5)&&(!p||n(6)((function(){return d[n(2)("match")]=!1,l(h)!=h||l(d)==d||"/a/i"!=l(h,"i")})))){l=function(e,t){var n=this instanceof l,r=s(e),o=void 0===t;return!n&&r&&e.constructor===l&&o?e:i(p?new u(r&&!o?e.source:e,t):u((r=e instanceof l)?e.source:e,r&&o?c.call(e):t),n?this:f,l)};for(var m=function(e){e in l||o(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},v=a(u),g=0;v.length>g;)m(v[g++]);f.constructor=l,l.prototype=f,n(12)(r,"RegExp",l)}n(51)("RegExp")},function(e,t,n){"use strict";var r=n(3),i=n(101);r(r.P+r.F*!n(33)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){var r=n(23),i=n(15),o=n(43),a=n(7);e.exports=function(e,t,n,s,c){r(t);var l=i(e),u=o(l),f=a(l.length),h=c?f-1:0,d=c?-1:1;if(n<2)for(;;){if(h in u){s=u[h],h+=d;break}if(h+=d,c?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;c?h>=0:f>h;h+=d)h in u&&(s=t(s,u[h],h,l));return s}},function(e,t,n){var r=n(2)("unscopables"),i=Array.prototype;null==i[r]&&n(11)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(32),i=n(29),o=n(30),a={};n(11)(a,n(2)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(106);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(9),i=n(65),o=n(2)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(52),i=n(4),o=n(49),a=n(56),s=n(7),c=n(57),l=n(58),u=n(6),f=Math.min,h=[].push,d=!u((function(){RegExp(4294967295,"y")}));n(59)("split",2,(function(e,t,n,u){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,d=void 0===t?4294967295:t>>>0,p=new RegExp(e.source,u+"g");(o=l.call(p,i))&&!((a=p.lastIndex)>f&&(c.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&h.apply(c,o.slice(1)),s=o[0].length,f=a,c.length>=d));)p.lastIndex===o.index&&p.lastIndex++;return f===i.length?!s&&p.test("")||c.push(""):c.push(i.slice(f)),c.length>d?c.slice(0,d):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):p.call(String(i),n,r)},function(e,t){var r=u(p,e,this,t,p!==n);if(r.done)return r.value;var l=i(e),h=String(this),m=o(l,RegExp),v=l.unicode,g=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(d?"y":"g"),y=new m(d?l:"^(?:"+l.source+")",g),w=void 0===t?4294967295:t>>>0;if(0===w)return[];if(0===h.length)return null===c(y,h)?[h]:[];for(var x=0,b=0,_=[];b<h.length;){y.lastIndex=d?b:0;var k,E=c(y,d?h:h.slice(b));if(null===E||(k=f(s(y.lastIndex+(d?0:b)),h.length))===x)b=a(h,b,v);else{if(_.push(h.slice(x,b)),_.length===w)return _;for(var I=1;I<=E.length-1;I++)if(_.push(E[I]),_.length===w)return _;b=x=k}}return _.push(h.slice(x)),_}]}))},function(e,t,n){"use strict";var r=n(58);n(3)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){"use strict";var r=n(4),i=n(7),o=n(56),a=n(57);n(59)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),l=String(this);if(!c.global)return a(c,l);var u=c.unicode;c.lastIndex=0;for(var f,h=[],d=0;null!==(f=a(c,l));){var p=String(f[0]);h[d]=p,""===p&&(c.lastIndex=o(l,i(c.lastIndex),u)),d++}return 0===d?null:h}]}))},function(e,t,n){"use strict";var r=n(3),i=n(7),o=n(111),a="".endsWith;r(r.P+r.F*n(112)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),c=String(e);return a?a.call(t,c,s):t.slice(s-c.length,s)===c}})},function(e,t,n){var r=n(52),i=n(24);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(2)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";n(114);var r=n(4),i=n(40),o=n(5),a=/./.toString,s=function(e){n(12)(RegExp.prototype,"toString",e,!0)};n(6)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(e,t,n){n(5)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(40)})},function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(12)(r,"toString",(function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"}))},function(e,t,n){"use strict";var r=n(3),i=n(44)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(33)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(3),i=n(20),o=n(14),a=n(7),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(33)(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(3),i=n(55)(1);r(r.P+r.F*!n(33)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(77)(!0);n(75)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(15),i=n(31);n(122)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(3),i=n(16),o=n(6);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){n(124)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){"use strict";if(n(5)){var r=n(17),i=n(1),o=n(6),a=n(3),s=n(82),c=n(125),l=n(19),u=n(48),f=n(29),h=n(11),d=n(50),p=n(14),m=n(7),v=n(83),g=n(37),y=n(28),w=n(13),x=n(39),b=n(9),_=n(15),k=n(67),E=n(32),I=n(76),C=n(25).f,S=n(68),T=n(18),A=n(2),L=n(55),M=n(44),P=n(49),D=n(41),F=n(27),z=n(72),B=n(51),O=n(84),R=n(126),N=n(8),j=n(38),H=N.f,W=j.f,V=i.RangeError,Z=i.TypeError,G=i.Uint8Array,U=Array.prototype,Y=c.ArrayBuffer,X=c.DataView,q=L(0),K=L(2),J=L(3),Q=L(4),$=L(5),ee=L(6),te=M(!0),ne=M(!1),re=D.values,ie=D.keys,oe=D.entries,ae=U.lastIndexOf,se=U.reduce,ce=U.reduceRight,le=U.join,ue=U.sort,fe=U.slice,he=U.toString,de=U.toLocaleString,pe=A("iterator"),me=A("toStringTag"),ve=T("typed_constructor"),ge=T("def_constructor"),ye=s.CONSTR,we=s.TYPED,xe=s.VIEW,be=L(1,(function(e,t){return Ce(P(e,e[ge]),t)})),_e=o((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),ke=!!G&&!!G.prototype.set&&o((function(){new G(1).set({})})),Ee=function(e,t){var n=p(e);if(n<0||n%t)throw V("Wrong offset!");return n},Ie=function(e){if(b(e)&&we in e)return e;throw Z(e+" is not a typed array!")},Ce=function(e,t){if(!(b(e)&&ve in e))throw Z("It is not a typed array constructor!");return new e(t)},Se=function(e,t){return Te(P(e,e[ge]),t)},Te=function(e,t){for(var n=0,r=t.length,i=Ce(e,r);r>n;)i[n]=t[n++];return i},Ae=function(e,t,n){H(e,t,{get:function(){return this._d[n]}})},Le=function(e){var t,n,r,i,o,a,s=_(e),c=arguments.length,u=c>1?arguments[1]:void 0,f=void 0!==u,h=S(s);if(null!=h&&!k(h)){for(a=h.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(f&&c>2&&(u=l(u,arguments[2],2)),t=0,n=m(s.length),i=Ce(this,n);n>t;t++)i[t]=f?u(s[t],t):s[t];return i},Me=function(){for(var e=0,t=arguments.length,n=Ce(this,t);t>e;)n[e]=arguments[e++];return n},Pe=!!G&&o((function(){de.call(new G(1))})),De=function(){return de.apply(Pe?fe.call(Ie(this)):Ie(this),arguments)},Fe={copyWithin:function(e,t){return R.call(Ie(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(Ie(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return O.apply(Ie(this),arguments)},filter:function(e){return Se(this,K(Ie(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return $(Ie(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ie(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){q(Ie(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ie(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ie(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(Ie(this),arguments)},lastIndexOf:function(e){return ae.apply(Ie(this),arguments)},map:function(e){return be(Ie(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ie(this),arguments)},reduceRight:function(e){return ce.apply(Ie(this),arguments)},reverse:function(){for(var e,t=Ie(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return J(Ie(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ue.call(Ie(this),e)},subarray:function(e,t){var n=Ie(this),r=n.length,i=g(e,r);return new(P(n,n[ge]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:g(t,r))-i))}},ze=function(e,t){return Se(this,fe.call(Ie(this),e,t))},Be=function(e){Ie(this);var t=Ee(arguments[1],1),n=this.length,r=_(e),i=m(r.length),o=0;if(i+t>n)throw V("Wrong length!");for(;o<i;)this[t+o]=r[o++]},Oe={entries:function(){return oe.call(Ie(this))},keys:function(){return ie.call(Ie(this))},values:function(){return re.call(Ie(this))}},Re=function(e,t){return b(e)&&e[we]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ne=function(e,t){return Re(e,t=y(t,!0))?f(2,e[t]):W(e,t)},je=function(e,t,n){return!(Re(e,t=y(t,!0))&&b(n)&&w(n,"value"))||w(n,"get")||w(n,"set")||n.configurable||w(n,"writable")&&!n.writable||w(n,"enumerable")&&!n.enumerable?H(e,t,n):(e[t]=n.value,e)};ye||(j.f=Ne,N.f=je),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:Ne,defineProperty:je}),o((function(){he.call({})}))&&(he=de=function(){return le.call(this)});var He=d({},Fe);d(He,Oe),h(He,pe,Oe.values),d(He,{slice:ze,set:Be,constructor:function(){},toString:he,toLocaleString:De}),Ae(He,"buffer","b"),Ae(He,"byteOffset","o"),Ae(He,"byteLength","l"),Ae(He,"length","e"),H(He,me,{get:function(){return this[we]}}),e.exports=function(e,t,n,c){var l=e+((c=!!c)?"Clamped":"")+"Array",f="get"+e,d="set"+e,p=i[l],g=p||{},y=p&&I(p),w=!p||!s.ABV,_={},k=p&&p.prototype,S=function(e,n){H(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[f](n*t+r.o,_e)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[d](n*t+i.o,r,_e)}(this,n,e)},enumerable:!0})};w?(p=n((function(e,n,r,i){u(e,p,l,"_d");var o,a,s,c,f=0,d=0;if(b(n)){if(!(n instanceof Y||"ArrayBuffer"==(c=x(n))||"SharedArrayBuffer"==c))return we in n?Te(p,n):Le.call(p,n);o=n,d=Ee(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw V("Wrong length!");if((a=g-d)<0)throw V("Wrong length!")}else if((a=m(i)*t)+d>g)throw V("Wrong length!");s=a/t}else s=v(n),o=new Y(a=s*t);for(h(e,"_d",{b:o,o:d,l:a,e:s,v:new X(o)});f<s;)S(e,f++)})),k=p.prototype=E(He),h(k,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&z((function(e){new p,new p(null),new p(1.5),new p(e)}),!0)||(p=n((function(e,n,r,i){var o;return u(e,p,l),b(n)?n instanceof Y||"ArrayBuffer"==(o=x(n))||"SharedArrayBuffer"==o?void 0!==i?new g(n,Ee(r,t),i):void 0!==r?new g(n,Ee(r,t)):new g(n):we in n?Te(p,n):Le.call(p,n):new g(v(n))})),q(y!==Function.prototype?C(g).concat(C(y)):C(g),(function(e){e in p||h(p,e,g[e])})),p.prototype=k,r||(k.constructor=p));var T=k[pe],A=!!T&&("values"==T.name||null==T.name),L=Oe.values;h(p,ve,!0),h(k,we,l),h(k,xe,!0),h(k,ge,p),(c?new p(1)[me]==l:me in k)||H(k,me,{get:function(){return l}}),_[l]=p,a(a.G+a.W+a.F*(p!=g),_),a(a.S,l,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){g.of.call(p,1)})),l,{from:Le,of:Me}),"BYTES_PER_ELEMENT"in k||h(k,"BYTES_PER_ELEMENT",t),a(a.P,l,Fe),B(l),a(a.P+a.F*ke,l,{set:Be}),a(a.P+a.F*!A,l,Oe),r||k.toString==he||(k.toString=he),a(a.P+a.F*o((function(){new p(1).slice()})),l,{slice:ze}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){k.toLocaleString.call([1,2])}))),l,{toLocaleString:De}),F[l]=A?T:L,r||A||h(k,pe,L)}}else e.exports=function(){}},function(e,t,n){"use strict";var r=n(1),i=n(5),o=n(17),a=n(82),s=n(11),c=n(50),l=n(6),u=n(48),f=n(14),h=n(7),d=n(83),p=n(25).f,m=n(8).f,v=n(84),g=n(30),y="prototype",w="Wrong index!",x=r.ArrayBuffer,b=r.DataView,_=r.Math,k=r.RangeError,E=r.Infinity,I=x,C=_.abs,S=_.pow,T=_.floor,A=_.log,L=_.LN2,M=i?"_b":"buffer",P=i?"_l":"byteLength",D=i?"_o":"byteOffset";function F(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,c=(1<<s)-1,l=c>>1,u=23===t?S(2,-24)-S(2,-77):0,f=0,h=e<0||0===e&&1/e<0?1:0;for((e=C(e))!=e||e===E?(i=e!=e?1:0,r=c):(r=T(A(e)/L),e*(o=S(2,-r))<1&&(r--,o*=2),(e+=r+l>=1?u/o:u*S(2,1-l))*o>=2&&(r++,o/=2),r+l>=c?(i=0,r=c):r+l>=1?(i=(e*o-1)*S(2,t),r+=l):(i=e*S(2,l-1)*S(2,t),r=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*h,a}function z(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,c=n-1,l=e[c--],u=127&l;for(l>>=7;s>0;u=256*u+e[c],c--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===u)u=1-a;else{if(u===o)return r?NaN:l?-E:E;r+=S(2,t),u-=a}return(l?-1:1)*r*S(2,u-t)}function B(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function O(e){return[255&e]}function R(e){return[255&e,e>>8&255]}function N(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function j(e){return F(e,52,8)}function H(e){return F(e,23,4)}function W(e,t,n){m(e[y],t,{get:function(){return this[n]}})}function V(e,t,n,r){var i=d(+n);if(i+t>e[P])throw k(w);var o=e[M]._b,a=i+e[D],s=o.slice(a,a+t);return r?s:s.reverse()}function Z(e,t,n,r,i,o){var a=d(+n);if(a+t>e[P])throw k(w);for(var s=e[M]._b,c=a+e[D],l=r(+i),u=0;u<t;u++)s[c+u]=l[o?u:t-u-1]}if(a.ABV){if(!l((function(){x(1)}))||!l((function(){new x(-1)}))||l((function(){return new x,new x(1.5),new x(NaN),"ArrayBuffer"!=x.name}))){for(var G,U=(x=function(e){return u(this,x),new I(d(e))})[y]=I[y],Y=p(I),X=0;Y.length>X;)(G=Y[X++])in x||s(x,G,I[G]);o||(U.constructor=x)}var q=new b(new x(2)),K=b[y].setInt8;q.setInt8(0,2147483648),q.setInt8(1,2147483649),!q.getInt8(0)&&q.getInt8(1)||c(b[y],{setInt8:function(e,t){K.call(this,e,t<<24>>24)},setUint8:function(e,t){K.call(this,e,t<<24>>24)}},!0)}else x=function(e){u(this,x,"ArrayBuffer");var t=d(e);this._b=v.call(new Array(t),0),this[P]=t},b=function(e,t,n){u(this,b,"DataView"),u(e,x,"DataView");var r=e[P],i=f(t);if(i<0||i>r)throw k("Wrong offset!");if(i+(n=void 0===n?r-i:h(n))>r)throw k("Wrong length!");this[M]=e,this[D]=i,this[P]=n},i&&(W(x,"byteLength","_l"),W(b,"buffer","_b"),W(b,"byteLength","_l"),W(b,"byteOffset","_o")),c(b[y],{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return B(V(this,4,e,arguments[1]))},getUint32:function(e){return B(V(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return z(V(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return z(V(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Z(this,1,e,O,t)},setUint8:function(e,t){Z(this,1,e,O,t)},setInt16:function(e,t){Z(this,2,e,R,t,arguments[2])},setUint16:function(e,t){Z(this,2,e,R,t,arguments[2])},setInt32:function(e,t){Z(this,4,e,N,t,arguments[2])},setUint32:function(e,t){Z(this,4,e,N,t,arguments[2])},setFloat32:function(e,t){Z(this,4,e,H,t,arguments[2])},setFloat64:function(e,t){Z(this,8,e,j,t,arguments[2])}});g(x,"ArrayBuffer"),g(b,"DataView"),s(b[y],a.VIEW,!0),t.ArrayBuffer=x,t.DataView=b},function(e,t,n){"use strict";var r=n(15),i=n(37),o=n(7);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),c=i(t,a),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?a:i(l,a))-c,a-s),f=1;for(c<s&&s<c+u&&(f=-1,c+=u-1,s+=u-1);u-- >0;)c in n?n[s]=n[c]:delete n[s],s+=f,c+=f;return n}},function(e,t,n){var r=n(3);r(r.P,"Function",{bind:n(128)})},function(e,t,n){"use strict";var r=n(23),i=n(9),o=n(70),a=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),c=function(){var r=n.concat(a.call(arguments));return this instanceof c?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(c.prototype=t.prototype),c}},function(e,t,n){var r=n(3);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){var r=n(3);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(3),i=n(1).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){"use strict";var r=n(1),i=n(13),o=n(21),a=n(73),s=n(28),c=n(6),l=n(25).f,u=n(38).f,f=n(8).f,h=n(80).trim,d=r.Number,p=d,m=d.prototype,v="Number"==o(n(32)(m)),g="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=g?t.trim():h(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,c=t.slice(2),l=0,u=c.length;l<u;l++)if((a=c.charCodeAt(l))<48||a>i)return NaN;return parseInt(c,r)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof d&&(v?c((function(){m.valueOf.call(n)})):"Number"!=o(n))?a(new p(y(t)),n,d):y(t)};for(var w,x=n(5)?l(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;x.length>b;b++)i(p,w=x[b])&&!i(d,w)&&f(d,w,u(p,w));d.prototype=m,m.constructor=d,n(12)(r,"Number",d)}},function(e,t,n){var r=n(3);r(r.S,"Object",{setPrototypeOf:n(74).set})},function(e,t){(function(t){e.exports=t}).call(this,{})}]);