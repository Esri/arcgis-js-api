define(["dijit/Tooltip","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom"],function(t,o,i,n,e){return i(null,{declaredClass:"esri.dijit._Tooltip",_tooltips:null,constructor:function(){this._tooltips=[]},startup:function(){this.inherited(arguments),this._started||o.forEach(this._tooltips,function(t){t.startup()})},destroy:function(){this.inherited(arguments),o.forEach(this._tooltips,function(t){t.destroy()}),this._tooltips=null},createTooltips:function(t){o.forEach(t,function(t){this.createTooltip(t.node,t.label)},this)},createTooltip:function(o,i){var e,r,s=this._getConnectId(o);s&&(e="object"==typeof i?n.mixin({},i,{connectId:s}):{connectId:s,label:i},r=new t(e),this._started&&r.startup(),this._tooltips.push(r))},_getConnectId:function(t){var i,e;if(t){if(n.isArray(t)){if(i=[],o.forEach(t,function(t){e=this._getNode(t),e&&i.push(e)}),0===i.length)return}else if(i=this._getNode(t),!i)return;return i}},_getNode:function(t){return e.byId(t.domNode||t)},findTooltip:function(t){var i,e,r,s,c=this._getNode(t);if(t){i=this._tooltips,e=i.length;for(var d=0;e>d;d++)if(r=i[d],s=n.isArray(r.connectId)?o.indexOf(r.connectId,c)>-1:r.connectId===c)return r}}})});