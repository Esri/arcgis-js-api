<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title></title>
    <link rel="Stylesheet" href="css/analysis.css" />
    <script type="text/javascript">
        function init() {
            if (window.location.hash) {
                var parentDiv, nodes, i, helpInfo, helpId, helpInfoArr, helpEnvFilter, envContent, hideEnvClass, hideNodes;
                helpInfo = window.location.hash.substring(1);
                    if(helpInfo.indexOf("-")) {
                        helpInfoArr = helpInfo.split("-");
                        helpId = helpInfoArr[0];
                        helpEnvFilter = helpInfoArr[1];
                    }
                    else {
                        helpId = helpInfo;
                    }
                parentDiv = document.getElementById("topics");
                nodes = parentDiv.children;
                    hideEnvClass = (helpEnvFilter === "OnlineOnly"? "PortalOnly": "OnlineOnly");
                    if(document.getElementsByClassName) {
                        hideNodes = document.getElementsByClassName(hideEnvClass);
                    }
                    else {
                        hideNodes = document.querySelectorAll(hideEnvClass);
                    }
                for(i=0; i < nodes.length; i++) {
                    if(nodes[i].id !== helpId) {
                        nodes[i].style.display ="none";
                    }
                    }
                    for(i=0; i < hideNodes.length; i++) {
                        hideNodes[i].style.display ="none";
                    }
                }
            }
    </script>
</head>
<body onload="init()">
<div id="topics">
    <div id="toolDescription" class="smallsize">
        <h2>Derive New Locations</h2><p/>
        <h2><img src="./images/GUID-4A756008-8431-4AA5-BD42-7135296560DD-web.png" alt="Derive New Locations"></h2>
        <hr/>
    <p>This tool derives new features in a
study area that meet a series of specific criteria. These criteria can be based on attribute queries (for example, parcels that are vacant) and spatial queries (for example,   parcels that are within flood zones).


    </p>
    <p>If  <b>Use current map extent</b> is checked, only the features  that are visible within the current map extent will be analyzed.  If unchecked, all features will be analyzed, even if they are outside the current map extent.
    </p>
    </div>
    <!--Parameter divs for each param-->
    <div id="Expression">
        <div><h2>Derive new locations that match the following expression(s)</h2></div>
        <hr/>
        <div>
            <p>Click the  <b>Add Expression</b> button to define an expression.  You can add multiple expressions.  After entering the expressions and clicking the <b>Run Analysis</b> button, features in the analysis layer are filtered through each expression.  The portions of features that satisfy all expressions are written to the result layer.
            </p>
            <p> There are two basic types of expressions you can create: attribute and spatial.  Attribute expressions are queries on field values, such as <pre>where name is 'San Francisco'</pre>.
            </p>
            <p>There are five  spatial expression options:
                <ul>
                    <li> <b>within a distance of</b>&mdash;Portions of a feature within a distance of a feature in another layer.  For example, find the portions of  parcels that are within 500 meters of the Los Angeles river.
                    </li>
                    <li> <b>completely contains</b>&mdash;The feature must contain all of a feature in another layer.  For example, find watersheds that completely contain parcels zoned for industrial use.  No part of the parcel can be outside the watershed.
                    </li>
                    <li> <b>completely within</b>&mdash;The feature must be entirely surrounded by a feature in another layer.  For example, find school districts that are completely within the boundary of a city.  No part of the school district can be outside the city boundary.
                    </li>
                    <li> <b>intersect</b>&mdash;The feature or portions of the feature must overlap or intersect a feature in another layer.  For example, find areas of burned vegetation from multiple fires within a national park.   Burned areas outside the park boundary will not be included.
                    </li>
                    <li> <b>nearest to</b>&mdash;The feature must be nearest to a feature in another layer.  For example, find the green space that is closest to each school.
                    </li>
                </ul>
                
            </p>
            <p>Four of the five spatial expressions have a corresponding negation:  <b>not within a distance of</b>, <b>does not completely contain</b>, <b>not completely within</b>, and <b>does not intersect</b>; <b>nearest to</b> does not have a negation.
            </p> 
        </div>
    </div>
    <div id="OutputName">
        <div><h2>Result layer name</h2></div>
        <hr/>
        <div>
            <p>The name of the layer that will be created in  <b>My Content</b>  and added to the map.  The default  name is based on the tool name and the input layer name. If the layer name already exists, you will be prompted to provide another name.
            </p>
            <p>Using the  <b>Save result in</b> drop-down menu, you can  specify the name of a folder in <b>My Content</b> where the result will be saved.
            </p>
        </div>
    </div>
</div>
</html>
