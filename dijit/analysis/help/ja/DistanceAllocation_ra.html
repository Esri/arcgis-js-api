<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title></title>
    <link rel="Stylesheet" href="../css/analysis.css" />
    <script type="text/javascript">
        function init() {
            if (window.location.hash) {
                var parentDiv, nodes, i, helpInfo, helpId, helpInfoArr, helpEnvFilter, envContent, hideEnvClass, hideNodes;
                helpInfo = window.location.hash.substring(1);
                    if(helpInfo.indexOf("-")) {
                        helpInfoArr = helpInfo.split("-");
                        helpId = helpInfoArr[0];
                        helpEnvFilter = helpInfoArr[1];
                    }
                    else {
                        helpId = helpInfo;
                    }
                parentDiv = document.getElementById("topics");
                nodes = parentDiv.children;
                    hideEnvClass = (helpEnvFilter === "OnlineOnly"? "PortalOnly": "OnlineOnly");
                    if(document.getElementsByClassName) {
                        hideNodes = document.getElementsByClassName(hideEnvClass);
                    }
                    else {
                        hideNodes = document.querySelectorAll(hideEnvClass);
                    }
                for(i=0; i < nodes.length; i++) {
                    if(nodes[i].id !== helpId) {
                        nodes[i].style.display ="none";
                    }
                    }
                    for(i=0; i < hideNodes.length; i++) {
                        hideNodes[i].style.display ="none";
                    }
                }
            }
    </script>
</head>
<body onload="init()">
<div id="topics">
    <div id="toolDescription" class="smallsize">
        <h2>距離アロケーション</h2><p/>
        <h2><img src="../images/GUID-2843B88C-B69A-43FB-A93B-B8D7ABCF95EA-web.png" alt="[距離アロケーション] ツールの図"></h2>
        <hr/>
    <p>このツールは、直線距離、コスト距離、実際のサーフェス距離、鉛直および水平方向の係数に基づいて、各セルから指定したソースまでの距離アロケーションを計算します。
    </p>
    <p>適用例として、次のような質問に答えることが挙げられます。
        <ul>
            <li>現場作業員が担当する割り当て済みエリアを特定する。
                

            </li>
            <li>ボブキャットの生息地パッチに割り当てられたエリアを特定する。
            </li>
        </ul>
        
    </p>
    <p> <b>[現在のマップ範囲を使用]</b> をオンにすると、現在のマップ範囲内に表示されている入力レイヤーのフィーチャだけが解析されます。 オフの場合、入力レイヤーのすべてのフィーチャが、現在のマップ表示範囲内になくても解析されます。
    </p>
    </div>
    <!--Parameter divs for each param-->
    <div id="inputSourceRasterOrFeatures">
        <div><h2>ソース ラスターまたはフィーチャの選択</h2></div>
        <hr/>
        <div>
            <p>距離を計算するソースを特定するラスターまたはフィーチャ レイヤー。
            </p>
            <p>入力がラスターである場合、ラスターはソースに有効値 (0 は有効値) が含まれているセルで構成される必要があります。また、残りのセルには NoData が割り当てられていなければなりません。
            </p>
            <p>入力がフィーチャ レイヤーである場合は、ポイント、ライン、ポリゴンを使用できます。
            </p>
        </div>
    </div>
    <div id="sourceField">
        <div><h2>ソース フィールド (オプション)</h2></div>
        <hr/>
        <div>
            <p>ソース位置に値を割り当てるために使用するフィールド。 整数タイプである必要があります。
            </p>
        </div>
    </div>
    <div id="inputBarrierRasterOrFeatures">
        <div><h2>バリア ラスターまたはバリア フィーチャの選択 (オプション)</h2></div>
        <hr/>
        <div>
            <p>バリアを定義するデータセット。
            </p>
            <p>ラスター レイヤーの場合、入力タイプは整数か浮動小数です。 値 (0 を含む) を持つセルであれば、バリアとして処理されます。 NoData のセルはバリアとして処理されません。
            </p>
            <p>フィーチャ サービスの場合、入力はポイント、ライン、ポリゴンです。
            </p>
        </div>
    </div>
    <div id="inputSurfaceRaster">
        <div><h2>サーフェス ラスターの選択 (オプション)</h2></div>
        <hr/>
        <div>
            <p>各セル位置の標高値を定義するラスター。
            </p>
            <p>この値は、セル間を通過するときにたどる実際のサーフェス距離を計算するときに使用されます。
            </p>
        </div>
    </div>
    <div id="inputCostRaster">
        <div><h2>コスト ラスターの選択 (オプション)</h2></div>
        <hr/>
        <div>
            <p>各セル内を平面的に通過するときにかかるインピーダンスまたはコストを定義するラスター。
            </p>
            <p>各セル位置の値は、そのセル上を通過するための単位距離あたりのコストを表します。 セル内を通過する総コストを取得するために、各セル位置の値にセル解像度を乗算して、対角移動についても補正します。
            </p>
            <p>コスト ラスターとして、整数値または浮動小数点値を使用できますが、負の値や 0 は使用できません (負またはゼロのコストは指定できません)。
            </p>
        </div>
    </div>
    <div id="inputVerticalRaster">
        <div><h2>垂直方向ラスターの選択 (オプション)</h2></div>
        <hr/>
        <div>
            <p>各セル位置の Z 値を定義するラスター。
            </p>
            <p>この値は、あるセルから別のセルに移動するときに生じる垂直方向ファクターを特定する傾斜角を計算するために使用されます。
            </p>
        </div>
    </div>
    <div id="verticalFactor">
        <div><h2>垂直方向ファクター (オプション)</h2></div>
        <hr/>
        <div>
            <p> <b>[垂直方向ファクター]</b> は、垂直コスト ファクターと垂直相対移動角度の間の関係を定義します。
            </p>
            <p>定義された垂直方向ファクター グラフを特定する修飾子付きのファクターがいくつかあって選択できます。 グラフは、隣接セルに移動する総コストを計算するときに使用する垂直方向ファクターを特定するために使用されます。
            </p>
            <p>以下の説明では、垂直方向ファクター (VF) はあるセルから次のセルに移動するときに生じる垂直移動の困難度を定義します。垂直相対移動角度 (VRMA) 修飾子は  <b>[ソースから]</b> セルと <b>[ソースへ]</b> セルの間の傾斜角度を示します。
                <ul>
                    <li> <b>[バイナリ]</b> - VRMA が最小カット アングルより大きく最大カット アングルより小さい場合、VF はゼロ ファクターに関連付けられた値に設定され、そうでない場合、VF は無限大に設定されます。
                    </li>
                    <li> <b>[リニア]</b> - VF は VRMA の一次関数です。
                    </li>
                    <li> <b>[逆リニア]</b> - VF は VRMA の一次逆関数です。
                    </li>
                    <li> <b>[相対リニア]</b> - VF が VRMA の負の側または正の側で VRMA の一次関数であり、この 2 つの一次関数が VF (Y) 軸に対して対称的です。
                    </li>
                    <li> <b>[相対逆リニア]</b> - VF は VRMA の負の側または正の側で VRMA の一次逆関数であり、この 2 つの一次逆関数が VF (Y) 軸に対して対称的です。
                    </li>
                    <li> <b>[Cos]</b> - VF は VRMA のコサインベースの関数です。
                    </li>
                    <li> <b>[Sec]</b> - VF は VRMA の正割ベースの関数です。
                    </li>
                    <li> <b>[Cos-Sec]</b> - VRMA が負の場合、VF は VRMA のコサインベースの関数で、VRMA が非負の場合、VF は VRMA の正割ベースの関数です。
                        

                    </li>
                    <li> <b>[Sec-Cos]</b> - VRMA が負の場合、VF は VRMA の正割ベースの関数で、VRMA が非負の場合、VF は VRMA のコサインベースの関数です。
                        

                    </li>
                </ul>
                
            </p>
            <p>垂直方向ファクター パラメーターの修飾子は次のとおりです。
                <ul>
                    <li> <b>[ゼロ ファクター]</b> - VRMA がゼロのときに使用する垂直方向ファクター。 このファクターは、指定された関数の Y 軸切片の位置を決めます。 定義上、ゼロ ファクターは垂直三角関数 (Cos、Sec、Cos-Sec、Sec-Cos) には適用されません。 Y 軸切片はこれらの関数によって定義されます。
                    </li>
                    <li> <b>[最小カット アングル]</b> - VRMA 角度がこの角度を下回ると VF は無限大に設定されます。
                    </li>
                    <li> <b>[最大カット アングル]</b> - VRMA 角度がこの角度を上回ると VF は無限大に設定されます。
                    </li>
                    <li> <b>[傾斜角]</b> - <b>[リニア]</b> および <b>[逆リニア]</b> パラメーターで使用される直線の傾斜角。 傾斜角は、水平方向の長さを分母、垂直方向の長さを分子として指定されます (たとえば、45% の傾斜角は 1/45 であり、0.02222 として入力されます)。
                    </li>
                </ul>
                
            </p>
        </div>
    </div>
    <div id="inputHorizontalRaster">
        <div><h2>水平方向ラスターの選択 (オプション)</h2></div>
        <hr/>
        <div>
            <p>各セルの水平方向を定義するラスター。
            </p>
            <p>ラスター上の値は 0 〜 360 の範囲の整数でなくてはいけません。0 度は北または画面の上方向を示し、値は時計回りに増加します。 平らなエリアには -1 という値を指定します。 各位置の値は  <b>[水平方向ファクター]</b> と組み合わせて、あるセルから隣接セルに移動するときに発生する水平コストを決定するときに使用されます。
            </p>
        </div>
    </div>
    <div id="horizontalFactor">
        <div><h2>水平方向ファクター (オプション)</h2></div>
        <hr/>
        <div>
            <p> <b>[水平方向ファクター]</b> は、水平コスト ファクターと水平相対移動角度の間の関係を定義します。
            </p>
            <p>定義された水平方向ファクター グラフを特定する修飾子付きのファクターがいくつかあって選択できます。 グラフは、隣接セルに移動する総コストを計算するときに使用する水平方向ファクターを特定するために使用されます。
            </p>
            <p>以下の説明では、水平方向ファクター (HF) はあるセルから次のセルに移動するときに生じる水平移動の難易度を定義し、水平相対移動角度 (HRMA) はセルからの水平方向と移動方向がなす角度を示します。
            </p>
            <p>これらの HF の定義とパラメーターは次のとおりです。
                <ul>
                    <li> <b>[バイナリ]</b> - HRMA がカット アングルより小さい場合、HF はゼロ ファクターに関連付けられた値に設定され、そうでない場合、HF は無限大に設定されます。
                        

                    </li>
                    <li> <b>[前方]</b> - 前進運動だけが許されます。 HRMA は 0 以上 90 未満 (0 &lt;= HRMA &lt; 90) である必要があります。 HRMA が 0 度より大きく 45 度未満である場合、セルの HF はゼロ ファクターに関連付けられている値に設定されます。 HRMA が 45 度以上である場合、サイド値修飾子の値が使用されます。 HRMA が 90 度以上であると、その HF は無限大に設定されます。
                    </li>
                    <li> <b>[リニア]</b> - HF は HRMA の一次関数です。
                        

                    </li>
                    <li> <b>[逆リニア]</b> - HF は HRMA の一次逆関数です。
                        

                    </li>
                </ul>
                
            </p>
            <p>水平方向ファクター キーワードの修飾子は次のとおりです。
                <ul>
                    <li> <b>[ゼロ ファクター]</b> - HRMA が 0 のときに使用する水平方向ファクター。 このファクターは、任意の水平方向ファクター関数の Y 軸切片の位置を決めます。
                        

                    </li>
                    <li> <b>[カット アングル]</b> - HRMA 角度がこの角度を超えると HF は無限大に設定されます。
                        

                    </li>
                    <li> <b>[傾斜角]</b> - <b>[リニア]</b> および <b>[逆リニア]</b> 水平方向ファクター キーワードで使用される直線の傾斜角。 傾斜角は、水平方向の長さを分母、垂直方向の長さを分子として指定されます (たとえば、45% の傾斜角は 1/45 であり、0.02222 として入力されます)。
                        

                    </li>
                    <li> <b>[サイド値]</b> - <b>[前方]</b> 水平方向ファクター キーワードが指定され、HRMA が 45 度以上、90 度未満のときの HF 値を指定します。
                        

                    </li>
                </ul>
                
            </p>
        </div>
    </div>
    <div id="sourceInitialAccumulation">
        <div><h2>初期累積</h2></div>
        <hr/>
        <div>
            <p>コスト計算を開始する際の初期累積コストです。
            </p>
            <p>ソースに関連付けられた固定コストを指定できます。 コスト アルゴリズムは、コスト 0 から開始する代わりに、 <b>[初期累積]</b> で設定された値から開始します。
            </p>
            <p>値は 0 以上である必要があります。 デフォルトは 0 です。
            </p>
        </div>
    </div>
    <div id="sourceMaximumAccumulation">
        <div><h2>最大累積</h2></div>
        <hr/>
        <div>
            <p>ソースに対する移動者の最大累積。
            </p>
            <p>指定した累積に達するまで、各ソースのコスト計算が続行されます。
            </p>
            <p>0 より大きい値を指定する必要があります。 デフォルトの累積は出力ラスターのエッジまでです。
            </p>
        </div>
    </div>
    <div id="sourceCostMultiplier">
        <div><h2>コストの乗数</h2></div>
        <hr/>
        <div>
            <p>コスト値に適用する乗数です。
            </p>
            <p>これを使用すると、移動のモードまたはソースの強度を制御できます。 乗数が大きいほど、各セルの移動コストが大きくなります。
            </p>
            <p>0 より大きい値を指定する必要があります。 デフォルトは 1 です。
            </p>
        </div>
    </div>
    <div id="sourceDirection">
        <div><h2>移動方向</h2></div>
        <hr/>
        <div>
            <p>水平方向ファクターと垂直方向ファクターを適用する際の、移動者の方向を指定します。
            </p>
            <p> <b>[ソースから]</b> - 水平方向ファクターと垂直方向ファクターは、入力ソースを起点としてソース以外のセルに移動する場合に適用されます。 これがデフォルト値になります。
            </p>
            <p> <b>[ソースへ]</b> - 水平方向ファクターと垂直方向ファクターは、ソース以外の各セルを起点として入力ソースへ戻る場合に適用されます。
            </p>
            <p> <b>[ソースから]</b> または <b>[ソースへ]</b> キーワードを選択します。これは、すべてのソースに適用されます。または、ソース データで、各ソースの移動方向を識別するキーワードを含むフィールドを指定します。 このフィールドには、文字列 <code>FROM_SOURCE</code> または <code>TO_SOURCE</code> が含まれている必要があります。
            </p>
        </div>
    </div>
    <div id="distanceMethod">
        <div><h2>距離の方法 (オプション)</h2></div>
        <hr/>
        <div>
            <p>距離を平面 (平面地球) と測地線 (楕円体) のどちらの方法を用いて計算するかを指定します。
            </p>
            <ul>
                <li> <b>[平面]</b> - 距離計算は、2 次元直交座標系を使用して投影された平面で実行されます。 これはデフォルトの方法です。
                    

                </li>
                <li> <b>[測地線]</b> - 距離は楕円形に基づいて計算されます。 したがって、入力または出力投影に関係なく、結果は変わりません。
                    

                </li>
            </ul>
            
        </div>
    </div>
    <div id="outputDistanceAllocationRasterName">
        <div><h2>結果の距離アロケーション ラスター名</h2></div>
        <hr/>
        <div>
            <p> <b>[マイ コンテンツ]</b> に作成され、マップに追加されるレイヤーの名前。 デフォルトの名前は、ツール名と入力レイヤー名に基づいて設定されます。 レイヤーがすでに存在する場合は、別の名前を指定するよう求められます。
            </p>
            <p> <b>[出力の保存場所]</b> ドロップダウン ボックスを使用して、結果を保存する <b>[マイ コンテンツ]</b> 内のフォルダーの名前を指定できます。 タイル イメージ レイヤーとダイナミック イメージ レイヤーの両方を作成する権限がある場合は、[結果の保存方法] ドロップダウン ボックスを使用して、出力でどちらのレイヤー タイプを生成するかを指定することができます。 </p>
        </div>
    </div>
    <div id="outputDistanceAccumulationRasterName">
        <div><h2>結果の距離累積ラスター名</h2></div>
        <hr/>
        <div>
            <p>距離累積ラスターには、各セルと最小コスト ソースの累積距離が含まれています。
            </p>
            <p>出力ラスターのタイプは float です。
            </p>
            <p> <b>[マイ コンテンツ]</b> に作成され、マップに追加されるレイヤーの名前。 デフォルトの名前は、ツール名と入力レイヤー名に基づいて設定されます。 レイヤーがすでに存在する場合は、別の名前を指定するよう求められます。
            </p>
            <p> <b>[出力の保存場所]</b> ドロップダウン ボックスを使用して、結果を保存する <b>[マイ コンテンツ]</b> 内のフォルダーの名前を指定できます。 タイル イメージ レイヤーとダイナミック イメージ レイヤーの両方を作成する権限がある場合は、[結果の保存方法] ドロップダウン ボックスを使用して、出力でどちらのレイヤー タイプを生成するかを指定することができます。 </p>
        </div>
    </div>
    <div id="outputBackDirectionRasterName">
        <div><h2>結果のバック方向ラスターの名前 (オプション)</h2></div>
        <hr/>
        <div>
            <p>逆方向ラスターは、角度で計算した方向を含みます。 バリアを避けながら、最寄りのソースに戻る最短パスに沿った隣接セルへの方向を度単位で特定します。
            </p>
            <p>値の範囲は 0 度から 360 度で、0 はソース セル用に予約されています。 真東 (右) は 90 で、値は時計回りに増加します (180 が北、270 が西、360 が北)。
            </p>
            <p>出力ラスターのタイプは float です。
            </p>
            <p> <b>[マイ コンテンツ]</b> に作成されるレイヤーの名前。 <b>[マイ コンテンツ]</b> に現在存在しない名前を指定する必要があります。
            </p>
            <p> <b>[出力の保存場所]</b> ドロップダウン ボックスを使用して、結果を保存する <b>[マイ コンテンツ]</b> 内のフォルダーの名前を指定できます。 タイル イメージ レイヤーとダイナミック イメージ レイヤーの両方を作成する権限がある場合は、[結果の保存方法] ドロップダウン ボックスを使用して、出力でどちらのレイヤー タイプを生成するかを指定することができます。 </p>
        </div>
    </div>
    <div id="outputSourceDirectionRasterName">
        <div><h2>結果のソース方向ラスターの名前 (オプション)</h2></div>
        <hr/>
        <div>
            <p>ソース方向ラスターは、最小累積コスト ソース セルの方向を水平角 (度単位) で識別します。
            </p>
            <p>値の範囲は 0 度から 360 度で、0 はソース セル用に予約されています。 真東 (右) は 90 で、値は時計回りに増加します (180 が北、270 が西、360 が北)。
            </p>
            <p>出力ラスターのタイプは float です。
            </p>
            <p> <b>[マイ コンテンツ]</b> に作成されるレイヤーの名前。 <b>[マイ コンテンツ]</b> に現在存在しない名前を指定する必要があります。
            </p>
            <p> <b>[出力の保存場所]</b> ドロップダウン ボックスを使用して、結果を保存する <b>[マイ コンテンツ]</b> 内のフォルダーの名前を指定できます。 タイル イメージ レイヤーとダイナミック イメージ レイヤーの両方を作成する権限がある場合は、[結果の保存方法] ドロップダウン ボックスを使用して、出力でどちらのレイヤー タイプを生成するかを指定することができます。 </p>
        </div>
    </div>
    <div id="outputSourceLocationRasterName">
        <div><h2>結果のソース位置ラスターの名前 (オプション)</h2></div>
        <hr/>
        <div>
            <p>ソース位置ラスターは、マルチバンド出力です。 最初のバンドには行インデックス、2 つ目のバンドには列インデックスが含まれています。 これらのインデックスは、最小累積コスト距離にあるソース セルの位置を識別します。
            </p>
            <p> <b>[マイ コンテンツ]</b> に作成されるレイヤーの名前。 <b>[マイ コンテンツ]</b> に現在存在しない名前を指定する必要があります。
            </p>
            <p> <b>[出力の保存場所]</b> ドロップダウン ボックスを使用して、結果を保存する <b>[マイ コンテンツ]</b> 内のフォルダーの名前を指定できます。 タイル イメージ レイヤーとダイナミック イメージ レイヤーの両方を作成する権限がある場合は、[結果の保存方法] ドロップダウン ボックスを使用して、出力でどちらのレイヤー タイプを生成するかを指定することができます。 </p>
        </div>
    </div>
</div>
</html>
