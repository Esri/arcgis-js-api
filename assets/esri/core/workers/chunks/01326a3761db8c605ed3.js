"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[158,4889],{38171:(e,t,n)=>{n.d(t,{Z:()=>g});var r,i=n(43697),o=n(66577),s=n(51773),l=n(78223),a=n(10736),u=n(22974),p=n(70586),c=n(99001),y=n(5600),d=(n(75215),n(80442),n(92604),n(52525)),f=n(33955);let m=r=class extends a.wq{constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,c.D)(),configurable:!0})}normalizeCtorArgs(e,t,n,r){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:n,popupTemplate:r}}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&(0,p.pC)(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const n=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",n,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:(0,p.pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,p.pC)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new r(this.cloneProperties())}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}cloneProperties(){return{attributes:(0,u.d9)(this.attributes),geometry:(0,u.d9)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:(0,u.d9)(this.symbol),visible:this.visible}}_notifyLayer(e,t,n,r){if(!this.layer||!("graphicChanged"in this.layer))return;const i={graphic:this,property:e,oldValue:t,newValue:n};"attributes"===e&&(i.attributeName=r),this.layer.graphicChanged(i)}};(0,i._)([(0,y.Cb)({value:null})],m.prototype,"attributes",null),(0,i._)([(0,y.Cb)({value:null,types:o.qM,json:{read:f.im}})],m.prototype,"geometry",null),(0,i._)([(0,y.Cb)({type:Boolean})],m.prototype,"isAggregate",void 0),(0,i._)([(0,y.Cb)()],m.prototype,"layer",void 0),(0,i._)([(0,y.Cb)({type:s.Z})],m.prototype,"popupTemplate",void 0),(0,i._)([(0,y.Cb)()],m.prototype,"sourceLayer",void 0),(0,i._)([(0,y.Cb)({value:null,types:l.LB})],m.prototype,"symbol",null),(0,i._)([(0,y.Cb)({type:Boolean,value:!0})],m.prototype,"visible",null),m=r=(0,i._)([(0,d.j)("esri.Graphic")],m),(m||(m={})).generateUID=c.D;var g=m},22862:(e,t,n)=>{n.d(t,{Hg:()=>m,uD:()=>d,V7:()=>f});var r=n(18855),i=n(81049),o=n(70586),s=n(1153);const l=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function a(e){return e instanceof r.Z}function u(e){return e instanceof i.Z?Object.keys(e.items):a(e)?(0,s.vw)(e).keys():e?Object.keys(e):[]}function p(e,t){return e instanceof i.Z?e.items[t]:e[t]}function c(e){return e?e.declaredClass:null}function y(e,t){const n=e.diff;if(n&&"function"==typeof n)return n(e,t);const r=u(e),i=u(t);if(0===r.length&&0===i.length)return;if(!r.length||!i.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const s=i.filter((e=>-1===r.indexOf(e))),d=r.filter((e=>-1===i.indexOf(e))),f=r.filter((n=>i.indexOf(n)>-1&&p(e,n)!==p(t,n))).concat(s,d).sort(),m=c(e);if(m&&l.indexOf(m)>-1&&f.length)return{type:"complete",oldValue:e,newValue:t};let g;const h=a(e)&&a(t);for(const r of f){const i=p(e,r),s=p(t,r);let l;(h||"function"!=typeof i&&"function"!=typeof s)&&i!==s&&(null==i&&null==s||(l=n&&n[r]&&"function"==typeof n[r]?n[r](i,s):"object"==typeof i&&"object"==typeof s&&c(i)===c(s)?y(i,s):{type:"complete",oldValue:i,newValue:s},(0,o.pC)(l)&&((0,o.pC)(g)?g.diff[r]=l:g={type:"partial",diff:{[r]:l}})))}return g}function d(e,t){if((0,o.Wi)(e))return!1;const n=t.split(".");let r=e;for(const e of n){if("complete"===r.type)return!0;if("partial"!==r.type)return!1;{const t=r.diff[e];if(!t)return!1;r=t}}return!0}function f(e,t){for(const n of t)if(d(e,n))return!0;return!1}function m(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&c(e)!==c(t)?{type:"complete",oldValue:e,newValue:t}:y(e,t)}},92722:(e,t,n)=>{n.d(t,{lG:()=>F,q9:()=>l,my:()=>T,O3:()=>S});var r=n(20102),i=n(70272),o=n(5428);const s={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function l(e){return s[e]}function*a(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*u(e){if(!e)return null;switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const e of t)yield*e}}function p(e){for(const t of e)if(t.length>2)return!0;return!1}function c(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n],i=e[(n+1)%e.length];t+=r[0]*i[1]-i[0]*r[1]}return t<=0}function y(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function d(e,t,n){switch(t.type){case"LineString":return function(e,t,n){return g(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){for(const r of t.coordinates)g(e,r,n);return e}(e,t,n);case"MultiPoint":return function(e,t,n){return g(e,t.coordinates,n),e}(e,t,n);case"MultiPolygon":return function(e,t,n){for(const r of t.coordinates){f(e,r[0],n);for(let t=1;t<r.length;t++)m(e,r[t],n)}return e}(e,t,n);case"Point":return function(e,t,n){return b(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){const r=t.coordinates;f(e,r[0],n);for(let t=1;t<r.length;t++)m(e,r[t],n);return e}(e,t,n)}}function f(e,t,n){const r=y(t);!function(e){return!c(e)}(r)?g(e,r,n):h(e,r,n)}function m(e,t,n){const r=y(t);!function(e){return c(e)}(r)?g(e,r,n):h(e,r,n)}function g(e,t,n){for(const r of t)b(e,r,n);e.lengths.push(t.length)}function h(e,t,n){for(let r=t.length-1;r>=0;r--)b(e,t[r],n);e.lengths.push(t.length)}function b(e,t,n){const[r,i,o]=t;e.coords.push(r,i),n.hasZ&&e.coords.push(o||0)}function w(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function S(e){if(!e)throw new r.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new r.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:t}=e;if(!t)return;const n="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,i=new RegExp(".*(CRS84H?|4326)$","i");if(!n||!i.test(n))throw new r.Z("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function T(e,t={}){const n=[],r=new Set,i=new Set;let o,s=!1,c=Number.NEGATIVE_INFINITY,y=null,d=!1,{geometryType:f=null}=t,m=!1;for(const t of a(e)){const{geometry:e,properties:a,id:g}=t;if((!e||(f||(f=l(e.type)),l(e.type)===f))&&(s||(s=p(u(e))),d||(d=null!=g,d&&(o=typeof g,"number"===o&&(y=Object.keys(a).filter((e=>a[e]===g))))),d&&"number"===o&&null!=g&&(c=Math.max(c,g),y.length>1?y=y.filter((e=>a[e]===g)):1===y.length&&(y=a[y[0]]===g?y:[])),!m&&a)){let e=!0;for(const t in a){if(r.has(t))continue;const o=a[t];if(null==o){e=!1,i.add(t);continue}const s=w(o);"unknown"!==s?(i.delete(t),r.add(t),n.push({name:t,alias:t,type:s})):i.add(t)}m=e}}const g=y&&1===y.length&&y[0]||null;if(g)for(const e of n)e.name===g&&(e.type="esriFieldTypeOID");return{fields:n,geometryType:f,hasZ:s,maxObjectId:Math.max(0,c),objectIdFieldName:g,objectIdFieldType:o,unknownFields:Array.from(i)}}function F(e,t){return Array.from(function*(e,t={}){const{geometryType:n,objectIdField:r}=t;for(const a of e){var s;const{geometry:e,properties:u,id:p}=a;if(e&&l(e.type)!==n)continue;const c=u||{};let y=null!=(s=c[r])?s:null;r&&null!=p&&!c[r]&&(c[r]=y=p);const f=new i.ZP(e?d(new o.Z,e,t):null,c,null,y);yield f}}(a(e),t))}},25278:(e,t,n)=>{n.d(t,{MS:()=>p,Dm:()=>a,Hq:()=>u,bU:()=>l});var r=n(80442),i=n(22974),o=n(61159),s=n(58333);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.I4:"esriGeometryPolyline"===e?s.ET:s.lF}}}function a(e,t){if((0,r.Z)("csp-restrictions"))return()=>({[t]:null,...e});try{let n=`this.${t} = null;`;for(const t in e)n+=`this${t.indexOf(".")?`["${t}"]`:`.${t}`} = ${JSON.stringify(e[t])};`;const r=new Function(n);return()=>new r}catch(n){return()=>({[t]:null,...e})}}function u(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,i.d9)(e)}}]}function p(e,t){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:o.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},16467:(e,t,n)=>{n.d(t,{w9:()=>b,j:()=>w,G4:()=>S,gp:()=>T,eS:()=>F,d:()=>v,KG:()=>j,yN:()=>C,WW:()=>I}),n(66577);var r=n(3172),i=n(20102),o=n(92604),s=n(70586),l=n(8744),a=n(40488),u=n(98732),p=n(44876),c=n(92722),y=n(25278),d=n(99514),f=n(86719),m=n(74889),g=n(82971);const h=o.Z.getLogger("esri.layers.graphics.sources.ogcfeature");async function b(e,t,n={},o=5){const{links:l}=e,a=x(l,"items","application/geo+json")||x(l,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json");if((0,s.Wi)(a))throw new i.Z("ogc-feature-layer:missing-items-page","Missing items url");const{data:u}=await(0,r.default)(a.href,{signal:n.signal,query:{limit:o,...n.customParameters,token:n.apiKey},headers:{accept:"application/geo+json"}});await(0,c.O3)(u);const p=(0,c.my)(u,{geometryType:t.geometryType}),m=t.fields||p.fields||[],g=null!=t.hasZ?t.hasZ:p.hasZ,b=p.geometryType,w=t.objectIdField||p.objectIdFieldName||"OBJECTID";let S=t.timeInfo;const T=m.find((e=>e.name===w));if(T)T.type="esriFieldTypeOID",T.editable=!1,T.nullable=!1;else{if(!p.objectIdFieldType)throw new i.Z("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");m.unshift({name:w,alias:w,type:"esriFieldTypeOID",editable:!1,nullable:!1})}if(w!==p.objectIdFieldName){const e=m.find((e=>e.name===p.objectIdFieldName));e&&(e.type="esriFieldTypeInteger")}m===p.fields&&p.unknownFields.length>0&&h.warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:p.unknownFields}});for(const e of m){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),"esriFieldTypeOID"!==e.type&&"esriFieldTypeGlobalID"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new i.Z("ogc-feature-layer:invalid-field-name","field name is missing",{field:e});if(-1===f.v.jsonValues.indexOf(e.type))throw new i.Z("ogc-feature-layer:invalid-field-type",`invalid type for field "${e.name}"`,{field:e})}if(S){const e=new d.Z(m);if(S.startTimeField){const t=e.get(S.startTimeField);t?(S.startTimeField=t.name,t.type="esriFieldTypeDate"):S.startTimeField=null}if(S.endTimeField){const t=e.get(S.endTimeField);t?(S.endTimeField=t.name,t.type="esriFieldTypeDate"):S.endTimeField=null}if(S.trackIdField){const t=e.get(S.trackIdField);t?S.trackIdField=t.name:(S.trackIdField=null,h.warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:S}}))}S.startTimeField||S.endTimeField||(h.warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:S}}),S=null)}return{drawingInfo:b?(0,y.bU)(b):null,geometryType:b,fields:m,hasZ:!!g,objectIdField:w,timeInfo:S}}async function w(e,t={}){const{links:n}=e,o=x(n,"data","application/json")||x(n,"http://www.opengis.net/def/rel/ogc/1.0/data","application/json");if((0,s.Wi)(o))throw new i.Z("ogc-feature-layer:missing-collections-page","Missing collections url");const{apiKey:l,customParameters:a,signal:u}=t,{data:p}=await(0,r.default)(o.href,{signal:u,headers:{accept:"application/json"},query:{...a,token:l}});return p}async function S(e,t={}){const{links:n}=e,o=x(n,"conformance","application/json")||x(n,"http://www.opengis.net/def/rel/ogc/1.0/conformance","application/json");if((0,s.Wi)(o))throw new i.Z("ogc-feature-layer:missing-conformance-page","Missing conformance url");const{apiKey:l,customParameters:a,signal:u}=t,{data:p}=await(0,r.default)(o.href,{signal:u,headers:{accept:"application/json"},query:{...a,token:l}});return p}async function T(e,t={}){const{apiKey:n,customParameters:i,signal:o}=t,{data:s}=await(0,r.default)(e,{signal:o,headers:{accept:"application/json"},query:{...i,token:n}});return s}async function F(e,t={}){const n="application/vnd.oai.openapi+json;version=3.0",i=x(e.links,"service-desc",n);if((0,s.Wi)(i))return h.warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null;const{apiKey:o,customParameters:l,signal:a}=t,{data:u}=await(0,r.default)(i.href,{signal:a,headers:{accept:n},query:{...l,token:o}});return u}function v(e){const t=/^http:\/\/www\.opengis.net\/def\/crs\/(?<authority>.*)\/(?<version>.*)\/(?<code>.*)$/i.exec(e),n=null==t?void 0:t.groups;if(!n)return null;const{authority:r,code:i}=n;switch(r.toLowerCase()){case"ogc":switch(i.toLowerCase()){case"crs27":return g.Z.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return g.Z.WGS84.wkid;default:return null}case"esri":case"epsg":{const e=Number.parseInt(i,10);return Number.isNaN(e)?null:e}default:return null}}async function j(e,t,n){const r=await C(e,t,n);return m.default.fromJSON(r)}async function C(e,t,n){const r=await I(e,t,n);return(0,u.cn)(r)}async function I(e,t,n){const{capabilities:{query:{maxRecordCount:o}},collection:y,layerDefinition:d,queryParameters:{apiKey:f,customParameters:m},spatialReference:h,supportedCrs:b}=e,{links:w}=y,S=x(w,"items","application/geo+json")||x(w,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json");if((0,s.Wi)(S))throw new i.Z("ogc-feature-layer:missing-items-page","Missing items url");const{geometry:T,num:F,start:v,timeExtent:j,where:C}=t;if(t.objectIds)throw new i.Z("ogc-feature-layer:query-by-objectids-not-supported","Queries with objectids are not supported");const I=g.Z.fromJSON(h),O=(0,s.Pt)(t.outSpatialReference,I),N=O.isWGS84?null:_(O,b),k=P(T,b),G=function(e){if((0,s.Wi)(e))return null;const{start:t,end:n}=e;return`${(0,s.pC)(t)?t.toISOString():".."}/${(0,s.pC)(n)?n.toISOString():".."}`}(j),Z=(R=C,(0,s.Wi)(R)||!R||"1=1"===R?null:R),L=null!=F?F:null!=v&&void 0!==v?10:o,{data:M}=await(0,r.default)(S.href,{...n,query:{...m,...k,crs:N,datetime:G,query:Z,limit:L,startindex:v,token:f},headers:{accept:"application/geo+json"}});var R;let q=!1;M.links&&(q=!!M.links.find((e=>"next"===e.rel))),!q&&Number.isInteger(M.numberMatched)&&Number.isInteger(M.numberReturned)&&(q=M.numberReturned<M.numberMatched);const{fields:A,globalIdField:D,hasM:J,hasZ:V,objectIdField:W}=d,z=d.geometryType,B=(0,c.lG)(M,{geometryType:z,hasZ:V,objectIdField:W});if(!N&&O.isWebMercator)for(const e of B)if((0,s.pC)(e.geometry)){const t=(0,u.di)(e.geometry,z,V,!1);t.spatialReference=g.Z.WGS84,e.geometry=(0,u.GH)((0,a.iV)(t,O))}for(const e of B)e.objectId=e.attributes[W];const $=N||!N&&O.isWebMercator?O.toJSON():l.Zn,E=new p.Z;return E.exceededTransferLimit=q,E.features=B,E.fields=A,E.geometryType=z,E.globalIdFieldName=D,E.hasM=J,E.hasZ=V,E.objectIdFieldName=W,E.spatialReference=$,E}function _(e,t){var n;const{isWebMercator:r,wkid:i}=e;return i?r?null!=(o=null!=(s=null!=(l=null!=(a=t[3857])?a:t[102100])?l:t[102113])?s:t[900913])?o:null:null!=(n=t[e.wkid])?n:null:null;var o,s,l,a}function O(e){if((0,s.Wi)(e))return"";const{xmin:t,ymin:n,xmax:r,ymax:i}=e;return`${t},${n},${r},${i}`}function P(e,t){if(!function(e){return(0,s.pC)(e)&&"extent"===e.type}(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:O(e)};const r=_(n,t);return r?{bbox:O(e),"bbox-crs":r}:n.isWebMercator?{bbox:O((0,a.iV)(e,g.Z.WGS84))}:null}function x(e,t,n){return e.find((e=>e.rel===t&&e.type===n))||e.find((e=>e.rel===t&&!e.type))}},1231:(e,t,n)=>{n.d(t,{Z:()=>g});var r,i=n(43697),o=n(35454),s=n(10736),l=n(5600),a=(n(80442),n(75215)),u=(n(92604),n(36030)),p=n(71715),c=n(52525),y=n(29655),d=n(86719);const f=new o.Xn({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let m=r=class extends s.wq{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let n;try{n=JSON.parse(t)}catch(e){}return n?n.value:null}readValueType(e,{description:t}){let n;try{n=JSON.parse(t)}catch(e){}return n?f.fromJSON(n.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),(0,i._)([(0,l.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,"defaultValue",void 0),(0,i._)([(0,l.Cb)()],m.prototype,"description",void 0),(0,i._)([(0,p.r)("description")],m.prototype,"readDescription",null),(0,i._)([(0,l.Cb)({types:y.V5,json:{read:{reader:y.im},write:!0}})],m.prototype,"domain",void 0),(0,i._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"editable",void 0),(0,i._)([(0,l.Cb)({type:a.z8,json:{write:!0}})],m.prototype,"length",void 0),(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,i._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"nullable",void 0),(0,i._)([(0,u.J)(d.v)],m.prototype,"type",void 0),(0,i._)([(0,l.Cb)()],m.prototype,"valueType",void 0),(0,i._)([(0,p.r)("valueType",["description"])],m.prototype,"readValueType",null),m=r=(0,i._)([(0,c.j)("esri.layers.support.Field")],m);var g=m},86719:(e,t,n)=>{n.d(t,{v:()=>r});const r=new(n(35454).Xn)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},74889:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(43697),i=n(66577),o=n(38171),s=n(35454),l=n(10736),a=n(70586),u=n(5600),p=(n(80442),n(75215),n(92604),n(71715)),c=n(52525),y=n(30556),d=n(82971),f=n(33955),m=n(1231);const g=new s.Xn({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let h=class extends l.wq{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const n=d.Z.fromJSON(t.spatialReference),r=[];for(let t=0;t<e.length;t++){const i=e[t],s=o.Z.fromJSON(i),l=i.geometry&&i.geometry.spatialReference;(0,a.pC)(s.geometry)&&!l&&(s.geometry.spatialReference=n),r.push(s)}return r}writeGeometryType(e,t,n,r){if(e)return void g.write(e,t,n,r);const{features:i}=this;if(i)for(const e of i)if(e&&(0,a.pC)(e.geometry))return void g.write(e.geometry.type,t,n,r)}readQueryGeometry(e,t){if(!e)return null;const n=!!e.spatialReference,r=(0,f.im)(e);return!n&&t.spatialReference&&(r.spatialReference=d.Z.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:n}=this;if(n)for(const e of n)if(e&&(0,a.pC)(e.geometry)&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let n=0;n<t.features.length;n++){const r=t.features[n];if(r.geometry){const t=e&&e[n];r.geometry=t&&t.toJSON()||r.geometry}}return t}quantize(e){const{scale:[t,n],translate:[r,i]}=e,o=this.features,s=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-r)/t)),(e=>Math.round((i-e)/n)));for(let e=0,t=o.length;e<t;e++)s((0,a.Wg)(o[e].geometry))||(o.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:n}=this;if(!n)return this;const{translate:[r,i],scale:[o,s]}=n,l=this._getHydrationFunction(e,(e=>e*o+r),(e=>i-e*s));for(const{geometry:e}of t)(0,a.pC)(e)&&l(e);return this.transform=null,this}_quantizePoints(e,t,n){let r,i;const o=[];for(let s=0,l=e.length;s<l;s++){const l=e[s];if(s>0){const e=t(l[0]),s=n(l[1]);e===r&&s===i||(o.push([e-r,s-i]),r=e,i=s)}else r=t(l[0]),i=n(l[1]),o.push([r,i])}return o.length>0?o:null}_getQuantizationFunction(e,t,n){return"point"===e?e=>(e.x=t(e.x),e.y=n(e.y),e):"polyline"===e||"polygon"===e?e=>{const r=(0,f.oU)(e)?e.rings:e.paths,i=[];for(let e=0,o=r.length;e<o;e++){const o=r[e],s=this._quantizePoints(o,t,n);s&&i.push(s)}return i.length>0?((0,f.oU)(e)?e.rings=i:e.paths=i,e):null}:"multipoint"===e?e=>{const r=this._quantizePoints(e.points,t,n);return r.length>0?(e.points=r,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,n){return"point"===e?e=>{e.x=t(e.x),e.y=n(e.y)}:"polyline"===e||"polygon"===e?e=>{const r=(0,f.oU)(e)?e.rings:e.paths;let i,o;for(let e=0,s=r.length;e<s;e++){const s=r[e];for(let e=0,r=s.length;e<r;e++){const r=s[e];e>0?(i+=r[0],o+=r[1]):(i=r[0],o=r[1]),r[0]=t(i),r[1]=n(o)}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=n(e.ymin),e.xmax=t(e.xmax),e.ymax=n(e.ymax)}:"multipoint"===e?e=>{const r=e.points;let i,o;for(let e=0,s=r.length;e<s;e++){const s=r[e];e>0?(i+=s[0],o+=s[1]):(i=s[0],o=s[1]),s[0]=t(i),s[1]=n(o)}}:void 0}};(0,r._)([(0,u.Cb)({type:String,json:{write:!0}})],h.prototype,"displayFieldName",void 0),(0,r._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],h.prototype,"exceededTransferLimit",void 0),(0,r._)([(0,u.Cb)({type:[o.Z],json:{write:!0}})],h.prototype,"features",void 0),(0,r._)([(0,p.r)("features")],h.prototype,"readFeatures",null),(0,r._)([(0,u.Cb)({type:[m.Z],json:{write:!0}})],h.prototype,"fields",void 0),(0,r._)([(0,u.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],h.prototype,"geometryType",void 0),(0,r._)([(0,y.c)("geometryType")],h.prototype,"writeGeometryType",null),(0,r._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],h.prototype,"hasM",void 0),(0,r._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],h.prototype,"hasZ",void 0),(0,r._)([(0,u.Cb)({types:i.qM,json:{write:!0}})],h.prototype,"queryGeometry",void 0),(0,r._)([(0,p.r)("queryGeometry")],h.prototype,"readQueryGeometry",null),(0,r._)([(0,u.Cb)({type:d.Z,json:{write:!0}})],h.prototype,"spatialReference",void 0),(0,r._)([(0,y.c)("spatialReference")],h.prototype,"writeSpatialReference",null),(0,r._)([(0,u.Cb)({json:{write:!0}})],h.prototype,"transform",void 0),h=(0,r._)([(0,c.j)("esri.rest.support.FeatureSet")],h),h.prototype.toJSON.isDefaultToJSON=!0,h||(h={});var b=h},58333:(e,t,n)=>{n.d(t,{I4:()=>i,lF:()=>s,ET:()=>o,qP:()=>l,eG:()=>a,lj:()=>p,wW:()=>u});const r=[252,146,31,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},o={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},s={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},a={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},p={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);