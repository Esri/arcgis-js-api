self.webpackChunkRemoteClient([70,152],{109:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(19),o=r(2),s=r(16),a=r(21);r(54);const i=o.a.getLogger("esri.assets");function c(e){if(!n.a.assetsPath)throw i.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new s.a("assets:path-not-set","config.assetsPath is not set");return Object(a.x)(n.a.assetsPath,e)}},290:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(3),o=r(0),s=r(4);function a(e,t,r=!1,a){return new Promise((c,u)=>{if(Object(s.m)(a))return void u(i());let l=()=>{b(),u(new Error("Unable to load "+t))},f=()=>{const t=e;b(),c(t)},d=()=>{if(!e)return;const t=e;b(),t.src="",u(i())};const b=()=>{Object(n.a)("esri-image-decode")||(e.removeEventListener("error",l),e.removeEventListener("load",f)),l=null,f=null,e=null,Object(o.h)(a)&&a.removeEventListener("abort",d),d=null,r&&URL.revokeObjectURL(t)};Object(o.h)(a)&&a.addEventListener("abort",d),Object(n.a)("esri-image-decode")?e.decode().then(f,l):(e.addEventListener("error",l),e.addEventListener("load",f))})}function i(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}},54:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r(3),s=r(6),a=r(19),i=r(0),c=r(16),u=r(21),l=r(4),f=r(38);const d=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];var b=r(290);async function h(e,t){const s=Object(u.u)(e),b=Object(u.t)(e);b||s||(e=Object(u.B)(e));const w={url:e,requestOptions:{...Object(i.n)(t)}};let O=Object(u.l)(e);if(O){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,n;try{n=await e.before(t)}catch(e){r=j("request:interceptor",e,t)}if((n instanceof Error||n instanceof c.a)&&(r=j("request:interceptor",n,t)),r)throw e.error&&e.error(r),r;return n}}(O,w);if(null!=e)return{data:e,getHeader:E,requestOptions:w.requestOptions,url:w.url};O.after||O.error||(O=null)}if(e=w.url,"image"===(t=w.requestOptions).responseType){if(Object(o.a)("host-webworker")||Object(o.a)("host-node"))throw j("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),w)}else if(s)throw j("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),w);if("head"===t.method){if(t.body)throw j("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),w);if(s||b)throw j("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),w)}if(await async function(){Object(o.a)("host-webworker")?m||(m=await r.e(158).then(r.bind(null,549))):h._abortableFetch||(h._abortableFetch=n.a.fetch.bind(n.a))}(),m)return m.execute(e,t);const g=Object(l.d)();Object(l.o)(t,()=>g.abort());const v={controller:g,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:O,params:w,redoRequest:!1,useIdentity:p.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},S=await async function(e){let t,r;await async function(e){const t=e.params.url,r=e.params.requestOptions,o=e.controller.signal,s=r.body;let i=null,c=null,b=null;if(y&&"HTMLFormElement"in n.a&&(s instanceof FormData?i=s:s instanceof HTMLFormElement&&(c=s,i=new FormData(c))),"string"==typeof s&&(b=s),e.fetchOptions={cache:r.cacheBust&&!h._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:o},(i||b)&&(e.fetchOptions.body=i||b),"anonymous"===r.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query&&r.query.token||i&&i.get&&i.get("token")||c&&c.elements.token),!e.hasToken&&a.a.apiKey&&function(e){const t=Object(u.m)(e,!0);return t&&t.endsWith(".arcgis.com")&&!d.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}(t)&&(r.query||(r.query={}),r.query.token=a.a.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!L(t)&&!Object(l.m)(o)){let n;"immediate"===r.authMode?(await T(),n=await f.b.getCredential(t,{signal:o}),e.credential=n):"no-prompt"===r.authMode?(await T(),n=await f.b.getCredential(t,{prompt:!1,signal:o}).catch(()=>{}),e.credential=n):f.b&&(n=f.b.findCredential(t)),n&&(e.credentialToken=n.token,e.useSSL=!!n.ssl)}}(e);try{do{[t,r]=await q(e)}while(!await x(e,t,r))}catch(r){const n=j("request:server",r,e.params,t);throw n.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(n),n}const o=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(o)&&!e.hasToken&&!e.credentialToken&&r&&r.user&&r.user.username&&!Object(u.w)(o)){const e=Object(u.m)(o,!0);e&&p.trustedServers.push(e)}const s=e.credential;if(s&&f.b){const e=f.b.findServerInfo(s.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=f.b.findCredential(t,s.userId);e&&-1===f.b._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:r,getHeader:t?e=>t.headers.get(e):E,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(v);return O&&O.after&&O.after(S),S}let m;const p=a.a.request,y="FormData"in n.a,w=[499,498,403,401],O=["COM_0056","COM_0057","SB_0008"],g=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],E=()=>null;function j(e,t,r,n){let o="Error";const a={url:r.url,requestOptions:r.requestOptions,getHeader:E,ssl:!1};if(t instanceof c.a)return t.details?(t.details=Object(s.a)(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=a,t;if(t){const e=n&&(e=>n.headers.get(e)),r=n&&n.status,s=t.message;s&&(o=s),e&&(a.getHeader=e),a.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||r||0,a.subCode=t.subcode,a.messageCode=t.messageCode,"string"==typeof t.details?a.messages=[t.details]:a.messages=t.details}return Object(l.l)(t)?Object(l.e)():new c.a(e,o,a)}async function T(){f.b||await Promise.all([r.e(81),r.e(39)]).then(r.bind(null,631))}function L(e){return g.some(t=>t.test(e))}async function q(e){let t=e.params.url;const r=e.params.requestOptions,n=e.fetchOptions,s=Object(u.t)(t)||Object(u.u)(t),a=r.responseType||"json",i=s?0:null!=r.timeout?r.timeout:p.timeout;let c=!1;if(!s){e.useSSL&&(t=Object(u.H)(t)),r.cacheBust&&"default"===n.cache&&(t=Object(u.d)(t,"request.preventCache",Date.now()));let s={...r.query};e.credentialToken&&(s.token=e.credentialToken);let a=Object(u.C)(s);Object(o.a)("esri-url-encodes-apostrophe")&&(a=a.replace(/'/g,"%27"));const i=t.length+1+a.length;let l;c="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||i>p.maxUrlLength;const d=r.useProxy||!!Object(u.o)(t);if(d){const e=Object(u.p)(t);l=e.path,!c&&l.length+1+i>p.maxUrlLength&&(c=!0),e.query&&(s={...e.query,...s})}if("HEAD"===n.method&&(c||d)){if(c){if(i>p.maxUrlLength)throw j("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw j("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(d)throw j("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(c?(n.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?t=Object(u.e)(t,s):(n.body=Object(u.C)(s),n.headers["Content-Type"]="application/x-www-form-urlencoded")):t=Object(u.e)(t,s),d&&(e.useProxy=!0,t=`${l}?${t}`),s.token&&y&&n.body instanceof FormData){const e=n.body;e.set?e.set("token",s.token):e.append("token",s.token)}if(r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!Object(u.q)(t,u.g))if(Object(u.w)(t))e.withCredentials=!0;else if(f.b){const r=f.b.findServerInfo(t);r&&r.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(n.credentials="include")}let d,b,m=0,w=!1;i>0&&(m=setTimeout(()=>{w=!0,e.controller.abort()},i));try{if("image"!==r.responseType||"default"!==n.cache||"GET"!==n.method||c||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!s&&!e.useProxy&&p.proxyUrl&&!function(e){const t=Object(u.m)(e);return!t||t.endsWith(".arcgis.com")||-1!==h._corsServers.indexOf(t)||Object(u.w)(t)}(t)){if(d=await h._abortableFetch(t,n),e.useProxy||function(e){if(Object(u.t)(e)||Object(u.u)(e))return;const t=Object(u.m)(e);t&&-1===h._corsServers.indexOf(t)&&h._corsServers.push(t)}(t),d.ok&&"HEAD"!==n.method){switch(a){case"array-buffer":b=await d.arrayBuffer();break;case"blob":case"image":b=await d.blob();break;default:b=await d.text()}if(m&&(clearTimeout(m),m=0),"json"===a||"xml"===a||"document"===a)if(b)switch(a){case"json":b=JSON.parse(b);break;case"xml":b=v(b,"application/xml");break;case"document":b=v(b,"text/html")}else b=null;if(b){if("array-buffer"===a||"blob"===a){const e=d.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&b["blob"===a?"size":"byteLength"]<=750)try{const e=await new Response(b).json();e.error&&(b=e)}catch{}}"image"===a&&b instanceof Blob&&(b=await S(URL.createObjectURL(b),e,!0))}}}else b=await S(t,e)}catch(n){if("AbortError"===n.name){if(w)throw new Error("Timeout exceeded");throw Object(l.e)("Request canceled")}if(!(!d&&n instanceof TypeError&&p.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy)throw n;e.redoRequest=!0,Object(u.c)({proxyUrl:p.proxyUrl,urlPrefix:Object(u.E)(Object(u.I)(t).path)})}finally{m&&clearTimeout(m)}return[d,b]}function v(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function x(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;if(!t)return!0;if(!t.ok)throw new Error(`Unable to load ${t.url} status: ${t.status}`);let n,o,s,a;r&&r.error&&(n=Object.assign(new Error,r.error)),n&&(o=Number(n.code),s=n.hasOwnProperty("subcode")?Number(n.subcode):null,a=n.messageCode,a=a&&a.toUpperCase());const i=e.params.requestOptions.authMode;if(403===o&&(4===s||n.message&&n.message.toLowerCase().indexOf("ssl")>-1&&-1===n.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==i||498===o)&&-1!==w.indexOf(o)&&!L(e.params.url)&&(403!==o||-1===O.indexOf(a)&&(null==s||2===s&&e.credentialToken))){await T();try{const t=await f.b.getCredential(e.params.url,{error:j("request:server",n,e.params),prompt:"no-prompt"!==i,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===i)return e.credential=null,e.credentialToken=null,!1;n=t}}if(n)throw n;return!0}function S(e,t,r=!1){const n=t.controller.signal,o=new Image;return t.withCredentials?o.crossOrigin="use-credentials":o.crossOrigin="anonymous",o.alt="",o.src=e,Object(b.a)(o,e,r,n)}h._abortableFetch=null,h._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];t.default=h},643:function(e,t,r){"use strict";r.r(t),r.d(t,"destroyContext",(function(){return m})),r.d(t,"dracoDecompressPointCloudData",(function(){return f})),r.d(t,"filterObbsForModifications",(function(){return d})),r.d(t,"filterObbsForModificationsSync",(function(){return O})),r.d(t,"initialize",(function(){return j})),r.d(t,"interpretObbModificationResults",(function(){return w})),r.d(t,"process",(function(){return l})),r.d(t,"setLegacySchema",(function(){return h})),r.d(t,"setModifications",(function(){return b})),r.d(t,"setModificationsSync",(function(){return p})),r.d(t,"test",(function(){return T}));var n=r(12),o=r(0),s=r(109);function a(e){return Object(s.a)("esri/libs/i3s/"+e)}let i,c,u;async function l(e){await j();const t=[e.geometryBuffer];return{result:y(e,t),transferList:t}}async function f(e){var t;await j();const r=[e.geometryBuffer],{geometryBuffer:o}=e,s=o.byteLength,a=u._malloc(s),i=new Uint8Array(u.HEAPU8.buffer,a,s);i.set(new Uint8Array(o));const c=u.dracoDecompressPointCloudData(a,i.byteLength);if(u._free(a),c.error.length>0)throw"i3s.wasm: "+c.error;const l=(null==(t=c.featureIds)?void 0:t.length)>0?Object(n.m)(c.featureIds):null,f=Object(n.m)(c.positions);return l&&r.push(l.buffer),r.push(f.buffer),{result:{positions:f,featureIds:l},transferList:r}}async function d(e){await j(),O(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}}async function b(e){await j(),p(e)}async function h(e){await j(),u.setLegacySchema(e.context,e.jsonSchema)}function m(e){g(e)}function p(e){const t=e.modifications,r=u._malloc(8*t.length),n=new Float64Array(u.HEAPU8.buffer,r,t.length);for(let e=0;e<t.length;++e)n[e]=t[e];u.setModifications(e.context,r,t.length,e.isGeodetic),u._free(r)}function y(e,t){if(!u)return null;const{context:r,localOrigin:s,globalTrafo:a,mbs:i,obb:c,elevationOffset:l,geometryBuffer:f,geometryDescriptor:d,indexToVertexProjector:b,vertexToRenderProjector:h}=e,m=u._malloc(f.byteLength),p=u._malloc(33*Float64Array.BYTES_PER_ELEMENT),y=new Uint8Array(u.HEAPU8.buffer,m,f.byteLength);y.set(new Uint8Array(f));const w=new Float64Array(u.HEAPU8.buffer,p,33);E(w,s);let O=w.byteOffset+3*w.BYTES_PER_ELEMENT,g=new Float64Array(w.buffer,O);E(g,a),O+=16*w.BYTES_PER_ELEMENT,g=new Float64Array(w.buffer,O),E(g,i),O+=4*w.BYTES_PER_ELEMENT,Object(o.h)(c)&&(g=new Float64Array(w.buffer,O),E(g,c.center),O+=3*w.BYTES_PER_ELEMENT,g=new Float64Array(w.buffer,O),E(g,c.halfSize),O+=3*w.BYTES_PER_ELEMENT,g=new Float64Array(w.buffer,O),E(g,c.quaternion));const j=d,T={isDraco:!1,isLegacy:!1,color:e.layouts.some(e=>e.some(e=>"color"===e.name)),normal:e.needNormals&&e.layouts.some(e=>e.some(e=>"normalCompressed"===e.name)),uv0:e.layouts.some(e=>e.some(e=>"uv0"===e.name)),uvRegion:e.layouts.some(e=>e.some(e=>"uvRegion"===e.name)),featureIndex:j.featureIndex},L=u.process(r,!!e.obb,m,y.byteLength,j,T,p,l,b,h,e.normalReferenceFrame);if(u._free(p),u._free(m),L.error.length>0)throw"i3s.wasm: "+L.error;if(L.discarded)return null;const q=L.componentOffsets.length>0?Object(n.m)(L.componentOffsets):null,v=L.featureIds.length>0?Object(n.m)(L.featureIds):null,x=Object(n.m)(L.interleavedVertedData).buffer,S=1===L.indicesType?Object(n.m)(new Uint16Array(L.indices.buffer,L.indices.byteOffset,L.indices.byteLength/2)):Object(n.m)(new Uint32Array(L.indices.buffer,L.indices.byteOffset,L.indices.byteLength/4)),k=Object(n.m)(L.positions),P=1===L.positionIndicesType?Object(n.m)(new Uint16Array(L.positionIndices.buffer,L.positionIndices.byteOffset,L.positionIndices.byteLength/2)):Object(n.m)(new Uint32Array(L.positionIndices.buffer,L.positionIndices.byteOffset,L.positionIndices.byteLength/4)),C={layout:e.layouts[0],interleavedVertexData:x,indices:S,hasColors:L.hasColors,hasModifications:L.hasModifications,positionData:{data:k,indices:P}};return v&&t.push(v.buffer),q&&t.push(q.buffer),t.push(x),t.push(S.buffer),t.push(k.buffer),t.push(P.buffer),{componentOffsets:q,featureIds:v,transformedGeometry:C,obb:L.obb}}function w(e){return 0===e?0:1===e?1:2===e?2:3}function O(e){const{context:t,buffer:r}=e,n=u._malloc(r.byteLength),o=r.byteLength/Float64Array.BYTES_PER_ELEMENT,s=new Float64Array(u.HEAPU8.buffer,n,o),a=new Float64Array(r);s.set(a),u.filterOBBs(t,n,o),a.set(s),u._free(n)}function g(e){u&&u.destroy(e)}function E(e,t){for(let r=0;r<t.length;++r)e[r]=t[r]}function j(){return u?Promise.resolve():(c||(c=(i||(i=new Promise(e=>r.e(75).then(r.bind(null,552)).then((function(e){return e.i})).then(({default:t})=>{const r=t({locateFile:a,onRuntimeInitialized:()=>e(r)});delete r.then})).catch(e=>Promise.reject(e))),i).then(e=>{u=e,c=null})),c)}const T={transform:y,destroy:g}}});