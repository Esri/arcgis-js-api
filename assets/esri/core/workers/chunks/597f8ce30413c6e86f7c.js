"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[6841],{36030:(e,t,n)=>{n.d(t,{J:()=>a});var i=n(35454),l=n(5600);function a(e,t={}){var n;const a=e instanceof i.Xn?e:new i.Xn(e,t),r={type:null==(n=null==t?void 0:t.ignoreUnknown)||n?a.apiValues:String,readOnly:null==t?void 0:t.readOnly,json:{type:a.jsonValues,read:(null==t||!t.readOnly)&&{reader:a.read},write:{writer:a.write}}};return void 0!==(null==t?void 0:t.default)&&(r.json.default=t.default),void 0!==(null==t?void 0:t.name)&&(r.json.name=t.name),(0,l.Cb)(r)}},66577:(e,t,n)=>{n.d(t,{qM:()=>c});var i=n(75215),l=n(6570),a=n(9361),r=n(65091),o=n(13473),s=n(17332),u=n(58901);n(82971),n(86973),n(33955);const c={base:a.Z,key:"type",typeMap:{extent:l.Z,multipoint:r.Z,point:o.Z,polyline:u.Z,polygon:s.Z}};(0,i.N7)(c)},33955:(e,t,n)=>{n.d(t,{im:()=>y,q9:()=>b,Ji:()=>h,YX:()=>c,aW:()=>d,wp:()=>m,oU:()=>p,l9:()=>f});var i=n(70586),l=n(6570),a=n(9361),r=n(65091),o=n(13473),s=n(17332),u=n(58901);function c(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function d(e){return void 0!==e.points}function m(e){return void 0!==e.x&&void 0!==e.y}function f(e){return void 0!==e.paths}function p(e){return void 0!==e.rings}function y(e){return(0,i.Wi)(e)?null:e instanceof a.Z?e:m(e)?o.Z.fromJSON(e):f(e)?u.Z.fromJSON(e):p(e)?s.Z.fromJSON(e):d(e)?r.Z.fromJSON(e):c(e)?l.Z.fromJSON(e):null}function h(e){return e?m(e)?"esriGeometryPoint":f(e)?"esriGeometryPolyline":p(e)?"esriGeometryPolygon":c(e)?"esriGeometryEnvelope":d(e)?"esriGeometryMultipoint":null:null}const v={esriGeometryPoint:o.Z,esriGeometryPolyline:u.Z,esriGeometryPolygon:s.Z,esriGeometryEnvelope:l.Z,esriGeometryMultipoint:r.Z};function b(e){return e&&v[e]||null}},86973:(e,t,n)=>{n.d(t,{Mk:()=>l,P$:()=>a});var i=n(35454);const l=(0,i.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),a=(0,i.wY)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"})},35671:(e,t,n)=>{n.d(t,{io:()=>v,AB:()=>h,gd:()=>y,Mu:()=>F,Q0:()=>p,YN:()=>c,UF:()=>m,O5:()=>b,os:()=>V,H7:()=>N,qN:()=>M,Pz:()=>P,Qc:()=>O,vP:()=>U});var i,l,a=n(20102),r=n(78286);(l=i||(i={})).VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",l.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value";var o=n(59266);const s=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],u=["field","normalizationField"];function c(e,t){if(null!=e&&null!=t)for(const n of Array.isArray(e)?e:[e])if(d(s,n,t),"visualVariables"in n&&n.visualVariables)for(const e of n.visualVariables)d(u,e,t)}function d(e,t,n){if(e)for(const i of e){const e=(0,r.hS)(i,t),l=e&&"function"!=typeof e&&n.get(e);l&&(0,r.RB)(i,l.name,t)}}function m(e,t){if(null!=e&&null!=t&&t.fields.length)if("startField"in e){const n=t.get(e.startField),i=t.get(e.endField);e.startField=n&&n.name||null,e.endField=i&&i.name||null}else{const n=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=n&&n.name||null,e.endTimeField=i&&i.name||null}}const f=new Set;function p(e,t){return e&&t?(f.clear(),y(f,e,t),Array.from(f).sort()):[]}function y(e,t,n){var i;if(n)if(null!=t&&null!=(i=t.fields)&&i.length)if(n.includes("*"))for(const{name:n}of t.fields)e.add(n);else for(const i of n)h(e,t,i);else{if(n.includes("*"))return e.clear(),void e.add("*");for(const t of n)e.add(t)}}function h(e,t,n){if("string"==typeof n)if(t){const i=t.get(n);i&&e.add(i.name)}else e.add(n)}async function v(e,t,n){var i;if(!n)return;const{arcadeUtils:l}=await(0,o.LC)(),a=l.extractFieldNames(n,null==t||null==(i=t.fields)?void 0:i.map((e=>e.name)));for(const n of a)h(e,t,n)}function b({displayField:e,fields:t}){return e||(t&&t.length?g(t,"name-or-title")||g(t,"unique-identifier")||g(t,"type-or-category")||function(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.indexOf("name")>-1||e.indexOf("title")>-1)return t.name}return null}(t):null)}function g(e,t){for(const n of e)if(n&&n.valueType&&n.valueType===t)return n.name;return null}async function F(e,t){const{labelingInfo:i,fieldsIndex:l}=t;i&&i.length&&await Promise.all(i.map((t=>async function(e,t,i){if(!i)return;const l=i.getLabelExpression(),r=i.where;if("arcade"===l.type)await v(e,t,l.expression);else{const n=l.expression.match(/{[^}]*}/g);n&&n.forEach((n=>{h(e,t,n.slice(1,-1))}))}await async function(e,t,i){if(i&&"1=1"!==i){const l=(await Promise.all([n.e(1534),n.e(5732)]).then(n.bind(n,41534))).WhereClause.create(i,t);if(!l.isStandardized)throw new a.Z("fieldUtils:collectFilterFields","Where clause is not standardized");y(e,t,l.fieldNames)}}(e,t,r)}(e,l,t))))}function V(e){const t=e.defaultValue;return void 0!==t&&z(e,t)?t:e.nullable?null:void 0}function T(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function x(e){return null===e||T(e)}const w="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function S(e){return null===e||w(e)}function _(e){return null!=e&&"string"==typeof e}function I(e){return null===e||_(e)}function C(){return!0}function z(e,t){let n;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":n=e.nullable?S:w;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":n=e.nullable?x:T;break;case"string":case"esriFieldTypeString":n=e.nullable?I:_;break;default:n=C}return 1===arguments.length?n:n(t)}const D=new Set(["integer","small-integer","single","double","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);function N(e){return null!=e&&D.has(e.type)}function M(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}var E,k;function P(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function O(e,t){return e.nullable&&null===t?null:N(e)&&!function(e,t){const n="string"==typeof e?A(e):e;return!!n&&(n.isInteger?w(t)&&t>=n.min&&t<=n.max:t>=n.min&&t<=n.max)}(e.type,Number(t))?E.OUT_OF_RANGE:z(e,t)?e.domain?function(e,t){switch(e.type){case"range":{const n="range"in e?e.range[0]:e.minValue,l="range"in e?e.range[1]:e.maxValue;if(+t<n||+t>l)return i.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return i.INVALID_CODED_VALUE}return null}(e.domain,t):null:k.INVALID_TYPE}function A(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return G;case"esriFieldTypeInteger":case"integer":return Z;case"esriFieldTypeSingle":case"single":return L;case"esriFieldTypeDouble":case"double":return q}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(E||(E={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(k||(k={}));const G={min:-32768,max:32767,isInteger:!0},Z={min:-2147483648,max:2147483647,isInteger:!0},L={min:-34e37,max:12e37,isInteger:!1},q={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function U(e,t,n){switch(e){case i.INVALID_CODED_VALUE:return`Value ${n} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case i.VALUE_OUT_OF_RANGE:return`Value ${n} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case k.INVALID_TYPE:return`Value ${n} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case E.OUT_OF_RANGE:{const{min:e,max:i}=A(t.type);return`Value ${n} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${i}`}}}},98046:(e,t,n)=>{n.d(t,{Z:()=>f});var i,l=n(43697),a=n(22303),r=n(22974),o=n(5600),s=n(75215),u=n(36030),c=n(52011),d=n(899);let m=i=class extends d.Z{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new i({fromColor:(0,r.d9)(this.fromColor),toColor:(0,r.d9)(this.toColor),algorithm:this.algorithm})}};(0,l._)([(0,u.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],m.prototype,"algorithm",void 0),(0,l._)([(0,o.Cb)({type:a.Z,json:{type:[s.z8],write:!0}})],m.prototype,"fromColor",void 0),(0,l._)([(0,o.Cb)({type:a.Z,json:{type:[s.z8],write:!0}})],m.prototype,"toColor",void 0),(0,l._)([(0,o.Cb)({type:["algorithmic"]})],m.prototype,"type",void 0),m=i=(0,l._)([(0,c.j)("esri.rest.support.AlgorithmicColorRamp")],m);const f=m},57316:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(43697),l=n(35454),a=n(5600),r=(n(67676),n(80442),n(75215),n(52011)),o=n(10736),s=n(94593),u=n(89164);const c=new l.Xn({classBreaksDef:"class-breaks-definition",uniqueValueDef:"unique-value-definition"});let d=class extends o.wq{constructor(){super(...arguments),this.baseSymbol=null,this.colorRamp=null,this.type=null}};(0,i._)([(0,a.Cb)({type:u.Z,json:{write:!0}})],d.prototype,"baseSymbol",void 0),(0,i._)([(0,a.Cb)({types:s.V,json:{read:{reader:s.i},write:!0}})],d.prototype,"colorRamp",void 0),(0,i._)([(0,a.Cb)({json:{read:c.read,write:c.write}})],d.prototype,"type",void 0),d=(0,i._)([(0,r.j)("esri.rest.support.ClassificationDefinition")],d);const m=d,f=new l.Xn({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),p=new l.Xn({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let y=class extends m{constructor(){super(...arguments),this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null,this.type="class-breaks-definition"}set standardDeviationInterval(e){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",e)}set definedInterval(e){"defined-interval"===this.classificationMethod&&this._set("definedInterval",e)}};(0,i._)([(0,a.Cb)({json:{write:!0}})],y.prototype,"breakCount",void 0),(0,i._)([(0,a.Cb)({json:{write:!0}})],y.prototype,"classificationField",void 0),(0,i._)([(0,a.Cb)({type:String,json:{read:f.read,write:f.write}})],y.prototype,"classificationMethod",void 0),(0,i._)([(0,a.Cb)({json:{write:!0}})],y.prototype,"normalizationField",void 0),(0,i._)([(0,a.Cb)({json:{read:p.read,write:p.write}})],y.prototype,"normalizationType",void 0),(0,i._)([(0,a.Cb)({value:null,json:{write:!0}})],y.prototype,"standardDeviationInterval",null),(0,i._)([(0,a.Cb)({value:null,json:{write:!0}})],y.prototype,"definedInterval",null),(0,i._)([(0,a.Cb)()],y.prototype,"type",void 0),y=(0,i._)([(0,r.j)("esri.rest.support.ClassBreaksDefinition")],y);const h=y},899:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(43697),l=n(10736),a=n(5600),r=(n(67676),n(80442),n(75215),n(52011));let o=class extends l.wq{constructor(e){super(e),this.type=null}};(0,i._)([(0,a.Cb)({readOnly:!0,json:{read:!1,write:!0}})],o.prototype,"type",void 0),o=(0,i._)([(0,r.j)("esri.rest.support.ColorRamp")],o);const s=o},1515:(e,t,n)=>{n.d(t,{Z:()=>d});var i,l=n(43697),a=n(22974),r=n(5600),o=(n(75215),n(52011)),s=n(98046),u=n(899);let c=i=class extends u.Z{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new i({colorRamps:(0,a.d9)(this.colorRamps)})}};(0,l._)([(0,r.Cb)({type:[s.Z],json:{write:!0}})],c.prototype,"colorRamps",void 0),(0,l._)([(0,r.Cb)({type:["multipart"]})],c.prototype,"type",void 0),c=i=(0,l._)([(0,o.j)("esri.rest.support.MultipartColorRamp")],c);const d=c},94593:(e,t,n)=>{n.d(t,{i:()=>o,V:()=>r});var i=n(98046),l=n(899),a=n(1515);const r={key:"type",base:l.Z,typeMap:{algorithmic:i.Z,multipart:a.Z}};function o(e){return e&&e.type?"algorithmic"===e.type?i.Z.fromJSON(e):"multipart"===e.type?a.Z.fromJSON(e):null:null}},36841:(e,t,n)=>{n.r(t),n.d(t,{classBreaks:()=>c,histogram:()=>d,summaryStatistics:()=>s,uniqueValues:()=>u}),n(20102);var i=n(82971),l=(n(35671),n(8418)),a=n(59266);let r=null;async function o(e,t){if(!t)return[];const n=e.field,o=e.valueExpression,s=e.normalizationType,u=e.normalizationField,c=e.normalizationTotal,d=[],m=e.viewInfoParams;let f=null,p=null;if(o){if(!r){const{arcadeUtils:e}=await(0,a.LC)();r=e}f=r.createFunction(o),p=m&&r.getViewInfo({viewingMode:m.viewingMode,scale:m.scale,spatialReference:new i.Z(m.spatialReference)})}return t.forEach((e=>{const t=e.attributes;let i;if(o){const t=r.createExecContext(e,p);i=r.executeFunction(f,t)}else t&&(i=t[n]);if(s&&isFinite(i)){const e=t&&parseFloat(t[u]);i=(0,l.fk)(i,s,e,c)}d.push(i)})),d}async function s(e){const{attribute:t,features:n}=e,{normalizationType:i,normalizationField:a,minValue:r,maxValue:s,fieldType:u}=t,c=await o({field:t.field,valueExpression:t.valueExpression,normalizationType:i,normalizationField:a,normalizationTotal:t.normalizationTotal,viewInfoParams:t.viewInfoParams},n),d=(0,l.S5)({normalizationType:i,normalizationField:a,minValue:r,maxValue:s}),m={value:.5,fieldType:u},f="esriFieldTypeString"===u?(0,l.H0)({values:c,supportsNullCount:d,percentileParams:m}):(0,l.i5)({values:c,minValue:r,maxValue:s,useSampleStdDev:!i,supportsNullCount:d,percentileParams:m});return(0,l.F_)(f,"esriFieldTypeDate"===u)}async function u(e){const{attribute:t,features:n}=e,i=await o({field:t.field,valueExpression:t.valueExpression,viewInfoParams:t.viewInfoParams},n),a=(0,l.eT)(i);return(0,l.Qm)(a,t.domain,t.returnAllCodedValues)}async function c(e){const{attribute:t,features:n}=e,{field:i,normalizationType:a,normalizationField:r,normalizationTotal:s,classificationMethod:u}=t,c=await o({field:i,valueExpression:t.valueExpression,normalizationType:a,normalizationField:r,normalizationTotal:s,viewInfoParams:t.viewInfoParams},n),d=(0,l.G2)(c,{field:i,normalizationType:a,normalizationField:r,normalizationTotal:s,classificationMethod:u,standardDeviationInterval:t.standardDeviationInterval,numClasses:t.numClasses,minValue:t.minValue,maxValue:t.maxValue});return(0,l.DL)(d,u)}async function d(e){const{attribute:t,features:n}=e,{field:i,normalizationType:a,normalizationField:r,normalizationTotal:s,classificationMethod:u}=t,c=await o({field:i,valueExpression:t.valueExpression,normalizationType:a,normalizationField:r,normalizationTotal:s,viewInfoParams:t.viewInfoParams},n);return(0,l.oF)(c,{field:i,normalizationType:a,normalizationField:r,normalizationTotal:s,classificationMethod:u,standardDeviationInterval:t.standardDeviationInterval,numBins:t.numBins,minValue:t.minValue,maxValue:t.maxValue})}},8418:(e,t,n)=>{n.d(t,{G2:()=>w,oF:()=>_,XL:()=>h,i5:()=>y,H0:()=>p,eT:()=>V,Qm:()=>T,Lq:()=>v,fk:()=>x,S5:()=>f,F_:()=>F,DL:()=>S});var i=n(57316);function l(e,t){return Number(e.toFixed(t))}function a(e){const t=e.definition,{classificationMethod:n,breakCount:i,normalizationType:a,definedInterval:s}=t,u=[];let c=e.values;if(0===c.length)return[];c=c.sort(((e,t)=>e-t));const d=c[0],m=c[c.length-1];if("equal-interval"===n)if(c.length>=i){const e=(m-d)/i;let t=d;for(let n=1;n<i;n++){const i=l(d+n*e,6);u.push({minValue:t,maxValue:i,label:r(t,i,a)}),t=i}u.push({minValue:t,maxValue:m,label:r(t,m,a)})}else c.forEach((e=>{u.push({minValue:e,maxValue:e,label:r(e,e,a)})}));else if("natural-breaks"===n){const t=function(e){const t=[],n=[];let i=Number.MIN_VALUE,l=1,a=-1;for(let r=0;r<e.length;r++){const o=e[r];o===i?(l++,n[a]=l):null!==o&&(t.push(o),i=o,l=1,n.push(l),a++)}return{uniqueValues:t,valueFrequency:n}}(c),n=e.valueFrequency||t.valueFrequency,s=o(t.uniqueValues,n,i);let f=d;for(let e=1;e<i;e++)if(t.uniqueValues.length>e){const n=l(t.uniqueValues[s[e]],6);u.push({minValue:f,maxValue:n,label:r(f,n,a)}),f=n}u.push({minValue:f,maxValue:m,label:r(f,m,a)})}else if("quantile"===n)if(c.length>=i&&d!==m){let e=d,t=Math.ceil(c.length/i),n=0;for(let l=1;l<i;l++){let o=t+n-1;o>c.length&&(o=c.length-1),o<0&&(o=0),u.push({minValue:e,maxValue:c[o],label:r(e,c[o],a)}),e=c[o],n+=t,t=Math.ceil((c.length-n)/(i-l))}u.push({minValue:e,maxValue:m,label:r(e,m,a)})}else{let e=-1;for(let t=0;t<c.length;t++){const n=c[t];n!==e&&(e=n,u.push({minValue:e,maxValue:n,label:r(e,n,a)}),e=n)}}else if("standard-deviation"===n){const e=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t/=e.length,t}(c),t=function(e,t){let n=0;for(let i=0;i<e.length;i++){const l=e[i];n+=(l-t)*(l-t)}return n/=e.length,Math.sqrt(n)}(c,e);if(0===t)u.push({minValue:c[0],maxValue:c[0],label:r(c[0],c[0],a)});else{const n=function(e,t,n,i,l){let a=Math.max(i-e,t-i)/l/n;return a=a>=1?1:a>=.5?.5:.25,a}(d,m,i,e,t)*t;let o=0,s=d;for(let t=i;t>=1;t--){const i=l(e-(t-.5)*n,6);u.push({minValue:s,maxValue:i,label:r(s,i,a)}),s=i,o++}let c=l(e+.5*n,6);u.push({minValue:s,maxValue:c,label:r(s,c,a)}),s=c,o++;for(let t=1;t<=i;t++)c=o===2*i?m:l(e+(t+.5)*n,6),u.push({minValue:s,maxValue:c,label:r(s,c,a)}),s=c,o++}}else if("defined-interval"===n){if(!s)return u;const e=c[0],t=c[c.length-1],n=Math.ceil((t-e)/s);let i=e;for(let t=1;t<n;t++){const n=l(e+t*s,6);u.push({minValue:i,maxValue:n,label:r(i,n,a)}),i=n}u.push({minValue:i,maxValue:t,label:r(i,t,a)})}return u}function r(e,t,n){let i=null;return i=e===t?n&&"percent-of-total"===n?e+"%":e.toString():n&&"percent-of-total"===n?e+"% - "+t+"%":e+" - "+t,i}function o(e,t,n){const i=e.length,l=[];n>i&&(n=i);for(let e=0;e<n;e++)l.push(Math.round(e*i/n-1));l.push(i-1);let a=s(l,e,t,n);return function(e,t,n,i,l,a){let r=0,o=0,s=0,c=0,d=!0;for(let m=0;m<2&&d;m++){0===m&&(d=!1);for(let m=0;m<a-1;m++)for(;n[m+1]+1!==n[m+2];){n[m+1]=n[m+1]+1;const a=u(m,n,i,l);s=a.sbMean,r=a.sbSdcm;const f=u(m+1,n,i,l);if(c=f.sbMean,o=f.sbSdcm,!(r+o<t[m]+t[m+1])){n[m+1]=n[m+1]-1;break}t[m]=r,t[m+1]=o,e[m]=s,e[m+1]=c,d=!0}for(let m=a-1;m>0;m--)for(;n[m]!==n[m-1]+1;){n[m]=n[m]-1;const a=u(m-1,n,i,l);s=a.sbMean,r=a.sbSdcm;const f=u(m,n,i,l);if(c=f.sbMean,o=f.sbSdcm,!(r+o<t[m-1]+t[m])){n[m]=n[m]+1;break}t[m-1]=r,t[m]=o,e[m-1]=s,e[m]=c,d=!0}}return d}(a.mean,a.sdcm,l,e,t,n)&&(a=s(l,e,t,n)),l}function s(e,t,n,i){let l=[],a=[],r=[],o=0;const s=[],c=[];for(let l=0;l<i;l++){const i=u(l,e,t,n);s.push(i.sbMean),c.push(i.sbSdcm),o+=c[l]}let d,m=o,f=!0;for(;f||o<m;){f=!1,l=[];for(let t=0;t<i;t++)l.push(e[t]);for(let n=0;n<i;n++)for(let l=e[n]+1;l<=e[n+1];l++)if(d=t[l],n>0&&l!==e[n+1]&&Math.abs(d-s[n])>Math.abs(d-s[n-1]))e[n]=l;else if(n<i-1&&e[n]!==l-1&&Math.abs(d-s[n])>Math.abs(d-s[n+1])){e[n+1]=l-1;break}m=o,o=0,a=[],r=[];for(let l=0;l<i;l++){a.push(s[l]),r.push(c[l]);const i=u(l,e,t,n);s[l]=i.sbMean,c[l]=i.sbSdcm,o+=c[l]}}if(o>m){for(let t=0;t<i;t++)e[t]=l[t],s[t]=a[t],c[t]=r[t];o=m}return{mean:s,sdcm:c}}function u(e,t,n,i){let l=0,a=0;for(let r=t[e]+1;r<=t[e+1];r++){const e=i[r];l+=n[r]*e,a+=e}a<=0&&console.log("Exception in Natural Breaks calculation");const r=l/a;let o=0;for(let l=t[e]+1;l<=t[e+1];l++)o+=i[l]*(n[l]-r)**2;return{sbMean:r,sbSdcm:o}}const c=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,d=new Set(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),m=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function f(e){const t=null!=e.normalizationField||null!=e.normalizationType,n=null!=e.minValue||null!=e.maxValue,i=!!e.sqlExpression&&e.supportsSQLExpression;return!t&&!n&&!i}function p(e){const t=e.returnDistinct?[...new Set(e.values)]:e.values,n=t.filter((e=>null!=e)).length,i={count:n};return e.supportsNullCount&&(i.nullcount=t.length-n),e.percentileParams&&(i.median=h(t,e.percentileParams)),i}function y(e){const{values:t,useSampleStdDev:n,supportsNullCount:i}=e;let l=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,r=null,o=null,s=null,u=null,c=0;const d=null==e.minValue?-1/0:e.minValue,m=null==e.maxValue?1/0:e.maxValue;for(const e of t)Number.isFinite(e)?e>=d&&e<=m&&(r+=e,l=Math.min(l,e),a=Math.max(a,e),c++):"string"==typeof e&&c++;if(c&&null!=r){o=r/c;let e=0;for(const n of t)Number.isFinite(n)&&n>=d&&n<=m&&(e+=(n-o)**2);u=n?c>1?e/(c-1):0:c>0?e/c:0,s=Math.sqrt(u)}else l=null,a=null;const f={avg:o,count:c,max:a,min:l,stddev:s,sum:r,variance:u};return i&&(f.nullcount=t.length-c),e.percentileParams&&(f.median=h(t,e.percentileParams)),f}function h(e,t){const{fieldType:n,value:i,orderBy:l,isDiscrete:a}=t,r=v(n,"desc"===l);if(0===(e=[...e].filter((e=>null!=e)).sort(((e,t)=>r(e,t)))).length)return null;if(i<=0)return e[0];if(i>=1)return e[e.length-1];const o=(e.length-1)*i,s=Math.floor(o),u=s+1,c=o%1,d=e[s],m=e[u];return u>=e.length||a||"string"==typeof d||"string"==typeof m?d:d*(1-c)+m*c}function v(e,t){const n=t?1:-1,i=function(e){return e?(e,t)=>t-e:(e,t)=>e-t}(t),l=b(t);if(!e||!["esriFieldTypeDate","esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID",...d].includes(e))return(e,t)=>"number"==typeof e&&"number"==typeof t?i(e,t):"string"==typeof e&&"string"==typeof t?l(e,t):n;if("esriFieldTypeDate"===e)return(e,t)=>{const l=new Date(e).getTime(),a=new Date(t).getTime();return isNaN(l)||isNaN(a)?n:i(l,a)};if(d.has(e))return(e,t)=>i(e,t);if("esriFieldTypeString"===e)return(e,t)=>l(e,t);if("esriFieldTypeGUID"===e||"esriFieldTypeGlobalID"===e){const e=b(t);return(t,n)=>e(g(t),g(n))}return t?(e,t)=>1:(e,t)=>-1}function b(e){return e?(e,t)=>(e=e.toUpperCase())>(t=t.toUpperCase())?-1:e<t?1:0:(e,t)=>(e=e.toUpperCase())<(t=t.toUpperCase())?-1:e>t?1:0}function g(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function F(e,t){let n;for(n in e)m.indexOf(n)>-1&&(Number.isFinite(e[n])||(e[n]=null));return t?(["avg","stddev","variance"].forEach((t=>{null!=e[t]&&(e[t]=Math.ceil(e[t]))})),e):e}function V(e){const t={};for(let n of e)(null==n||"string"==typeof n&&""===n.trim())&&(n=null),null==t[n]?t[n]={count:1,data:n}:t[n].count++;return{count:t}}function T(e,t,n){const i=e.count,l=[];n&&t&&"coded-value"===t.type&&t.codedValues.forEach((e=>{const t=e.code;i.hasOwnProperty(t)||(i[t]={data:t,count:0})}));for(const e in i){const t=i[e];l.push({value:t.data,count:t.count,label:t.label})}return{uniqueValueInfos:l}}function x(e,t,n,i){let l=null;switch(t){case"log":0!==e&&(l=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(i)&&0!==i&&(l=e/i*100);break;case"field":Number.isFinite(n)&&0!==n&&(l=e/n);break;case"natural-log":e>0&&(l=Math.log(e));break;case"square-root":e>0&&(l=e**.5)}return l}function w(e,t){const n=function(e){const t=e.field,n=e.classificationMethod||"equal-interval",l=e.normalizationType,a=e.normalizationField,r=new i.Z;return r.classificationField=t,r.breakCount=e.breakCount,r.classificationMethod=n,r.standardDeviationInterval="standard-deviation"===n?e.standardDeviationInterval||1:void 0,r.normalizationType=l,r.normalizationField="field"===l?a:void 0,r}({field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,breakCount:t.numClasses||5});return e=function(e,t,n){return t=null==t?-1/0:t,n=null==n?1/0:n,e.filter((e=>Number.isFinite(e)&&e>=t&&e<=n))}(e,t.minValue,t.maxValue),function(e){const{normalizationTotal:t}=e;return{classBreaks:a(e),normalizationTotal:t}}({definition:n,values:e,normalizationTotal:t.normalizationTotal})}function S(e,t){let n=e.classBreaks;const i=n.length,l=n[0].minValue,a=n[i-1].maxValue,r="standard-deviation"===t,o=c;return n=n.map((e=>{const t=e.label,n={minValue:e.minValue,maxValue:e.maxValue,label:t};if(r&&t){const e=t.match(o).map((e=>+e.trim()));2===e.length?(n.minStdDev=e[0],n.maxStdDev=e[1],e[0]<0&&e[1]>0&&(n.hasAvg=!0)):1===e.length&&(t.includes("<")?(n.minStdDev=null,n.maxStdDev=e[0]):t.includes(">")&&(n.minStdDev=e[0],n.maxStdDev=null))}return n})),{minValue:l,maxValue:a,classBreakInfos:n,normalizationTotal:e.normalizationTotal}}function _(e,t){const{min:n,max:i,intervals:l}=function(e,t){const{field:n,classificationMethod:i,standardDeviationInterval:l,normalizationType:a,normalizationField:r,normalizationTotal:o,minValue:s,maxValue:u}=t,c=t.numBins||10;let d=null,m=null,p=null;if(i&&"equal-interval"!==i||a){const{classBreaks:t}=w(e,{field:n,normalizationType:a,normalizationField:r,normalizationTotal:o,classificationMethod:i,standardDeviationInterval:l,minValue:s,maxValue:u,numClasses:c});d=t[0].minValue,m=t[t.length-1].maxValue,p=t.map((e=>[e.minValue,e.maxValue]))}else{if(null!=s&&null!=u)d=s,m=u;else{const t=y({values:e,minValue:s,maxValue:u,useSampleStdDev:!a,supportsNullCount:f({normalizationType:a,normalizationField:r,minValue:s,maxValue:u})});d=t.min,m=t.max}p=function(e,t,n){const i=(t-e)/n,l=[];let a,r=e;for(let e=1;e<=n;e++)a=r+i,a=Number(a.toFixed(16)),l.push([r,e===n?t:a]),r=a;return l}(d,m,c)}return{min:d,max:m,intervals:p}}(e,t),a=l.map(((e,t)=>({minValue:l[t][0],maxValue:l[t][1],count:0})));for(const t of e)if(null!=t&&t>=n&&t<=i){const e=I(l,t);e>-1&&a[e].count++}return{bins:a,minValue:n,maxValue:i,normalizationTotal:t.normalizationTotal}}function I(e,t){let n=-1;for(let i=e.length-1;i>=0;i--)if(t>=e[i][0]){n=i;break}return n}},59266:(e,t,n)=>{n.d(t,{mz:()=>c,pp:()=>u,WW:()=>o,Yi:()=>s,LC:()=>r}),n(66577);var i=n(70586),l=n(82971);let a;function r(){return a||(a=(async()=>{const e=await Promise.all([n.e(9490),n.e(6690)]).then(n.bind(n,96690));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),a}const o=(e,t,n)=>c.create(e,t,n,null,["$feature"]),s=(e,t,n)=>c.create(e,t,n,null,["$feature","$view"]),u=(e,t,n,i)=>c.create(e,t,n,i,["$feature","$view"]);class c{constructor(e,t,n,i,l,a,r,o){this.script=e,this.evaluate=l;const s=Array.isArray(r)?r:r.fields;this.fields=s,this._syntaxTree=i,this._arcade=t,this._arcadeDictionary=n,this._arcadeFeature=a,this._spatialReference=o,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,n,a,o,s){const{arcade:u,Feature:d,Dictionary:m}=await r(),f=l.Z.fromJSON(t),p=u.parseScript(e,s),y=o.reduce(((e,t)=>({...e,[t]:null})),{});let h=null;(0,i.pC)(a)&&(h=new m(a),h.immutable=!0,y.$config=null);const v=u.scriptUsesGeometryEngine(p)&&u.enableGeometrySupport(),b=u.scriptUsesFeatureSet(p)&&u.enableFeatureSetSupport(),g=u.scriptIsAsync(p)&&u.enableAsyncSupport(),F={vars:y,spatialReference:f,useAsync:!!g},V=new m;V.immutable=!1,V.setField("scale",0);const T=u.compileScript(p,F);return await Promise.all([v,b,g]),new c(e,u,m,p,(e=>("$view"in e&&e.$view&&(V.setField("scale",e.$view.scale),e.$view=V),h&&(e.$config=h),T({vars:e,spatialReference:f}))),new d,n,f)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}repurposeAdapter(e){return this._arcadeFeature.repurposeFromAdapter(e,{fields:this.fields}),this._arcadeFeature}createDictionary(){return new this._arcadeDictionary}referencesMember(e){return this._arcade.referencesMember(this._syntaxTree,e)}referencesFunction(e){return this._arcade.referencesFunction(this._syntaxTree,e)}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}extractFieldLiterals(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)}}},89164:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(43697),l=n(22303),a=n(35454),r=n(10736),o=n(5600),s=(n(67676),n(80442),n(75215),n(71715)),u=n(52011);const c=new a.Xn({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let d=0,m=class extends r.wq{constructor(e){super(e),this.id="sym"+d++,this.type=null}set color(e){this._set("color",e)}readColor(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};(0,i._)([(0,o.Cb)({type:c.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:c.write}}})],m.prototype,"type",void 0),(0,i._)([(0,o.Cb)({type:l.Z,value:new l.Z([0,0,0,1]),json:{write:{allowNull:!0}}})],m.prototype,"color",null),(0,i._)([(0,s.r)("color")],m.prototype,"readColor",null),m=(0,i._)([(0,u.j)("esri.symbols.Symbol")],m);const f=m}}]);