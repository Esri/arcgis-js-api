"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[8936],{46851:(t,n,e)=>{e.d(n,{E:()=>r,R:()=>i});const r=1e-6,i=Math.random,o=Math.PI/180,s=180/Math.PI;Object.freeze({__proto__:null,EPSILON:r,RANDOM:i,toRadian:function(t){return t*o},toDegree:function(t){return t*s},equals:function(t,n){return Math.abs(t-n)<=r*Math.max(1,Math.abs(t),Math.abs(n))}})},17896:(t,n,e)=>{e.d(n,{E:()=>l,a:()=>h,b:()=>c,c:()=>w,d:()=>M,e:()=>b,f:()=>u,g:()=>s,h:()=>p,i:()=>d,k:()=>F,l:()=>o,m:()=>v,n:()=>g,p:()=>m,q:()=>A,r:()=>I,s:()=>a,t:()=>y,u:()=>V});var r=e(65617),i=e(46851);function o(t){const n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function s(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function a(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function c(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function u(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function f(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function l(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function h(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function d(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return Math.sqrt(e*e+r*r+i*i)}function p(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return e*e+r*r+i*i}function m(t){const n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function g(t,n){const e=n[0],r=n[1],i=n[2];let o=e*e+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t}function M(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function w(t,n,e){const r=n[0],i=n[1],o=n[2],s=e[0],a=e[1],c=e[2];return t[0]=i*c-o*a,t[1]=o*s-r*c,t[2]=r*a-i*s,t}function b(t,n,e,r){const i=n[0],o=n[1],s=n[2];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=s+r*(e[2]-s),t}function v(t,n,e){const r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12],t[1]=e[1]*r+e[5]*i+e[9]*o+e[13],t[2]=e[2]*r+e[6]*i+e[10]*o+e[14],t}function y(t,n,e){const r=n[0],i=n[1],o=n[2];return t[0]=r*e[0]+i*e[3]+o*e[6],t[1]=r*e[1]+i*e[4]+o*e[7],t[2]=r*e[2]+i*e[5]+o*e[8],t}function A(t,n,e){const r=e[0],i=e[1],o=e[2],s=e[3],a=n[0],c=n[1],u=n[2];let f=i*u-o*c,l=o*a-r*u,h=r*c-i*a,d=i*h-o*l,p=o*f-r*h,m=r*l-i*f;const g=2*s;return f*=g,l*=g,h*=g,d*=2,p*=2,m*=2,t[0]=a+f+d,t[1]=c+l+p,t[2]=u+h+m,t}const E=(0,r.c)(),x=(0,r.c)();function F(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function I(t,n,e){const r=e[0]-n[0],i=e[1]-n[1],o=e[2]-n[2];let s=r*r+i*i+o*o;return s>0?(s=1/Math.sqrt(s),t[0]=r*s,t[1]=i*s,t[2]=o*s,t):(t[0]=0,t[1]=0,t[2]=0,t)}const N=u,q=f,U=l,L=d,S=p,V=o,_=m;Object.freeze({__proto__:null,length:o,copy:s,set:a,add:c,subtract:u,multiply:f,divide:l,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},min:function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t},max:function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},scale:h,scaleAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t},distance:d,squaredDistance:p,squaredLength:m,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},normalize:g,dot:M,cross:w,lerp:b,hermite:function(t,n,e,r,i,o){const s=o*o,a=s*(2*o-3)+1,c=s*(o-2)+o,u=s*(o-1),f=s*(3-2*o);return t[0]=n[0]*a+e[0]*c+r[0]*u+i[0]*f,t[1]=n[1]*a+e[1]*c+r[1]*u+i[1]*f,t[2]=n[2]*a+e[2]*c+r[2]*u+i[2]*f,t},bezier:function(t,n,e,r,i,o){const s=1-o,a=s*s,c=o*o,u=a*s,f=3*o*a,l=3*c*s,h=c*o;return t[0]=n[0]*u+e[0]*f+r[0]*l+i[0]*h,t[1]=n[1]*u+e[1]*f+r[1]*l+i[1]*h,t[2]=n[2]*u+e[2]*f+r[2]*l+i[2]*h,t},random:function(t,n){n=n||1;const e=2*(0,i.R)()*Math.PI,r=2*(0,i.R)()-1,o=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=r*n,t},transformMat4:v,transformMat3:y,transformQuat:A,rotateX:function(t,n,e,r){const i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},rotateY:function(t,n,e,r){const i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},rotateZ:function(t,n,e,r){const i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},angle:function(t,n){s(E,t),s(x,n),g(E,E),g(x,x);const e=M(E,x);return e>1?0:e<-1?Math.PI:Math.acos(e)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:F,equals:function(t,n){if(t===n)return!0;const e=t[0],r=t[1],o=t[2],s=n[0],a=n[1],c=n[2];return Math.abs(e-s)<=i.E*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(r-a)<=i.E*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-c)<=i.E*Math.max(1,Math.abs(o),Math.abs(c))},direction:I,sub:N,mul:q,div:U,dist:L,sqrDist:S,len:V,sqrLen:_})},65617:(t,n,e)=>{function r(){return[0,0,0]}function i(t){return[t[0],t[1],t[2]]}function o(t,n,e){return[t,n,e]}function s(t){const n=[0,0,0],e=Math.min(3,t.length);for(let r=0;r<e;++r)n[r]=t[r];return n}function a(t,n){return new Float64Array(t,n,3)}function c(){return o(1,1,1)}function u(){return o(1,0,0)}function f(){return o(0,1,0)}function l(){return o(0,0,1)}e.d(n,{O:()=>d,Z:()=>h,a:()=>i,b:()=>a,c:()=>r,d:()=>s,f:()=>o});const h=[0,0,0],d=c(),p=u(),m=f(),g=l();Object.freeze({__proto__:null,create:r,clone:i,fromValues:o,fromArray:s,createView:a,zeros:function(){return[0,0,0]},ones:c,unitX:u,unitY:f,unitZ:l,ZEROS:h,ONES:d,UNIT_X:p,UNIT_Y:m,UNIT_Z:g})},98766:(t,n,e)=>{e.d(n,{a:()=>s,b:()=>f,c:()=>i,d:()=>g,e:()=>d,f:()=>p,g:()=>w,h:()=>b,l:()=>M,n:()=>m,s:()=>o});var r=e(46851);function i(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function o(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function s(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function a(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function c(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function u(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function f(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function l(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.sqrt(e*e+r*r+i*i+o*o)}function h(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return e*e+r*r+i*i+o*o}function d(t){const n=t[0],e=t[1],r=t[2],i=t[3];return Math.sqrt(n*n+e*e+r*r+i*i)}function p(t){const n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i}function m(t,n){const e=n[0],r=n[1],i=n[2],o=n[3];let s=e*e+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),t[0]=e*s,t[1]=r*s,t[2]=i*s,t[3]=o*s),t}function g(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function M(t,n,e,r){const i=n[0],o=n[1],s=n[2],a=n[3];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=s+r*(e[2]-s),t[3]=a+r*(e[3]-a),t}function w(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function b(t,n){const e=t[0],i=t[1],o=t[2],s=t[3],a=n[0],c=n[1],u=n[2],f=n[3];return Math.abs(e-a)<=r.E*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(i-c)<=r.E*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-u)<=r.E*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(s-f)<=r.E*Math.max(1,Math.abs(s),Math.abs(f))}const v=a,y=c,A=u,E=l,x=h,F=d,I=p;Object.freeze({__proto__:null,copy:i,set:o,add:s,subtract:a,multiply:c,divide:u,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},min:function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t},max:function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},scale:f,scaleAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t},distance:l,squaredDistance:h,length:d,squaredLength:p,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},normalize:m,dot:g,lerp:M,random:function(t,n){let e,i,o,s,a,c;n=n||1;do{e=2*(0,r.R)()-1,i=2*(0,r.R)()-1,a=e*e+i*i}while(a>=1);do{o=2*(0,r.R)()-1,s=2*(0,r.R)()-1,c=o*o+s*s}while(c>=1);const u=Math.sqrt((1-a)/c);return t[0]=n*e,t[1]=n*i,t[2]=n*o*u,t[3]=n*s*u,t},transformMat4:function(t,n,e){const r=n[0],i=n[1],o=n[2],s=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*s,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*s,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*s,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*s,t},transformQuat:function(t,n,e){const r=n[0],i=n[1],o=n[2],s=e[0],a=e[1],c=e[2],u=e[3],f=u*r+a*o-c*i,l=u*i+c*r-s*o,h=u*o+s*i-a*r,d=-s*r-a*i-c*o;return t[0]=f*u+d*-s+l*-c-h*-a,t[1]=l*u+d*-a+h*-s-f*-c,t[2]=h*u+d*-c+f*-a-l*-s,t[3]=n[3],t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:w,equals:b,sub:v,mul:y,div:A,dist:E,sqrDist:x,len:F,sqrLen:I})},22021:(t,n,e)=>{e.d(n,{ZF:()=>h,Kt:()=>d,jE:()=>g,uZ:()=>s,oK:()=>p,Vl:()=>f,wt:()=>a,t7:()=>u,Sf:()=>o,fp:()=>c,BV:()=>l});var r=e(17896);e(98766);const i=new Float32Array(1);function o(t){--t;for(let n=1;n<32;n<<=1)t|=t>>n;return t+1}function s(t,n,e){return Math.min(Math.max(t,n),e)}function a(t){return 0==(t&t-1)}function c(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function u(t,n,e){return t+(n-t)*e}function f(t){return t*Math.PI/180}function l(t){return 180*t/Math.PI}function h(t){return Math.acos(s(t,-1,1))}function d(t){return Math.asin(s(t,-1,1))}function p(t){return m(Math.max(-M,Math.min(t,M)))}function m(t){return i[0]=t,i[0]}function g(t,n){const e=(0,r.l)(t),i=d(t[2]/e),o=Math.atan2(t[1]/e,t[0]/e);return(0,r.s)(n,e,i,o),n}const M=m(34028234663852886e22)},79583:(t,n,e)=>{function r(t){switch(t){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8;default:return}}function i(t){switch(t){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function o(t){switch(t){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function s(t){switch(t){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}e.d(n,{n1:()=>r,U:()=>o,B3:()=>i,Op:()=>s}),e(80442)},47545:(t,n,e)=>{e.d(n,{d:()=>i});var r=e(22021);function i(t,n,e){var i;const u=t.byteLength/(4*n),f=new Uint32Array(t,0,u*n);let l=new Uint32Array(u);const h=null!=(i=null==e?void 0:e.minReduction)?i:0,d=(null==e?void 0:e.originalIndices)||null,p=d?d.length:0,m=(null==e?void 0:e.componentOffsets)||null;let g=0;if(m)for(let t=0;t<m.length-1;t++){const n=m[t+1]-m[t];n>g&&(g=n)}else g=u;const M=Math.floor(1.1*g)+1;(null==c||c.length<2*M)&&(c=new Uint32Array((0,r.Sf)(2*M)));for(let t=0;t<2*M;t++)c[t]=0;let w=0;const b=!!m&&!!d,v=b?p:u,y=b?new Uint32Array(p):null,A=1.96;let E=0!==h?Math.ceil(4*A*A/(h*h)*h*(1-h)):v,x=1,F=m?m[1]:v;for(let t=0;t<v;t++){if(t===E){const n=1-w/t;if(n+A*Math.sqrt(n*(1-n)/t)<h)return null;E*=2}if(t===F){for(let t=0;t<2*M;t++)c[t]=0;if(d)for(let t=m[x-1];t<m[x];t++)y[t]=l[d[t]];F=m[++x]}const e=b?d[t]:t,r=e*n,i=a(f,r,n);let s=i%M,u=w;for(;0!==c[2*s+1];){if(c[2*s]===i){const t=c[2*s+1]-1;if(o(f,r,t*n,n)){u=l[t];break}}s++,s>=M&&(s-=M)}u===w&&(c[2*s]=i,c[2*s+1]=e+1,w++),l[e]=u}if(0!==h&&1-w/u<h)return null;if(b){for(let t=m[x-1];t<y.length;t++)y[t]=l[d[t]];l=y}const I=new Uint32Array(n*w);w=0;for(let t=0;t<v;t++)l[t]===w&&(s(f,(b?d[t]:t)*n,I,w*n,n),w++);if(d&&!b){const t=new Uint32Array(p);for(let n=0;n<t.length;n++)t[n]=l[d[n]];l=t}return{buffer:I.buffer,indices:l,uniqueCount:w}}function o(t,n,e,r){for(let i=0;i<r;i++)if(t[n+i]!==t[e+i])return!1;return!0}function s(t,n,e,r,i){for(let o=0;o<i;o++)e[r+o]=t[n+o]}function a(t,n,e){let r=0;for(let i=0;i<e;i++)r=t[n+i]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let c=null},65576:(t,n,e)=>{e.d(n,{U$:()=>a});var r=e(56481),i=e(79583);class o{constructor(t,n){this.layout=t,this.buffer="number"==typeof n?new ArrayBuffer(n*t.stride):n;for(const n of t.fieldNames){const e=t.fields.get(n);this[n]=new e.constructor(this.buffer,e.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(t,n){const e=this[t];return e&&e.elementCount===n.ElementCount&&e.elementType===n.ElementType?e:null}slice(t,n){return new o(this.layout,this.buffer.slice(t*this.stride,n*this.stride))}copyFrom(t,n,e,r){const i=this.stride;if(i%4==0){const o=new Uint32Array(t.buffer,n*i,r*i/4);new Uint32Array(this.buffer,e*i,r*i/4).set(o)}else{const o=new Uint8Array(t.buffer,n*i,r*i);new Uint8Array(this.buffer,e*i,r*i).set(o)}}}class s{constructor(){this.stride=0,this.fields=new Map,this.fieldNames=[]}vec2f(t,n){return this.appendField(t,r.Eu,n),this}vec2f64(t,n){return this.appendField(t,r.q6,n),this}vec3f(t,n){return this.appendField(t,r.ct,n),this}vec3f64(t,n){return this.appendField(t,r.fP,n),this}vec4f(t,n){return this.appendField(t,r.ek,n),this}vec4f64(t,n){return this.appendField(t,r.Cd,n),this}mat3f(t,n){return this.appendField(t,r.gK,n),this}mat3f64(t,n){return this.appendField(t,r.ey,n),this}mat4f(t,n){return this.appendField(t,r.bj,n),this}mat4f64(t,n){return this.appendField(t,r.O1,n),this}vec4u8(t,n){return this.appendField(t,r.mc,n),this}f32(t,n){return this.appendField(t,r.ly,n),this}f64(t,n){return this.appendField(t,r.oS,n),this}u8(t,n){return this.appendField(t,r.D_,n),this}u16(t,n){return this.appendField(t,r.av,n),this}i8(t,n){return this.appendField(t,r.Hz,n),this}vec2i8(t,n){return this.appendField(t,r.Vs,n),this}vec2i16(t,n){return this.appendField(t,r.or,n),this}vec2u8(t,n){return this.appendField(t,r.xA,n),this}vec4u16(t,n){return this.appendField(t,r.v6,n),this}u32(t,n){return this.appendField(t,r.Nu,n),this}appendField(t,n,e){const r=n.ElementCount*(0,i.n1)(n.ElementType),o=this.stride;this.fields.set(t,{size:r,constructor:n,offset:o,optional:e}),this.stride+=r,this.fieldNames.push(t)}alignTo(t){return this.stride=Math.floor((this.stride+t-1)/t)*t,this}hasField(t){return this.fieldNames.indexOf(t)>=0}createBuffer(t){return new o(this,t)}createView(t){return new o(this,t)}clone(){const t=new s;return t.stride=this.stride,t.fields=new Map,this.fields.forEach(((n,e)=>t.fields.set(e,n))),t.fieldNames=this.fieldNames.slice(),t.BufferType=this.BufferType,t}}function a(){return new s}},18936:(t,n,e)=>{e.r(n),e.d(n,{work:()=>j,wrappedWork:()=>Z});var r=e(47545);function i(t,n,e){const r=n/3,i=new Uint32Array(e+1),o=new Uint32Array(e+1),s=(t,n)=>{t<n?i[t+1]++:o[n+1]++};for(let n=0;n<r;n++){const e=t[3*n],r=t[3*n+1],i=t[3*n+2];s(e,r),s(r,i),s(i,e)}let a=0,c=0;for(let t=0;t<e;t++){const n=i[t+1],e=o[t+1];i[t+1]=a,o[t+1]=c,a+=n,c+=e}const u=new Uint32Array(6*r),f=i[e],l=(t,n,e)=>{if(t<n){const r=i[t+1]++;u[2*r]=n,u[2*r+1]=e}else{const r=o[n+1]++;u[2*f+2*r]=t,u[2*f+2*r+1]=e}};for(let n=0;n<r;n++){const e=t[3*n],r=t[3*n+1],i=t[3*n+2];l(e,r,n),l(r,i,n),l(i,e,n)}const h=(t,n)=>{const e=2*t,r=n-t;for(let t=1;t<r;t++){const n=u[e+2*t],r=u[e+2*t+1];let i=t-1;for(;i>=0&&u[e+2*i]>n;i--)u[e+2*i+2]=u[e+2*i],u[e+2*i+3]=u[e+2*i+1];u[e+2*i+2]=n,u[e+2*i+3]=r}};for(let t=0;t<e;t++)h(i[t],i[t+1]),h(f+o[t],f+o[t+1]);const d=new Int32Array(3*r),p=(n,e)=>n===t[3*e]?0:n===t[3*e+1]?1:n===t[3*e+2]?2:-1,m=(t,n)=>{const e=p(t,n);d[3*n+e]=-1},g=(t,n,e,r)=>{const i=p(t,n);d[3*n+i]=r;const o=p(e,r);d[3*r+o]=n};for(let t=0;t<e;t++){let n=i[t];const e=i[t+1];let r=o[t];const s=o[t+1];for(;n<e&&r<s;){const e=u[2*n],i=u[2*f+2*r];e===i?(g(t,u[2*n+1],i,u[2*f+2*r+1]),n++,r++):e<i?(m(t,u[2*n+1]),n++):(m(i,u[2*f+2*r+1]),r++)}for(;n<e;)m(t,u[2*n+1]),n++;for(;r<s;)m(u[2*f+2*r],u[2*f+2*r+1]),r++}return d}var o=e(56481),s=e(65576);function a(t,n){return n.push(t.buffer),{buffer:t.buffer,layout:c(t.layout)}}function c(t){const n=new Array;return t.fields.forEach(((t,e)=>{const r={...t,constructor:f(t.constructor)};n.push([e,r])})),{stride:t.stride,fields:n,fieldNames:t.fieldNames}}const u=[o.ly,o.Eu,o.ct,o.ek,o.gK,o.bj,o.oS,o.q6,o.fP,o.Cd,o.ey,o.O1,o.D_,o.xA,o.ne,o.mc,o.av,o.TS,o.mw,o.v6,o.Nu,o.qt,o.G5,o.hu,o.Hz,o.Vs,o.P_,o.ir,o.o7,o.or,o.n1,o.zO,o.Jj,o.wA,o.PP,o.TN];function f(t){return`${t.ElementType}_${t.ElementCount}`}const l=new Map;function h(t,n=0){const e=t.stride;return t.fieldNames.filter((n=>{const e=t.fields.get(n).optional;return!(e&&e.glPadding)})).map((r=>{const i=t.fields.get(r),o=i.constructor.ElementCount,s=d(i.constructor.ElementType),a=i.offset,c=!(!i.optional||!i.optional.glNormalized);return{name:r,stride:e,count:o,type:s,offset:a,normalized:c,divisor:n}}))}function d(t){const n=p[t];if(n)return n;throw new Error("BufferType not supported in WebGL")}u.forEach((t=>l.set(f(t),t)));const p={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126},m=(0,s.U$)().vec3f("position").u16("componentIndex").u16("u16padding"),g=(h((0,s.U$)().vec2u8("sideness")),(0,s.U$)().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("u8padding",{glPadding:!0}).u16("u16padding",{glPadding:!0})),M=g.clone().vec3f("normal"),w=g.clone().vec3f("normalA").vec3f("normalB");new Map([["position0",0],["position1",1],["componentIndex",2],["variantOffset",3],["variantStroke",4],["variantExtension",5],["normal",6],["normalA",6],["normalB",7],["sideness",8]]);var b=e(77734),v=e(17896),y=e(65617);class A{updateSettings(t){this.settings=t,this.edgeHashFunction=t.reducedPrecision?N:I}write(t,n,e){const r=this.edgeHashFunction(e);V.seed=r;const i=V.getIntRange(0,255),o=V.getIntRange(0,this.settings.variants-1),s=V.getFloat(),a=255*(.5*function(t,n){const e=t<0?-1:1;return Math.abs(t)**1.2*e}(-(1-Math.min(s/.7,1))+Math.max(0,s-.7)/(1-.7))+.5);t.position0.setVec(n,e.position0),t.position1.setVec(n,e.position1),t.componentIndex.set(n,e.componentIndex),t.variantOffset.set(n,i),t.variantStroke.set(n,o),t.variantExtension.set(n,a)}trim(t,n){return t.slice(0,n)}}const E=new Float32Array(6),x=new Uint32Array(E.buffer),F=new Uint32Array(1);function I(t){const n=E;n[0]=t.position0[0],n[1]=t.position0[1],n[2]=t.position0[2],n[3]=t.position1[0],n[4]=t.position1[1],n[5]=t.position1[2],F[0]=5381;for(let t=0;t<x.length;t++)F[0]=31*F[0]+x[t];return F[0]}function N(t){const n=E;n[0]=q(t.position0[0]),n[1]=q(t.position0[1]),n[2]=q(t.position0[2]),n[3]=q(t.position1[0]),n[4]=q(t.position1[1]),n[5]=q(t.position1[2]),F[0]=5381;for(let t=0;t<x.length;t++)F[0]=31*F[0]+x[t];return F[0]}function q(t){return Math.round(1e4*t)/1e4}class U{constructor(){this.commonWriter=new A}updateSettings(t){this.commonWriter.updateSettings(t)}allocate(t){return M.createBuffer(t)}write(t,n,e){this.commonWriter.write(t,n,e),(0,v.b)(S,e.faceNormal0,e.faceNormal1),(0,v.n)(S,S),t.normal.setVec(n,S)}trim(t,n){return this.commonWriter.trim(t,n)}}U.Layout=M,U.glLayout=h(M,1);class L{constructor(){this.commonWriter=new A}updateSettings(t){this.commonWriter.updateSettings(t)}allocate(t){return w.createBuffer(t)}write(t,n,e){this.commonWriter.write(t,n,e),t.normalA.setVec(n,e.faceNormal0),t.normalB.setVec(n,e.faceNormal1)}trim(t,n){return this.commonWriter.trim(t,n)}}L.Layout=w,L.glLayout=h(w,1);const S=(0,y.c)(),V=new b.Z;var _=e(67676),O=e(22021),P=e(1533);const D=-1;function k(t,n){return t.cosAngle<n}function z(t,n){return t.cosAngle>n}function T(t,n){const e=(0,O.ZF)(t.cosAngle),r=R.fwd,i=R.ortho;return(0,v.r)(r,t.position1,t.position0),e*((0,v.d)((0,v.c)(i,t.faceNormal0,t.faceNormal1),r)>0?-1:1)>n}function B(t){const n=t.faces.length/3,e=t.vertices.position,r=t.faces,i=C.v0,o=C.v1,s=C.v2,a=new Float32Array(3*n);for(let t=0;t<n;t++){const n=r[3*t+0],c=r[3*t+1],u=r[3*t+2];e.getVec(n,i),e.getVec(c,o),e.getVec(u,s),(0,v.f)(o,o,i),(0,v.f)(s,s,i),(0,v.c)(i,o,s),(0,v.n)(i,i),a[3*t+0]=i[0],a[3*t+1]=i[1],a[3*t+2]=i[2]}return a}const R={edge:{position0:(0,y.c)(),position1:(0,y.c)(),faceNormal0:(0,y.c)(),faceNormal1:(0,y.c)(),componentIndex:0,cosAngle:0},ortho:(0,y.c)(),fwd:(0,y.c)()},C={v0:(0,y.c)(),v1:(0,y.c)(),v2:(0,y.c)()},W={anglePlanar:4,angleSignificantEdge:35};async function Z(t){const n=function(t){return{data:m.createView(t.dataBuffer),indices:"Uint32Array"===t.indicesType?new Uint32Array(t.indicesBuffer):"Uint16Array"===t.indicesType?new Uint16Array(t.indicesBuffer):void 0,indicesLength:t.indicesLength,writerSettings:t.writerSettings,skipDeduplicate:t.skipDeduplicate}}(t),e=j(n),r=[n.data.buffer];return{result:$(e,r),transferList:r}}function j(t){const n=H(t.data,t.skipDeduplicate,t.indices,t.indicesLength);return K.updateSettings(t.writerSettings),X.updateSettings(t.writerSettings),function(t,n,e,r=W){const i=t.vertices.position,o=t.vertices.componentIndex,s=(0,O.Vl)(r.anglePlanar),a=(0,O.Vl)(r.angleSignificantEdge),c=Math.cos(a),u=Math.cos(s),f=R.edge,l=f.position0,h=f.position1,d=f.faceNormal0,p=f.faceNormal1,m=B(t),g=function(t){const n=t.faces.length/3,e=t.faces,r=t.neighbors;let i=0;for(let t=0;t<n;t++){const n=r[3*t+0],o=r[3*t+1],s=r[3*t+2],a=e[3*t+0],c=e[3*t+1],u=e[3*t+2];i+=n===D||a<c?1:0,i+=o===D||c<u?1:0,i+=s===D||u<a?1:0}const o=new Int32Array(4*i);let s=0;for(let t=0;t<n;t++){const n=r[3*t+0],i=r[3*t+1],a=r[3*t+2],c=e[3*t+0],u=e[3*t+1],f=e[3*t+2];(n===D||c<u)&&(o[s++]=c,o[s++]=u,o[s++]=t,o[s++]=n),(i===D||u<f)&&(o[s++]=u,o[s++]=f,o[s++]=t,o[s++]=i),(a===D||f<c)&&(o[s++]=f,o[s++]=c,o[s++]=t,o[s++]=a)}return o}(t),M=g.length/4,w=n.allocate(M);let b=0;const y=M,A=e.allocate(y);let E=0,x=0,F=0;const I=(0,_.w6)(0,M),N=new Float32Array(M);(0,P.Ed)(N,((t,n,e)=>{i.getVec(g[4*n+0],l),i.getVec(g[4*n+1],h),e[n]=(0,v.i)(l,h)})),I.sort(((t,n)=>N[n]-N[t]));const q=new Array,U=new Array;for(let t=0;t<M;t++){const r=I[t],a=N[r],M=g[4*r+0],y=g[4*r+1],L=g[4*r+2],S=g[4*r+3],V=S===D;if(i.getVec(M,l),i.getVec(y,h),V)(0,v.s)(d,m[3*L+0],m[3*L+1],m[3*L+2]),(0,v.g)(p,d),f.componentIndex=o.get(M),f.cosAngle=(0,v.d)(d,p);else{if((0,v.s)(d,m[3*L+0],m[3*L+1],m[3*L+2]),(0,v.s)(p,m[3*S+0],m[3*S+1],m[3*S+2]),f.componentIndex=o.get(M),f.cosAngle=(0,v.d)(d,p),z(f,u))continue;f.cosAngle<-.9999&&(0,v.g)(p,d)}x+=a,F++,V||k(f,c)?(n.write(w,b++,f),q.push(a)):T(f,s)&&(e.write(A,E++,f),U.push(a))}const L=new Float32Array(q.reverse()),S=new Float32Array(U.reverse());return{regular:{instancesData:n.trim(w,b),lodInfo:{lengths:L}},silhouette:{instancesData:e.trim(A,E),lodInfo:{lengths:S}},averageEdgeLength:x/F}}(n,K,X)}function $(t,n){return n.push(t.regular.lodInfo.lengths.buffer),n.push(t.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:a(t.regular.instancesData,n),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:a(t.silhouette.instancesData,n),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}function H(t,n,e,o){if(n)return{faces:e,facesLength:o,neighbors:i(e,o,t.count),vertices:t};const s=(0,r.d)(t.buffer,t.stride/4,{originalIndices:e,originalIndicesLength:o}),a=i(s.indices,o,s.uniqueCount);return{faces:s.indices,facesLength:s.indices.length,neighbors:a,vertices:m.createView(s.buffer)}}const K=new U,X=new L}}]);