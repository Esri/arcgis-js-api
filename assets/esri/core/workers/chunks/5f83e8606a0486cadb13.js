"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[8936],{46851:(t,n,e)=>{e.d(n,{E:()=>r,R:()=>i});const r=1e-6,i=Math.random,o=Math.PI/180,s=180/Math.PI;Object.freeze({__proto__:null,EPSILON:r,RANDOM:i,toRadian:function(t){return t*o},toDegree:function(t){return t*s},equals:function(t,n){return Math.abs(t-n)<=r*Math.max(1,Math.abs(t),Math.abs(n))}})},17896:(t,n,e)=>{e.d(n,{E:()=>l,a:()=>h,b:()=>u,c:()=>w,d:()=>M,e:()=>b,f:()=>c,g:()=>s,h:()=>p,i:()=>d,k:()=>E,l:()=>o,m:()=>y,n:()=>m,p:()=>g,q:()=>A,r:()=>I,s:()=>a,t:()=>v,u:()=>L});var r=e(65617),i=e(46851);function o(t){const n=t[0],e=t[1],r=t[2];return Math.sqrt(n*n+e*e+r*r)}function s(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function a(t,n,e,r){return t[0]=n,t[1]=e,t[2]=r,t}function u(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t}function c(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t}function f(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t}function l(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t}function h(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t}function d(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return Math.sqrt(e*e+r*r+i*i)}function p(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2];return e*e+r*r+i*i}function g(t){const n=t[0],e=t[1],r=t[2];return n*n+e*e+r*r}function m(t,n){const e=n[0],r=n[1],i=n[2];let o=e*e+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t}function M(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function w(t,n,e){const r=n[0],i=n[1],o=n[2],s=e[0],a=e[1],u=e[2];return t[0]=i*u-o*a,t[1]=o*s-r*u,t[2]=r*a-i*s,t}function b(t,n,e,r){const i=n[0],o=n[1],s=n[2];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=s+r*(e[2]-s),t}function y(t,n,e){const r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12],t[1]=e[1]*r+e[5]*i+e[9]*o+e[13],t[2]=e[2]*r+e[6]*i+e[10]*o+e[14],t}function v(t,n,e){const r=n[0],i=n[1],o=n[2];return t[0]=r*e[0]+i*e[3]+o*e[6],t[1]=r*e[1]+i*e[4]+o*e[7],t[2]=r*e[2]+i*e[5]+o*e[8],t}function A(t,n,e){const r=e[0],i=e[1],o=e[2],s=e[3],a=n[0],u=n[1],c=n[2];let f=i*c-o*u,l=o*a-r*c,h=r*u-i*a,d=i*h-o*l,p=o*f-r*h,g=r*l-i*f;const m=2*s;return f*=m,l*=m,h*=m,d*=2,p*=2,g*=2,t[0]=a+f+d,t[1]=u+l+p,t[2]=c+h+g,t}const F=(0,r.c)(),x=(0,r.c)();function E(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function I(t,n,e){const r=e[0]-n[0],i=e[1]-n[1],o=e[2]-n[2];let s=r*r+i*i+o*o;return s>0?(s=1/Math.sqrt(s),t[0]=r*s,t[1]=i*s,t[2]=o*s,t):(t[0]=0,t[1]=0,t[2]=0,t)}const _=c,N=f,q=l,S=d,U=p,L=o,V=g;Object.freeze({__proto__:null,length:o,copy:s,set:a,add:u,subtract:c,multiply:f,divide:l,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t},min:function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t},max:function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t},scale:h,scaleAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t},distance:d,squaredDistance:p,squaredLength:g,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t},normalize:m,dot:M,cross:w,lerp:b,hermite:function(t,n,e,r,i,o){const s=o*o,a=s*(2*o-3)+1,u=s*(o-2)+o,c=s*(o-1),f=s*(3-2*o);return t[0]=n[0]*a+e[0]*u+r[0]*c+i[0]*f,t[1]=n[1]*a+e[1]*u+r[1]*c+i[1]*f,t[2]=n[2]*a+e[2]*u+r[2]*c+i[2]*f,t},bezier:function(t,n,e,r,i,o){const s=1-o,a=s*s,u=o*o,c=a*s,f=3*o*a,l=3*u*s,h=u*o;return t[0]=n[0]*c+e[0]*f+r[0]*l+i[0]*h,t[1]=n[1]*c+e[1]*f+r[1]*l+i[1]*h,t[2]=n[2]*c+e[2]*f+r[2]*l+i[2]*h,t},random:function(t,n){n=n||1;const e=2*(0,i.R)()*Math.PI,r=2*(0,i.R)()-1,o=Math.sqrt(1-r*r)*n;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=r*n,t},transformMat4:y,transformMat3:v,transformQuat:A,rotateX:function(t,n,e,r){const i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},rotateY:function(t,n,e,r){const i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},rotateZ:function(t,n,e,r){const i=[],o=[];return i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+e[0],t[1]=o[1]+e[1],t[2]=o[2]+e[2],t},angle:function(t,n){s(F,t),s(x,n),m(F,F),m(x,x);const e=M(F,x);return e>1?0:e<-1?Math.PI:Math.acos(e)},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:E,equals:function(t,n){const e=t[0],r=t[1],o=t[2],s=n[0],a=n[1],u=n[2];return Math.abs(e-s)<=i.E*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(r-a)<=i.E*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-u)<=i.E*Math.max(1,Math.abs(o),Math.abs(u))},direction:I,sub:_,mul:N,div:q,dist:S,sqrDist:U,len:L,sqrLen:V})},65617:(t,n,e)=>{function r(){return[0,0,0]}function i(t){return[t[0],t[1],t[2]]}function o(t,n,e){return[t,n,e]}function s(t){const n=[0,0,0],e=Math.min(3,t.length);for(let r=0;r<e;++r)n[r]=t[r];return n}function a(t,n){return new Float64Array(t,n,3)}function u(){return o(1,1,1)}function c(){return o(1,0,0)}function f(){return o(0,1,0)}function l(){return o(0,0,1)}e.d(n,{O:()=>d,Z:()=>h,a:()=>i,b:()=>a,c:()=>r,d:()=>s,f:()=>o});const h=[0,0,0],d=u(),p=c(),g=f(),m=l();Object.freeze({__proto__:null,create:r,clone:i,fromValues:o,fromArray:s,createView:a,zeros:function(){return[0,0,0]},ones:u,unitX:c,unitY:f,unitZ:l,ZEROS:h,ONES:d,UNIT_X:p,UNIT_Y:g,UNIT_Z:m})},98766:(t,n,e)=>{e.d(n,{a:()=>s,b:()=>f,c:()=>i,d:()=>m,e:()=>d,f:()=>p,g:()=>w,h:()=>b,l:()=>M,n:()=>g,s:()=>o});var r=e(46851);function i(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function o(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function s(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function a(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function u(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function c(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function f(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function l(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.sqrt(e*e+r*r+i*i+o*o)}function h(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return e*e+r*r+i*i+o*o}function d(t){const n=t[0],e=t[1],r=t[2],i=t[3];return Math.sqrt(n*n+e*e+r*r+i*i)}function p(t){const n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i}function g(t,n){const e=n[0],r=n[1],i=n[2],o=n[3];let s=e*e+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),t[0]=e*s,t[1]=r*s,t[2]=i*s,t[3]=o*s),t}function m(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function M(t,n,e,r){const i=n[0],o=n[1],s=n[2],a=n[3];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=s+r*(e[2]-s),t[3]=a+r*(e[3]-a),t}function w(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function b(t,n){const e=t[0],i=t[1],o=t[2],s=t[3],a=n[0],u=n[1],c=n[2],f=n[3];return Math.abs(e-a)<=r.E*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(i-u)<=r.E*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-c)<=r.E*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(s-f)<=r.E*Math.max(1,Math.abs(s),Math.abs(f))}const y=a,v=u,A=c,F=l,x=h,E=d,I=p;Object.freeze({__proto__:null,copy:i,set:o,add:s,subtract:a,multiply:u,divide:c,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},min:function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t},max:function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},scale:f,scaleAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t},distance:l,squaredDistance:h,length:d,squaredLength:p,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},normalize:g,dot:m,lerp:M,random:function(t,n){let e,i,o,s,a,u;n=n||1;do{e=2*(0,r.R)()-1,i=2*(0,r.R)()-1,a=e*e+i*i}while(a>=1);do{o=2*(0,r.R)()-1,s=2*(0,r.R)()-1,u=o*o+s*s}while(u>=1);const c=Math.sqrt((1-a)/u);return t[0]=n*e,t[1]=n*i,t[2]=n*o*c,t[3]=n*s*c,t},transformMat4:function(t,n,e){const r=n[0],i=n[1],o=n[2],s=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*s,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*s,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*s,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*s,t},transformQuat:function(t,n,e){const r=n[0],i=n[1],o=n[2],s=e[0],a=e[1],u=e[2],c=e[3],f=c*r+a*o-u*i,l=c*i+u*r-s*o,h=c*o+s*i-a*r,d=-s*r-a*i-u*o;return t[0]=f*c+d*-s+l*-u-h*-a,t[1]=l*c+d*-a+h*-s-f*-u,t[2]=h*c+d*-u+f*-a-l*-s,t[3]=n[3],t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:w,equals:b,sub:y,mul:v,div:A,dist:F,sqrDist:x,len:E,sqrLen:I})},77734:(t,n,e)=>{e.d(n,{Z:()=>r});class r{constructor(t=1){this._seed=t}set seed(t){this._seed=null==t?Math.random()*r._m:t}getInt(){return this._seed=(r._a*this._seed+r._c)%r._m,this._seed}getFloat(){return this.getInt()/(r._m-1)}getIntRange(t,n){return Math.round(this.getFloatRange(t,n))}getFloatRange(t,n){const e=n-t;return t+this.getInt()/r._m*e}}r._m=2147483647,r._a=48271,r._c=0},67676:(t,n,e)=>{e.d(n,{SO:()=>c,a9:()=>a,fS:()=>o,cq:()=>l,w6:()=>u,Od:()=>g,e$:()=>h,FY:()=>p});var r=e(70586),i=e(77734);function o(t,n,e){if((0,r.Wi)(t)&&(0,r.Wi)(n))return!0;if((0,r.Wi)(t)||(0,r.Wi)(n)||t.length!==n.length)return!1;if(e){for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1}else for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}const s=!!Array.prototype.fill;function a(t,n){if(s)return new Array(t).fill(n);const e=new Array(t);for(let r=0;r<t;r++)e[r]=n;return e}function u(t,n){void 0===n&&(n=t,t=0);const e=new Array(n-t);for(let r=t;r<n;r++)e[r-t]=r;return e}class c{constructor(){this.last=0}}const f=new c;function l(t,n,e,r){r=r||f;const i=Math.max(0,r.last-10);for(let o=i;o<e;++o)if(t[o]===n)return r.last=o,o;const o=Math.min(i,e);for(let e=0;e<o;++e)if(t[e]===n)return r.last=e,e;return-1}function h(t,n,e,r){const i=null==e?t.length:e,o=l(t,n,i,r);if(-1!==o)return t[o]=t[i-1],null==e&&t.pop(),n}const d=new Set;function p(t,n,e=t.length,r=n.length,i,o){if(0===r||0===e)return e;d.clear();for(let t=0;t<r;++t)d.add(n[t]);i=i||f;const s=Math.max(0,i.last-10);for(let n=s;n<e;++n)if(d.has(t[n])&&(o&&o.push(t[n]),d.delete(t[n]),t[n]=t[e-1],--e,--n,0===d.size||0===e))return d.clear(),e;for(let n=0;n<s;++n)if(d.has(t[n])&&(o&&o.push(t[n]),d.delete(t[n]),t[n]=t[e-1],--e,--n,0===d.size||0===e))return d.clear(),e;return d.clear(),e}function g(t,n){const e=t.indexOf(n);return-1!==e?(t.splice(e,1),n):null}new i.Z},22021:(t,n,e)=>{e.d(n,{ZF:()=>d,Kt:()=>p,jE:()=>M,uZ:()=>a,oK:()=>g,Vl:()=>l,xV:()=>o,wt:()=>u,t7:()=>f,k3:()=>c,Sf:()=>s,BV:()=>h});var r=e(17896);e(98766);const i=new Float32Array(1),o=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)};function s(t){--t;for(let n=1;n<32;n<<=1)t|=t>>n;return t+1}function a(t,n,e){return Math.min(Math.max(t,n),e)}function u(t){return 0==(t&t-1)}Number.isNaN,Math.sign;const c=Math.log2||function(t){return Math.log(t)/Math.LN2};function f(t,n,e){return t+(n-t)*e}function l(t){return t*Math.PI/180}function h(t){return 180*t/Math.PI}function d(t){return Math.acos(a(t,-1,1))}function p(t){return Math.asin(a(t,-1,1))}function g(t){return m(Math.max(-w,Math.min(t,w)))}function m(t){return i[0]=t,i[0]}function M(t,n){const e=(0,r.l)(t),i=p(t[2]/e),o=Math.atan2(t[1]/e,t[0]/e);return(0,r.s)(n,e,i,o),n}const w=m(34028234663852886e22)},79583:(t,n,e)=>{function r(t){switch(t){case"u8":return 1;case"u16":return 2;case"u32":return 4;case"i8":return 1;case"i16":return 2;case"i32":case"f32":return 4;case"f64":return 8;default:return}}function i(t){switch(t){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function o(t){switch(t){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function s(t){switch(t){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}e.d(n,{n1:()=>r,U:()=>o,B3:()=>i,Op:()=>s}),e(80442)},47545:(t,n,e)=>{e.d(n,{d:()=>i});var r=e(22021);function i(t,n,e){var i;const c=t.byteLength/(4*n),f=new Uint32Array(t,0,c*n);let l=new Uint32Array(c);const h=null!=(i=null==e?void 0:e.minReduction)?i:0,d=(null==e?void 0:e.originalIndices)||null,p=d?d.length:0,g=(null==e?void 0:e.componentOffsets)||null;let m=0;if(g)for(let t=0;t<g.length-1;t++){const n=g[t+1]-g[t];n>m&&(m=n)}else m=c;const M=Math.floor(1.1*m)+1;(null==u||u.length<2*M)&&(u=new Uint32Array((0,r.Sf)(2*M)));for(let t=0;t<2*M;t++)u[t]=0;let w=0;const b=!!g&&!!d,y=b?p:c,v=b?new Uint32Array(p):null,A=1.96;let F=0!==h?Math.ceil(4*A*A/(h*h)*h*(1-h)):y,x=1,E=g?g[1]:y;for(let t=0;t<y;t++){if(t===F){const n=1-w/t;if(n+A*Math.sqrt(n*(1-n)/t)<h)return null;F*=2}if(t===E){for(let t=0;t<2*M;t++)u[t]=0;if(d)for(let t=g[x-1];t<g[x];t++)v[t]=l[d[t]];E=g[++x]}const e=b?d[t]:t,r=e*n,i=a(f,r,n);let s=i%M,c=w;for(;0!==u[2*s+1];){if(u[2*s]===i){const t=u[2*s+1]-1;if(o(f,r,t*n,n)){c=l[t];break}}s++,s>=M&&(s-=M)}c===w&&(u[2*s]=i,u[2*s+1]=e+1,w++),l[e]=c}if(0!==h&&1-w/c<h)return null;if(b){for(let t=g[x-1];t<v.length;t++)v[t]=l[d[t]];l=v}const I=new Uint32Array(n*w);w=0;for(let t=0;t<y;t++)l[t]===w&&(s(f,(b?d[t]:t)*n,I,w*n,n),w++);if(d&&!b){const t=new Uint32Array(p);for(let n=0;n<t.length;n++)t[n]=l[d[n]];l=t}return{buffer:I.buffer,indices:l,uniqueCount:w}}function o(t,n,e,r){for(let i=0;i<r;i++)if(t[n+i]!==t[e+i])return!1;return!0}function s(t,n,e,r,i){for(let o=0;o<i;o++)e[r+o]=t[n+o]}function a(t,n,e){let r=0;for(let i=0;i<e;i++)r=t[n+i]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let u=null},65576:(t,n,e)=>{e.d(n,{U$:()=>a});var r=e(56481),i=e(79583);class o{constructor(t,n){this.layout=t,this.buffer="number"==typeof n?new ArrayBuffer(n*t.stride):n;for(const n of t.fieldNames){const e=t.fields.get(n);this[n]=new e.constructor(this.buffer,e.offset,this.stride)}}get stride(){return this.layout.stride}get count(){return this.buffer.byteLength/this.stride}get byteLength(){return this.buffer.byteLength}getField(t,n){const e=this[t];return e&&e.elementCount===n.ElementCount&&e.elementType===n.ElementType?e:null}slice(t,n){return new o(this.layout,this.buffer.slice(t*this.stride,n*this.stride))}copyFrom(t,n,e,r){const i=this.stride;if(i%4==0){const o=new Uint32Array(t.buffer,n*i,r*i/4);new Uint32Array(this.buffer,e*i,r*i/4).set(o)}else{const o=new Uint8Array(t.buffer,n*i,r*i);new Uint8Array(this.buffer,e*i,r*i).set(o)}}}class s{constructor(){this.stride=0,this.fields=new Map,this.fieldNames=[]}vec2f(t,n){return this.appendField(t,r.Eu,n),this}vec2f64(t,n){return this.appendField(t,r.q6,n),this}vec3f(t,n){return this.appendField(t,r.ct,n),this}vec3f64(t,n){return this.appendField(t,r.fP,n),this}vec4f(t,n){return this.appendField(t,r.ek,n),this}vec4f64(t,n){return this.appendField(t,r.Cd,n),this}mat3f(t,n){return this.appendField(t,r.gK,n),this}mat3f64(t,n){return this.appendField(t,r.ey,n),this}mat4f(t,n){return this.appendField(t,r.bj,n),this}mat4f64(t,n){return this.appendField(t,r.O1,n),this}vec4u8(t,n){return this.appendField(t,r.mc,n),this}f32(t,n){return this.appendField(t,r.ly,n),this}f64(t,n){return this.appendField(t,r.oS,n),this}u8(t,n){return this.appendField(t,r.D_,n),this}u16(t,n){return this.appendField(t,r.av,n),this}i8(t,n){return this.appendField(t,r.Hz,n),this}vec2i8(t,n){return this.appendField(t,r.Vs,n),this}vec2i16(t,n){return this.appendField(t,r.or,n),this}vec2u8(t,n){return this.appendField(t,r.xA,n),this}vec4u16(t,n){return this.appendField(t,r.v6,n),this}u32(t,n){return this.appendField(t,r.Nu,n),this}appendField(t,n,e){const r=n.ElementCount*(0,i.n1)(n.ElementType),o=this.stride;this.fields.set(t,{size:r,constructor:n,offset:o,optional:e}),this.stride+=r,this.fieldNames.push(t)}alignTo(t){return this.stride=Math.floor((this.stride+t-1)/t)*t,this}hasField(t){return this.fieldNames.indexOf(t)>=0}createBuffer(t){return new o(this,t)}createView(t){return new o(this,t)}clone(){const t=new s;return t.stride=this.stride,t.fields=new Map,this.fields.forEach(((n,e)=>t.fields.set(e,n))),t.fieldNames=this.fieldNames.slice(),t.BufferType=this.BufferType,t}}function a(){return new s}},18936:(t,n,e)=>{e.r(n),e.d(n,{work:()=>j,wrappedWork:()=>Z});var r=e(47545);function i(t,n,e){const r=n/3,i=new Uint32Array(e+1),o=new Uint32Array(e+1),s=(t,n)=>{t<n?i[t+1]++:o[n+1]++};for(let n=0;n<r;n++){const e=t[3*n],r=t[3*n+1],i=t[3*n+2];s(e,r),s(r,i),s(i,e)}let a=0,u=0;for(let t=0;t<e;t++){const n=i[t+1],e=o[t+1];i[t+1]=a,o[t+1]=u,a+=n,u+=e}const c=new Uint32Array(6*r),f=i[e],l=(t,n,e)=>{if(t<n){const r=i[t+1]++;c[2*r]=n,c[2*r+1]=e}else{const r=o[n+1]++;c[2*f+2*r]=t,c[2*f+2*r+1]=e}};for(let n=0;n<r;n++){const e=t[3*n],r=t[3*n+1],i=t[3*n+2];l(e,r,n),l(r,i,n),l(i,e,n)}const h=(t,n)=>{const e=2*t,r=n-t;for(let t=1;t<r;t++){const n=c[e+2*t],r=c[e+2*t+1];let i=t-1;for(;i>=0&&c[e+2*i]>n;i--)c[e+2*i+2]=c[e+2*i],c[e+2*i+3]=c[e+2*i+1];c[e+2*i+2]=n,c[e+2*i+3]=r}};for(let t=0;t<e;t++)h(i[t],i[t+1]),h(f+o[t],f+o[t+1]);const d=new Int32Array(3*r),p=(n,e)=>n===t[3*e]?0:n===t[3*e+1]?1:n===t[3*e+2]?2:-1,g=(t,n)=>{const e=p(t,n);d[3*n+e]=-1},m=(t,n,e,r)=>{const i=p(t,n);d[3*n+i]=r;const o=p(e,r);d[3*r+o]=n};for(let t=0;t<e;t++){let n=i[t];const e=i[t+1];let r=o[t];const s=o[t+1];for(;n<e&&r<s;){const e=c[2*n],i=c[2*f+2*r];e===i?(m(t,c[2*n+1],i,c[2*f+2*r+1]),n++,r++):e<i?(g(t,c[2*n+1]),n++):(g(i,c[2*f+2*r+1]),r++)}for(;n<e;)g(t,c[2*n+1]),n++;for(;r<s;)g(c[2*f+2*r],c[2*f+2*r+1]),r++}return d}var o=e(56481),s=e(65576);function a(t,n){return n.push(t.buffer),{buffer:t.buffer,layout:u(t.layout)}}function u(t){const n=new Array;return t.fields.forEach(((t,e)=>{const r={...t,constructor:f(t.constructor)};n.push([e,r])})),{stride:t.stride,fields:n,fieldNames:t.fieldNames}}const c=[o.ly,o.Eu,o.ct,o.ek,o.gK,o.bj,o.oS,o.q6,o.fP,o.Cd,o.ey,o.O1,o.D_,o.xA,o.ne,o.mc,o.av,o.TS,o.mw,o.v6,o.Nu,o.qt,o.G5,o.hu,o.Hz,o.Vs,o.P_,o.ir,o.o7,o.or,o.n1,o.zO,o.Jj,o.wA,o.PP,o.TN];function f(t){return`${t.ElementType}_${t.ElementCount}`}const l=new Map;function h(t,n=0){const e=t.stride;return t.fieldNames.filter((n=>{const e=t.fields.get(n).optional;return!(e&&e.glPadding)})).map((r=>{const i=t.fields.get(r),o=i.constructor.ElementCount,s=d(i.constructor.ElementType),a=i.offset,u=!(!i.optional||!i.optional.glNormalized);return{name:r,stride:e,count:o,type:s,offset:a,normalized:u,divisor:n}}))}function d(t){const n=p[t];if(n)return n;throw new Error("BufferType not supported in WebGL")}c.forEach((t=>l.set(f(t),t)));const p={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126},g=(0,s.U$)().vec3f("position").u16("componentIndex").u16("u16padding"),m=(h((0,s.U$)().vec2u8("sideness")),(0,s.U$)().vec3f("position0").vec3f("position1").u16("componentIndex").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("u8padding",{glPadding:!0}).u16("u16padding",{glPadding:!0})),M=m.clone().vec3f("normal"),w=m.clone().vec3f("normalA").vec3f("normalB");new Map([["position0",0],["position1",1],["componentIndex",2],["variantOffset",3],["variantStroke",4],["variantExtension",5],["normal",6],["normalA",6],["normalB",7],["sideness",8]]);var b=e(77734),y=e(17896),v=e(65617);class A{updateSettings(t){this.settings=t,this.edgeHashFunction=t.reducedPrecision?_:I}write(t,n,e){const r=this.edgeHashFunction(e);L.seed=r;const i=L.getIntRange(0,255),o=L.getIntRange(0,this.settings.variants-1),s=L.getFloat(),a=255*(.5*function(t,n){const e=t<0?-1:1;return Math.abs(t)**1.2*e}(-(1-Math.min(s/.7,1))+Math.max(0,s-.7)/(1-.7))+.5);t.position0.setVec(n,e.position0),t.position1.setVec(n,e.position1),t.componentIndex.set(n,e.componentIndex),t.variantOffset.set(n,i),t.variantStroke.set(n,o),t.variantExtension.set(n,a)}trim(t,n){return t.slice(0,n)}}const F=new Float32Array(6),x=new Uint32Array(F.buffer),E=new Uint32Array(1);function I(t){const n=F;n[0]=t.position0[0],n[1]=t.position0[1],n[2]=t.position0[2],n[3]=t.position1[0],n[4]=t.position1[1],n[5]=t.position1[2],E[0]=5381;for(let t=0;t<x.length;t++)E[0]=31*E[0]+x[t];return E[0]}function _(t){const n=F;n[0]=N(t.position0[0]),n[1]=N(t.position0[1]),n[2]=N(t.position0[2]),n[3]=N(t.position1[0]),n[4]=N(t.position1[1]),n[5]=N(t.position1[2]),E[0]=5381;for(let t=0;t<x.length;t++)E[0]=31*E[0]+x[t];return E[0]}function N(t){return Math.round(1e4*t)/1e4}class q{constructor(){this.commonWriter=new A}updateSettings(t){this.commonWriter.updateSettings(t)}allocate(t){return M.createBuffer(t)}write(t,n,e){this.commonWriter.write(t,n,e),(0,y.b)(U,e.faceNormal0,e.faceNormal1),(0,y.n)(U,U),t.normal.setVec(n,U)}trim(t,n){return this.commonWriter.trim(t,n)}}q.Layout=M,q.glLayout=h(M,1);class S{constructor(){this.commonWriter=new A}updateSettings(t){this.commonWriter.updateSettings(t)}allocate(t){return w.createBuffer(t)}write(t,n,e){this.commonWriter.write(t,n,e),t.normalA.setVec(n,e.faceNormal0),t.normalB.setVec(n,e.faceNormal1)}trim(t,n){return this.commonWriter.trim(t,n)}}S.Layout=w,S.glLayout=h(w,1);const U=(0,v.c)(),L=new b.Z;var V=e(67676),O=e(22021),z=e(1533);const P=-1;function R(t,n){return t.cosAngle<n}function k(t,n){return t.cosAngle>n}function D(t,n){const e=(0,O.ZF)(t.cosAngle),r=B.fwd,i=B.ortho;return(0,y.r)(r,t.position1,t.position0),e*((0,y.d)((0,y.c)(i,t.faceNormal0,t.faceNormal1),r)>0?-1:1)>n}function T(t){const n=t.faces.length/3,e=t.vertices.position,r=t.faces,i=W.v0,o=W.v1,s=W.v2,a=new Float32Array(3*n);for(let t=0;t<n;t++){const n=r[3*t+0],u=r[3*t+1],c=r[3*t+2];e.getVec(n,i),e.getVec(u,o),e.getVec(c,s),(0,y.f)(o,o,i),(0,y.f)(s,s,i),(0,y.c)(i,o,s),(0,y.n)(i,i),a[3*t+0]=i[0],a[3*t+1]=i[1],a[3*t+2]=i[2]}return a}const B={edge:{position0:(0,v.c)(),position1:(0,v.c)(),faceNormal0:(0,v.c)(),faceNormal1:(0,v.c)(),componentIndex:0,cosAngle:0},ortho:(0,v.c)(),fwd:(0,v.c)()},W={v0:(0,v.c)(),v1:(0,v.c)(),v2:(0,v.c)()},C={anglePlanar:4,angleSignificantEdge:35};async function Z(t){const n=function(t){return{data:g.createView(t.dataBuffer),indices:"Uint32Array"===t.indicesType?new Uint32Array(t.indicesBuffer):"Uint16Array"===t.indicesType?new Uint16Array(t.indicesBuffer):void 0,indicesLength:t.indicesLength,writerSettings:t.writerSettings,skipDeduplicate:t.skipDeduplicate}}(t),e=j(n),r=[n.data.buffer];return{result:$(e,r),transferList:r}}function j(t){const n=H(t.data,t.skipDeduplicate,t.indices,t.indicesLength);return K.updateSettings(t.writerSettings),Y.updateSettings(t.writerSettings),function(t,n,e,r=C){const i=t.vertices.position,o=t.vertices.componentIndex,s=(0,O.Vl)(r.anglePlanar),a=(0,O.Vl)(r.angleSignificantEdge),u=Math.cos(a),c=Math.cos(s),f=B.edge,l=f.position0,h=f.position1,d=f.faceNormal0,p=f.faceNormal1,g=T(t),m=function(t){const n=t.faces.length/3,e=t.faces,r=t.neighbors;let i=0;for(let t=0;t<n;t++){const n=r[3*t+0],o=r[3*t+1],s=r[3*t+2],a=e[3*t+0],u=e[3*t+1],c=e[3*t+2];i+=n===P||a<u?1:0,i+=o===P||u<c?1:0,i+=s===P||c<a?1:0}const o=new Int32Array(4*i);let s=0;for(let t=0;t<n;t++){const n=r[3*t+0],i=r[3*t+1],a=r[3*t+2],u=e[3*t+0],c=e[3*t+1],f=e[3*t+2];(n===P||u<c)&&(o[s++]=u,o[s++]=c,o[s++]=t,o[s++]=n),(i===P||c<f)&&(o[s++]=c,o[s++]=f,o[s++]=t,o[s++]=i),(a===P||f<u)&&(o[s++]=f,o[s++]=u,o[s++]=t,o[s++]=a)}return o}(t),M=m.length/4,w=n.allocate(M);let b=0;const v=M,A=e.allocate(v);let F=0,x=0,E=0;const I=(0,V.w6)(0,M),_=new Float32Array(M);(0,z.Ed)(_,((t,n,e)=>{i.getVec(m[4*n+0],l),i.getVec(m[4*n+1],h),e[n]=(0,y.i)(l,h)})),I.sort(((t,n)=>_[n]-_[t]));const N=new Array,q=new Array;for(let t=0;t<M;t++){const r=I[t],a=_[r],M=m[4*r+0],v=m[4*r+1],S=m[4*r+2],U=m[4*r+3],L=U===P;if(i.getVec(M,l),i.getVec(v,h),L)(0,y.s)(d,g[3*S+0],g[3*S+1],g[3*S+2]),(0,y.g)(p,d),f.componentIndex=o.get(M),f.cosAngle=(0,y.d)(d,p);else{if((0,y.s)(d,g[3*S+0],g[3*S+1],g[3*S+2]),(0,y.s)(p,g[3*U+0],g[3*U+1],g[3*U+2]),f.componentIndex=o.get(M),f.cosAngle=(0,y.d)(d,p),k(f,c))continue;f.cosAngle<-.9999&&(0,y.g)(p,d)}x+=a,E++,L||R(f,u)?(n.write(w,b++,f),N.push(a)):D(f,s)&&(e.write(A,F++,f),q.push(a))}const S=new Float32Array(N.reverse()),U=new Float32Array(q.reverse());return{regular:{instancesData:n.trim(w,b),lodInfo:{lengths:S}},silhouette:{instancesData:e.trim(A,F),lodInfo:{lengths:U}},averageEdgeLength:x/E}}(n,K,Y)}function $(t,n){return n.push(t.regular.lodInfo.lengths.buffer),n.push(t.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:a(t.regular.instancesData,n),lodInfo:{lengths:t.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:a(t.silhouette.instancesData,n),lodInfo:{lengths:t.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:t.averageEdgeLength}}function H(t,n,e,o){if(n)return{faces:e,facesLength:o,neighbors:i(e,o,t.count),vertices:t};const s=(0,r.d)(t.buffer,t.stride/4,{originalIndices:e,originalIndicesLength:o}),a=i(s.indices,o,s.uniqueCount);return{faces:s.indices,facesLength:s.indices.length,neighbors:a,vertices:g.createView(s.buffer)}}const K=new q,Y=new S}}]);