(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2561],{62561:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>R});var i=t(14983),s=t(84066),a=(t(77645),t(38215),t(45851),t(74184)),o=t(93100),n=t(26649),l=t(1688),u=t(38703),p=t(59467),c=(t(18507),t(42885)),y=t(42963),f=t(67380),d=t(79159),B=t(61948),g=t(84476),m=t(64334),v=t(59499),h=t(70049),P=t(60716);function b(e){return e.features.map((r=>{const t=B.Z.fromJSON(e.spatialReference),i=c.Z.fromJSON(r);return(0,f.Wg)(i.geometry).spatialReference=t,i}))}function C(e){return e.features.map((r=>(r.geometry.spatialReference=e.spatialReference,(0,m.im)(r.geometry))))}let _=class extends y.wq{constructor(e){super(e),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(e){return C(e)}readPointBarriers(e,r){return C(r.barriers)}readPolylineBarriers(e){return C(e)}readPolygonBarriers(e){return C(e)}readIncidents(e,r){return b(r.saPolylines)}readServiceAreaPolygons(e,r){return b(r.saPolygons)}};(0,i._)([(0,s.Cb)({type:[v.Z]})],_.prototype,"facilities",void 0),(0,i._)([(0,d.r)("facilities")],_.prototype,"readFacilities",null),(0,i._)([(0,s.Cb)({type:[g.Z]})],_.prototype,"messages",void 0),(0,i._)([(0,s.Cb)({type:[v.Z]})],_.prototype,"pointBarriers",void 0),(0,i._)([(0,d.r)("pointBarriers",["barriers"])],_.prototype,"readPointBarriers",null),(0,i._)([(0,s.Cb)({type:[h.Z]})],_.prototype,"polylineBarriers",void 0),(0,i._)([(0,d.r)("polylineBarriers")],_.prototype,"readPolylineBarriers",null),(0,i._)([(0,s.Cb)({type:[P.Z]})],_.prototype,"polygonBarriers",void 0),(0,i._)([(0,d.r)("polygonBarriers")],_.prototype,"readPolygonBarriers",null),(0,i._)([(0,s.Cb)({type:[c.Z]})],_.prototype,"serviceAreaPolylines",void 0),(0,i._)([(0,d.r)("serviceAreaPolylines",["saPolylines"])],_.prototype,"readIncidents",null),(0,i._)([(0,s.Cb)({type:[c.Z]})],_.prototype,"serviceAreaPolygons",void 0),(0,i._)([(0,d.r)("serviceAreaPolygons",["saPolygons"])],_.prototype,"readServiceAreaPolygons",null),_=(0,i._)([(0,a.j)("esri.rest.support.ServiceAreaSolveResult")],_);const A=_,k=(0,n.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},travelMode:!0});var S=t(62636);let Z=class extends S.Z{constructor(e){super(e),this.url=null}solve(e,r){return async function(e,r,t){const i=[],s=[],a={},n={},c=(0,p.en)(e);return r.facilities&&r.facilities.features&&(0,u.et)(r.facilities.features,s,"facilities.features",a),r.pointBarriers&&r.pointBarriers.features&&(0,u.et)(r.pointBarriers.features,s,"pointBarriers.features",a),r.polylineBarriers&&r.polylineBarriers.features&&(0,u.et)(r.polylineBarriers.features,s,"polylineBarriers.features",a),r.polygonBarriers&&r.polygonBarriers.features&&(0,u.et)(r.polygonBarriers.features,s,"polygonBarriers.features",a),(0,l.aX)(s).then((e=>{for(const r in a){const t=a[r];i.push(r),n[r]=e.slice(t[0],t[1])}return(0,u.Wf)(n,i)?(0,u.bI)(c.path).catch((()=>({dontCheck:!0}))):Promise.resolve({dontCheck:!0})})).then((e=>{("dontCheck"in e?e.dontCheck:e.hasZ)||(0,u.ef)(n,i);for(const e in n)n[e].forEach(((t,i)=>{r.get(e)[i].geometry=t}));let s={query:{...c.query,f:"json",...k.toQueryParams(r)}};return t&&(s={...t,...s}),(0,o.default)(`${c.path}/solveServiceArea`,s)})).then((e=>A.fromJSON(e.data)))}(this.url,e,r)}};(0,i._)([(0,s.Cb)()],Z.prototype,"url",void 0),Z=(0,i._)([(0,a.j)("esri.tasks.ServiceAreaTask")],Z);const R=Z}}]);