(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[9909,3100],{42790:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var s=r(14983),i=r(8811),o=r(16353),n=r(8764),a=r(24623),l=r(84066),u=r(74184);const p="loaded",c=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=r=>{const s=new Promise(((e,t)=>{const s=(0,n.$F)(r,t);this.destroyed&&t(new i.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(e,t).finally((()=>{s&&s.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const e=this._loadController=(0,n.yi)();t({signal:e.signal}),(0,n.fu)(e.signal,(()=>{this._promiseProps.abort()}))}return e(),s}}))),this.when((()=>{this._set("loadStatus",p),this._loadController=null}),(e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null}))}get loaded(){return this.loadStatus===p}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var e;return this.isFulfilled()||(this._set("loadError",new i.Z("load:cancelled","Cancelled")),null==(e=this._loadController)||e.abort()),this}};return(0,s._)([(0,l.Cb)({readOnly:!0})],t.prototype,"loaded",null),(0,s._)([(0,l.Cb)({readOnly:!0})],t.prototype,"loadError",void 0),(0,s._)([(0,l.Cb)()],t.prototype,"loadStatus",void 0),(0,s._)([(0,l.Cb)({type:[a.Z],readOnly:!0})],t.prototype,"loadWarnings",null),t=(0,s._)([(0,u.j)("esri.core.Loadable")],t),t};let d=class extends(c(o.D)){};var h;d=(0,s._)([(0,u.j)("esri.core.Loadable")],d),(h=d||(d={})).LoadableMixin=c,h.isLoadable=function(e){return!(!e||!e.load)};const m=d},67026:(e,t,r)=>{"use strict";r.d(t,{Xq:()=>i,WJ:()=>o});var s=r(37384);class i{constructor(e,t,r){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",r&&(this._storage.registerRemoveFunc(this._namespace,r),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(e,t,r,s=0){this._storage.put(this._namespace+e,t,r,s)}get(e){const t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,r){this._storage.updateSize(this._namespace+e,t,r)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class o{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new s.Z,this._users=new s.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,r,s){const i=this._db.get(e);if(i&&(this._size-=i.size,this._db.delete(e),i.entry!==t&&this._notifyRemoved(e,i.entry)),r>this._maxSize)return void this._notifyRemoved(e,t);if(void 0===t)return void console.warn("Refusing to cache undefined entry ");if(!r||r<0)return void console.warn("Refusing to cache entry with invalid size "+r);const o=1+Math.max(s,-3)- -3;this._db.set(e,{entry:t,size:r,lifetime:o,lives:o}),this._size+=r,this._checkSizeLimit()}updateSize(e,t,r){const s=this._db.get(e);if(s&&s.entry===t){if(this._size-=s.size,r>this._maxSize)return this._db.delete(e),void this._notifyRemoved(e,t);s.size=r,this._size+=r,this._checkSizeLimit()}}pop(e){const t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},r=new Array;this._db.forEach(((e,s)=>{const i=e.lifetime;r[i]=(r[i]||0)+e.size,this._users.forAll((r=>{const i=r.namespace;if(s.startsWith(i)){const r=t[i]||0;t[i]=r+e.size}}))}));const s={};this._users.forAll((e=>{const r=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){const i=t[r]||0;t[r]=i,s[r]=Math.round(100*e.hitRate)+"%"}else s[r]="0%"}));const i=Object.keys(t);i.forEach((e=>t[e]=t[e]/this._size*100)),i.sort(((e,r)=>t[r]-t[e])),i.forEach((r=>e[r]=Math.round(t[r])+"% / "+s[r]));for(let t=r.length-1;t>=0;--t){const s=r[t];s&&(e["Priority "+(t+-3-1)]=Math.round(s/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,r)=>{r.startsWith(e)&&(this._size-=t.size,this._db.delete(r),this._notifyRemoved(r,t.entry))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemoved(t,e.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(e,t){this._removeFuncs.forAll((r=>{e.startsWith(r[0])&&r[1](t)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db)if(this._db.delete(e),t.lives<=1?(this._size-=t.size,this._notifyRemoved(e,t.entry)):(--t.lives,this._db.set(e,t)),this._size<=.9*this.maxSize)return}}},38986:(e,t,r)=>{"use strict";r.d(t,{Ed:()=>o,UI:()=>n,q6:()=>a,mt:()=>l});var s=r(67380),i=r(8764);function o(e,t,r){return(0,i.as)(e.map(((e,s)=>t.apply(r,[e,s]))))}function n(e,t,r){return(0,i.as)(e.map(((e,s)=>t.apply(r,[e,s])))).then((e=>e.map((e=>e.value))))}function a(e){return(0,s.Wi)(e)?(0,i.DB)():e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}function l(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>((0,i.r9)(e),{ok:!1,error:e})))}},61565:(e,t,r)=>{"use strict";r.d(t,{R:()=>o,Z:()=>i});var s=r(35588);function i(e,t,r=s.Z){return t||(t=new r),t===e||(t.removeAll(),(i=e)&&(Array.isArray(i)||"items"in i&&Array.isArray(i.items))?t.addMany(e):e&&t.add(e)),t;var i}function o(e){return e}},30817:(e,t,r)=>{"use strict";r.d(t,{gV:()=>E,En:()=>C,Z7:()=>k,c9:()=>U,_R:()=>x,qE:()=>P,cM:()=>q,hd:()=>u,ty:()=>S,Jo:()=>R,$C:()=>O}),r(77645);var s=r(30223),i=r(390),o=r(61948),n=r(13834),a=r(31174),l=r(38742);const u=39.37,p=n.sv.radius*Math.PI/200,c=/UNIT\[([^\]]+)\]\]$/i,d=l.Z,h=/UNIT\[([^\]]+)\]/i,m=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),y=(0,s.wY)()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),f=e=>e*e,g=e=>e*e*e,_={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:f(.001)},"square-centimeters":{inBaseUnits:f(.01)},"square-decimeters":{inBaseUnits:f(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:f(1e3)},"square-inches":{inBaseUnits:f(.0254)},"square-feet":{inBaseUnits:f(.3048)},"square-yards":{inBaseUnits:f(.9144)},"square-miles":{inBaseUnits:f(1609.344)},"square-us-feet":{inBaseUnits:f(1200/3937)},acres:{inBaseUnits:.0015625*f(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*g(.001)},"cubic-centimeters":{inBaseUnits:1e3*g(.01)},"cubic-decimeters":{inBaseUnits:1e3*g(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*g(1e3)},"cubic-inches":{inBaseUnits:1e3*g(.0254)},"cubic-feet":{inBaseUnits:1e3*g(.3048)},"cubic-yards":{inBaseUnits:1e3*g(.9144)},"cubic-miles":{inBaseUnits:1e3*g(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},b=function(){const e={};for(const t in _)for(const r in _[t].units)e[r]=t;return e}();function v(e){const t=b[e];if(t)return t;throw new Error("unknown measure")}function w(e,t=null){return t=t||v(e),_[t].baseUnit===e}function C(e,t,r){if(t===r)return e;const s=v(t);if(s!==v(r))throw new Error("incompatible units");const i=w(t,s)?e:function(e,t,r){return e*_[r].units[t].inBaseUnits}(e,t,s);return w(r,s)?i:function(e,t,r){return e/_[r].units[t].inBaseUnits}(i,r,s)}function S(e,t,r){return C(e,t,"meters")/(r*Math.PI/180)}function O(e){return y.fromJSON(e.toLowerCase())||null}function x(e){if(e&&"object"==typeof e&&!(0,a.N$)(e))return 1;const t=U(e);return t>1e5?1:t}function q(e){return U(e)>=(e instanceof o.Z?(0,i.Iu)(e).metersPerDegree:1e5)?"meters":P(e)}function U(e,t=n.sv.metersPerDegree){return k(e,!0)||t}function k(e,t=!1){let r,s,i=null;if(null!=e&&("object"==typeof e?(r=e.wkid,s=e.wkt):"number"==typeof e?r=e:"string"==typeof e&&(s=e)),r){if((0,a.o$)(r))return n.yr.metersPerDegree;if((0,a.ME)(r))return n.Z1.metersPerDegree;i=d.values[d[r]],!i&&t&&m.has(r)&&(i=p)}else if(s)if(-1!==s.search(/^PROJCS/i)){const e=c.exec(s);e&&e[1]&&(i=parseFloat(e[1].split(",")[1]))}else if(-1!==s.search(/^GEOCCS/i)){const e=h.exec(s);e&&e[1]&&(i=parseFloat(e[1].split(",")[1]))}return i}function P(e){let t,r,s=null;if(null!=e&&("object"==typeof e?(t=e.wkid,r=e.wkt):"number"==typeof e?t=e:"string"==typeof e&&(r=e)),t)s=d.units[d[t]];else if(r&&-1!==r.search(/^PROJCS/i)){let e=c.exec(r);e&&e[1]&&(e=/[\\"\\']{1}([^\\"\\']+)/.exec(e[1]),s=e&&e[1])}return s?O(s):null}const I={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},T={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},E=(0,s.wY)()(I),R=(0,s.wY)()(T);(0,s.wY)()({...I,...T})},390:(e,t,r)=>{"use strict";r.d(t,{GG:()=>a,HQ:()=>l,VY:()=>u,wY:()=>p,Iu:()=>h,e8:()=>m,rS:()=>d,N_:()=>c});var s=r(61948),i=r(13834),o=r(31174);function n(e){return new s.Z({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const a=n(i.sv),l=n(i.yr),u=n(i.Z1),p=new s.Z({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${i.sv.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});function c(e){return e&&e===i.yr?l:e&&e===i.Z1?u:a}function d(e){return e&&((0,o.BZ)(e)||e===l)?l:e&&((0,o.V2)(e)||e===u)?u:a}function h(e){return e&&((0,o.BZ)(e)||e===l)?i.yr:e&&((0,o.V2)(e)||e===u)?i.Z1:i.sv}function m(e){return(0,o.o$)(e)?i.yr:(0,o.ME)(e)?i.Z1:i.sv}},1688:(e,t,r)=>{"use strict";r.d(t,{aX:()=>w});var s=r(13664),i=r(8811),o=r(45851),n=r(67380),a=r(60716),l=r(70049),u=r(85879),p=r(31174),c=r(18201),d=(r(18507),r(93100)),h=r(99204),m=r(64334);const y=o.Z.getLogger("esri.geometry.support.normalizeUtils");function f(e){return"polygon"===e[0].type}function g(e){return"polyline"===e[0].type}function _(e,t,r){if(t){const t=function(e,t){if(!(e instanceof l.Z||e instanceof a.Z)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw y.error(e),new i.Z(e)}const r=(0,u.x3)(e),s=[];for(const e of r){const r=[];s.push(r),r.push([e[0][0],e[0][1]]);for(let s=0;s<e.length-1;s++){const i=e[s][0],o=e[s][1],n=e[s+1][0],a=e[s+1][1],l=Math.sqrt((n-i)*(n-i)+(a-o)*(a-o)),u=(a-o)/l,p=(n-i)/l,c=l/t;if(c>1){for(let e=1;e<=c-1;e++){const s=e*t,n=p*s+i,a=u*s+o;r.push([n,a])}const e=(l+Math.floor(c-1)*t)/2,s=p*e+i,n=u*e+o;r.push([s,n])}r.push([n,a])}}return function(e){return"polygon"===e.type}(e)?new a.Z({rings:s,spatialReference:e.spatialReference}):new l.Z({paths:s,spatialReference:e.spatialReference})}(e,1e6);e=(0,c.Sx)(t,!0)}return r&&(e=(0,u.Sy)(e,r)),e}function b(e,t,r){if(Array.isArray(e)){const s=e[0];if(s>t){const r=(0,u.XZ)(s,t);e[0]=s+r*(-2*t)}else if(s<r){const t=(0,u.XZ)(s,r);e[0]=s+t*(-2*r)}}else{const s=e.x;if(s>t){const r=(0,u.XZ)(s,t);e=e.clone().offset(r*(-2*t),0)}else if(s<r){const t=(0,u.XZ)(s,r);e=e.clone().offset(t*(-2*r),0)}}return e}function v(e,t){let r=-1;for(let s=0;s<t.cutIndexes.length;s++){const i=t.cutIndexes[s],o=t.geometries[s],n=(0,u.x3)(o);for(let e=0;e<n.length;e++){const t=n[e];t.some((r=>{if(r[0]<180)return!0;{let r=0;for(let e=0;e<t.length;e++){const s=t[e][0];r=s>r?s:r}r=Number(r.toFixed(9));const s=-360*(0,u.XZ)(r,180);for(let r=0;r<t.length;r++){const t=o.getPoint(e,r);o.setPoint(e,r,t.clone().offset(s,0))}return!0}}))}if(i===r){if(f(e))for(const t of(0,u.x3)(o))e[i]=e[i].addRing(t);else if(g(e))for(const t of(0,u.x3)(o))e[i]=e[i].addPath(t)}else r=i,e[i]=o}return e}async function w(e,t,r){if(!Array.isArray(e))return w([e],t);const i=t?t.url:s.Z.geometryServiceUrl;let o,y,f,g,C,S,O,x,q=0;const U=[],k=[];for(const t of e)if((0,n.Wi)(t))k.push(t);else if(o||(o=t.spatialReference,y=(0,p.C5)(o),f=o.isWebMercator,S=f?102100:4326,g=u.UZ[S].maxX,C=u.UZ[S].minX,O=u.UZ[S].plus180Line,x=u.UZ[S].minus180Line),y)if("mesh"===t.type)k.push(t);else if("point"===t.type)k.push(b(t.clone(),g,C));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>b(e,g,C))),k.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,y);k.push(e.rings?new a.Z(e):e)}else if(t.extent){const e=t.extent,r=(0,u.XZ)(e.xmin,C)*(2*g);let s=0===r?t.clone():(0,u.Sy)(t.clone(),r);e.offset(r,0),e.intersects(O)&&e.xmax!==g?(q=e.xmax>q?e.xmax:q,s=_(s,f),U.push(s),k.push("cut")):e.intersects(x)&&e.xmin!==C?(q=e.xmax*(2*g)>q?e.xmax*(2*g):q,s=_(s,f,360),U.push(s),k.push("cut")):k.push(s)}else k.push(t.clone());else k.push(t);let P=(0,u.XZ)(q,g),I=-90;const T=P,E=new l.Z;for(;P>0;){const e=360*P-180;E.addPath([[e,I],[e,-1*I]]),I*=-1,P--}if(U.length>0&&T>0){const t=v(U,await async function(e,t,r,s){const i="string"==typeof e?(0,h.mN)(e):e,o=t[0].spatialReference,n={...s,query:{...i.query,f:"json",sr:JSON.stringify(o),target:JSON.stringify({geometryType:(0,m.Ji)(t[0]),geometries:t}),cutter:JSON.stringify(r)}},a=await(0,d.default)(i.path+"/cut",n),{cutIndexes:l,geometries:u=[]}=a.data;return{cutIndexes:l,geometries:u.map((e=>{const t=(0,m.im)(e);return t.spatialReference=o,t}))}}(i,U,E,r)),s=[],o=[];for(let r=0;r<k.length;r++){const i=k[r];if("cut"!==i)o.push(i);else{const i=t.shift(),a=e[r];(0,n.pC)(a)&&"polygon"===a.type&&a.rings&&a.rings.length>1&&i.rings.length>=a.rings.length?(s.push(i),o.push("simplify")):o.push(f?(0,c.$)(i):i)}}if(!s.length)return o;const a=await async function(e,t,r){const s="string"==typeof e?(0,h.mN)(e):e,i=t[0].spatialReference,o=(0,m.Ji)(t[0]),n={...r,query:{...s.query,f:"json",sr:i.wkid?i.wkid:JSON.stringify(i),geometries:JSON.stringify((a=t,{geometryType:(0,m.Ji)(a[0]),geometries:a.map((e=>e.toJSON()))}))}};var a;return function(e,t,r){const s=(0,m.q9)(t);return e.map((e=>{const t=s.fromJSON(e);return t.spatialReference=r,t}))}((await(0,d.default)(s.path+"/simplify",n)).data,o,i)}(i,s,r),l=[];for(let e=0;e<o.length;e++){const t=o[e];"simplify"!==t?l.push(t):l.push(f?(0,c.$)(a.shift()):a.shift())}return l}const R=[];for(let e=0;e<k.length;e++){const t=k[e];if("cut"!==t)R.push(t);else{const e=U.shift();R.push(!0===f?(0,c.$)(e):e)}}return Promise.resolve(R)}},85879:(e,t,r)=>{"use strict";r.d(t,{UZ:()=>n,x3:()=>u,XZ:()=>a,Sy:()=>l});var s=r(70049),i=r(61948),o=r(64334);const n={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new s.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.Z.WebMercator}),minus180Line:new s.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new s.Z({paths:[[[180,-180],[180,180]]],spatialReference:i.Z.WGS84}),minus180Line:new s.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:i.Z.WGS84})}};function a(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){const r=u(e);for(const e of r)for(const r of e)r[0]+=t;return e}function u(e){return(0,o.oU)(e)?e.rings:e.paths}},45787:(e,t,r)=>{"use strict";function s(e){return"date"===e.type||"esriFieldTypeDate"===e.type}function i(e){return e.toLowerCase().trim()}r.d(t,{Z:()=>o});const o=class{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const t=[];for(const r of e){const e=r&&r.name;if(e){const o=i(e);this._fieldsMap.set(e,r),this._fieldsMap.set(o,r),t.push(o),s(r)&&(this.dateFields.push(r),this._dateFieldsSet.add(r))}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(i(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}},23090:(e,t,r)=>{"use strict";r.d(t,{Z:()=>U});var s=r(14983),i=r(13664),o=(r(11389),r(27512)),n=r(93100),a=r(8811),l=r(42963),u=r(42790),p=r(67380),c=r(8764),d=r(84066),h=(r(77645),r(38215)),m=(r(45851),r(79159)),y=r(74184),f=r(56368),g=r(52771),_=r(29438);let b=class extends _.Z{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,s._)([(0,d.Cb)()],b.prototype,"nextQueryParams",void 0),(0,s._)([(0,d.Cb)()],b.prototype,"queryParams",void 0),(0,s._)([(0,d.Cb)()],b.prototype,"results",void 0),(0,s._)([(0,d.Cb)()],b.prototype,"total",void 0),b=(0,s._)([(0,y.j)("esri.portal.PortalQueryResult")],b);const v=b;var w,C=r(90113),S=r(8338);let O;const x={PortalGroup:()=>Promise.resolve().then(r.bind(r,41247)),PortalItem:()=>Promise.resolve().then(r.bind(r,30602)),PortalUser:()=>Promise.resolve().then(r.bind(r,90113))};let q=w=class extends((0,l.eC)(u.Z)){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=i.Z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)-1===i.Z.request.trustedServers.indexOf(t)&&i.Z.request.trustedServers.push(t);return e}readDefaultBasemap(e){if(e){const t=O.fromJSON(e);return t.portalItem={portal:this},t}return null}readDefaultVectorBasemap(e){if(e){const t=O.fromJSON(e);return t.portalItem={portal:this},t}return null}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=C.default.fromJSON(e),t.portal=this),t}load(e){const t=r.e(1121).then(r.bind(r,1121)).then((({default:t})=>{(0,c.k_)(e),O=t})).then((()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e))).then((e=>{if(o.id){const e=o.id;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==w.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=e.on("credential-create",(()=>{e.findCredential(this.restUrl)&&this._signIn()})))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){await this.load();const e=this._getHelperServiceUrl("closestFacility");return new(0,(await Promise.all([r.e(9906),r.e(8351),r.e(8808),r.e(7964)]).then(r.bind(r,37964))).default)(e)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Promise.all([r.e(2937),r.e(3075)]).then(r.bind(r,42613))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async createGeometryService(){await this.load();const e=this._getHelperServiceUrl("geometry");return new(0,(await r.e(4511).then(r.bind(r,94511))).default)({url:e})}async createPrintTask(){await this.load();const e=this._getHelperServiceUrl("printTask");return new(0,(await Promise.all([r.e(9906),r.e(8351),r.e(4271),r.e(745)]).then(r.bind(r,90745))).default)(e)}async createRouteTask(){await this.load();const e=this._getHelperServiceUrl("route");return new(0,(await Promise.all([r.e(9906),r.e(8351),r.e(8808),r.e(8674)]).then(r.bind(r,88674))).default)(e)}async createServiceAreaTask(){await this.load();const e=this._getHelperServiceUrl("serviceArea");return new(0,(await Promise.all([r.e(9906),r.e(8351),r.e(8808),r.e(2561)]).then(r.bind(r,62561))).default)(e)}fetchBasemaps(e,t){const r=new g.Z;return r.query=e||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then((e=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',e.total){const s=e.results[0];return r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc",s.queryItems(r,t)}return null})).then((e=>{let t;return t=e&&e.total?e.results.filter((e=>"Web Map"===e.type)).map((e=>new O({portalItem:e}))):[],t}))}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):(0,c.Hc)(e)?Promise.reject((0,c.zE)()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new g.Z;if(r.num=100,r.sortField="title",t&&t.length){const s=[];for(const e of t)s.push(`(title:"${e.title}" AND owner:${e.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then((e=>e.results))}return(0,c.Hc)(e)?Promise.reject((0,c.zE)()):Promise.resolve([])}fetchRegions(e){const t=this.user&&this.user.culture||this.culture||(0,S.Kd)();return this._request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}static getDefault(){return w._default&&!w._default.destroyed||(w._default=new w),w._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new a.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new w({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new a.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new a.Z("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const s=this.restUrl+"/portals/self",i={authMode:e,query:{culture:(0,S.Kd)().toLowerCase()},...r};return"auto"===i.authMode&&(i.authMode="no-prompt"),t&&(i.query.default=!0),this._request(s,i)}_queryPortal(e,t,r,s){const i=(0,h.se)(g.Z,t),o=t=>this._request(this.restUrl+e,{...i.toRequestOptions(this),...s}).then((e=>{const r=i.clone();return r.start=e.nextStart,new v({nextQueryParams:r,queryParams:i,total:e.total,results:w._resultsToTypedArray(t,{portal:this},e,s)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>((0,c.r9)(t),e)))));return r&&x[r]?x[r]().then((({default:e})=>((0,c.k_)(s),o(e)))):o()}_signIn(){if(this.authMode===w.AUTH_MODE_ANONYMOUS)return Promise.reject(new a.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this._fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this._fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return o.id?o.id.getCredential(this.restUrl).then((t=>e(t))):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then((e=>{const t=w._resultsToTypedArray(r,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}_request(e,t={}){const r={f:"json",...t.query},{authMode:s=(this.authMode===w.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:i=null,cacheBust:o=!1,method:a="auto",responseType:l="json",signal:u}=t,p={authMode:s,body:i,cacheBust:o,method:a,query:r,responseType:l,timeout:0,signal:u};return(0,n.default)(this._normalizeSSL(e),p).then((e=>e.data))}static _resultsToTypedArray(e,t,r,s){let i;if(r){const o=(0,p.pC)(s)?s.signal:null;i=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(i=i.map((r=>{const s=Object.assign(e?e.fromJSON(r):r,t);return"function"==typeof s.load&&s.load(o),s})))}else i=[];return i}};q.AUTH_MODE_ANONYMOUS="anonymous",q.AUTH_MODE_AUTO="auto",q.AUTH_MODE_IMMEDIATE="immediate",(0,s._)([(0,d.Cb)()],q.prototype,"access",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"allSSL",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"authMode",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"authorizedCrossOriginDomains",void 0),(0,s._)([(0,m.r)("authorizedCrossOriginDomains")],q.prototype,"readAuthorizedCrossOriginDomains",null),(0,s._)([(0,d.Cb)()],q.prototype,"basemapGalleryGroupQuery",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"bingKey",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"canListApps",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"canListData",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"canListPreProvisionedItems",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"canProvisionDirectPurchase",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"canSearchPublic",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"canShareBingPublic",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"canSharePublic",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"canSignInArcGIS",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"canSignInIDP",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"colorSetsGroupQuery",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"commentsEnabled",void 0),(0,s._)([(0,d.Cb)({type:Date})],q.prototype,"created",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"credential",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"culture",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"currentVersion",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"customBaseUrl",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"defaultBasemap",void 0),(0,s._)([(0,m.r)("defaultBasemap")],q.prototype,"readDefaultBasemap",null),(0,s._)([(0,d.Cb)({type:f.Z})],q.prototype,"defaultExtent",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"defaultVectorBasemap",void 0),(0,s._)([(0,m.r)("defaultVectorBasemap")],q.prototype,"readDefaultVectorBasemap",null),(0,s._)([(0,d.Cb)()],q.prototype,"description",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"eueiEnabled",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],q.prototype,"extraQuery",null),(0,s._)([(0,d.Cb)()],q.prototype,"featuredGroups",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"featuredItemsGroupQuery",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"galleryTemplatesGroupQuery",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"livingAtlasGroupQuery",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"hasCategorySchema",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"helpBase",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"helperServices",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"helpMap",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"homePageFeaturedContent",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"homePageFeaturedContentCount",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"httpPort",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"httpsPort",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"id",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"ipCntryCode",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],q.prototype,"isOrganization",null),(0,s._)([(0,d.Cb)()],q.prototype,"isPortal",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"isReadOnly",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"layerTemplatesGroupQuery",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"maxTokenExpirationMinutes",void 0),(0,s._)([(0,d.Cb)({type:Date})],q.prototype,"modified",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"name",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"portalHostname",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"portalMode",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"portalProperties",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"region",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],q.prototype,"restUrl",null),(0,s._)([(0,d.Cb)()],q.prototype,"rotatorPanels",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"showHomePageDescription",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"sourceJSON",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"staticImagesUrl",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"stylesGroupQuery",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"supportsHostedServices",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"symbolSetsGroupQuery",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"templatesGroupQuery",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"thumbnail",void 0),(0,s._)([(0,d.Cb)({readOnly:!0})],q.prototype,"thumbnailUrl",null),(0,s._)([(0,d.Cb)()],q.prototype,"units",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"url",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"urlKey",void 0),(0,s._)([(0,m.r)("urlKey")],q.prototype,"readUrlKey",null),(0,s._)([(0,d.Cb)()],q.prototype,"user",void 0),(0,s._)([(0,m.r)("user")],q.prototype,"readUser",null),(0,s._)([(0,d.Cb)()],q.prototype,"useStandardizedQuery",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"useVectorBasemaps",void 0),(0,s._)([(0,d.Cb)()],q.prototype,"vectorBasemapGalleryGroupQuery",void 0),q=w=(0,s._)([(0,y.j)("esri.portal.Portal")],q);const U=q},41247:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(14983),i=r(8811),o=r(42963),n=r(84066),a=(r(77645),r(38215)),l=(r(45851),r(74184)),u=r(52771);let p=class extends o.wq{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then((t=>{const r=t.categorySchema||[];return r.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):r}))}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new i.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=(0,a.se)(u.Z,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new u.Z,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new u.Z,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then((e=>{const r=e.contentCategorySetsGroupQuery;if(r){const e=new u.Z;return e.disableExtraQuery=!0,e.num=1,e.query=r,this.portal.queryGroups(e,t)}throw new i.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((r=>{if(r.total){const s=r.results[0],i=new u.Z;return i.num=1,i.query=`typekeywords:"${e}"`,s.queryItems(i,t)}throw new i.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=e&&e.categorySchema;return t&&t.length?t:[]})):[]))}};(0,s._)([(0,n.Cb)()],p.prototype,"access",void 0),(0,s._)([(0,n.Cb)({type:Date})],p.prototype,"created",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"description",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"id",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"isInvitationOnly",void 0),(0,s._)([(0,n.Cb)({type:Date})],p.prototype,"modified",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"owner",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"portal",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"snippet",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"sortField",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"sortOrder",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"tags",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"thumbnail",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],p.prototype,"thumbnailUrl",null),(0,s._)([(0,n.Cb)()],p.prototype,"title",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],p.prototype,"url",null),p=(0,s._)([(0,l.j)("esri.portal.PortalGroup")],p);const c=p},30602:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>U});var s=r(14983),i=r(57474),o=r(8811),n=r(42963),a=r(14483),l=r(42790),u=r(67380),p=r(99204),c=r(84066),d=r(38215),h=(r(77645),r(45851)),m=r(79159),y=r(74184),f=r(56368),g=r(23090),_=r(29438),b=r(31594);const v=h.Z.getLogger("esri.portal.PortalItemResource");let w=class extends _.Z{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this.normalizePath(e.path,e.portalItem)}:e}set path(e){(0,u.pC)(e)&&(0,p.YP)(e)?v.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this.normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.url;if((0,u.Wi)(r))throw new o.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:(0,u.U2)(t,"signal")})}async update(e,t){return(await r.e(1396).then(r.bind(r,91396))).addOrUpdateResource(this,"update",e,t)}hasPath(){return(0,u.pC)(this.path)}normalizePath(e,t){return(0,u.Wi)(e)?e:(e=e.replace(/^\/+/,""),(0,u.pC)(t)&&(0,p.YP)(e)&&(e=(0,p.PF)(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,s._)([(0,c.Cb)()],w.prototype,"portalItem",void 0),(0,s._)([(0,c.Cb)({type:String,value:null})],w.prototype,"path",null),(0,s._)([(0,b.p)("path")],w.prototype,"_castPath",null),(0,s._)([(0,c.Cb)({type:String,readOnly:!0})],w.prototype,"url",null),(0,s._)([(0,c.Cb)({type:String,readOnly:!0})],w.prototype,"itemRelativeUrl",null),w=(0,s._)([(0,y.j)("esri.portal.PortalItemResource")],w);const C=w;let S=class extends _.Z{constructor(e){super(e),this.created=null,this.rating=null}};(0,s._)([(0,c.Cb)()],S.prototype,"created",void 0),(0,s._)([(0,c.Cb)()],S.prototype,"rating",void 0),S=(0,s._)([(0,y.j)("esri.portal.PortalRating")],S);const O=S;var x;let q=x=class extends((0,n.eC)(l.Z)){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return(0,d.TJ)(x,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return"Feature Service"===e||"Feature Collection"===e?r=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?r=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?r="Scene Layer":"Scene Package"===e?r="Scene Layer Package":"Stream Service"===e?r="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?r=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?r="Locator":"Geoenrichment Service"===e?r="GeoEnrichment Service":"Microsoft Powerpoint"===e?r="Microsoft PowerPoint":"GeoJson"===e?r="GeoJSON":"Globe Service"===e?r="Globe Layer":"Vector Tile Service"===e?r="Tile Layer":"netCDF"===e?r="NetCDF":"Map Service"===e?r=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?r=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?r="Big Data File Share":"Compact Tile Package"===e?r="Tile Package (tpkx)":"OGCFeatureServer"===e&&(r="OGC Feature Layer"),r}readExtent(e){return e&&e.length?new f.Z(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[];let r,s=!1,o=!1,n=!1,a=!1,l=!1,u=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(s=t.indexOf("Hosted Service")>-1,"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(o=t.indexOf("Table")>-1,n=t.indexOf("Route Layer")>-1,a=t.indexOf("Markup")>-1,l=-1!==t.indexOf("Spatiotemporal"),u=-1!==t.indexOf("UtilityNetwork"),r=l&&o?"spatiotemporaltable":o?"table":n?"routelayer":a?"markup":l?"spatiotemporal":s?"featureshosted":u?"utilitynetwork":"features"):r="map service"===e||"wms"===e||"wmts"===e?s||t.indexOf("Tiled")>-1||"wmts"===e?"maptiles":"mapimages":"scene service"===e?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":t.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"geoprocessing service"===e&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):r="web map"===e||"cityengine web scene"===e?"maps":"web scene"===e?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?"apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.indexOf("ArcGIS Pro")>-1||"explorer map"===e&&t.indexOf("Explorer Document")?"mapsgray":"service definition"===e||"csv"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"360 vr experience"===e||"netcdf"===e||"administrative report"===e?"datafiles":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?"appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?"addindesktop":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"form"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"image"===e||"workflow manager package"===e||"explorer map"===e&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?"toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?"layersgray":"scene package"===e?"scenepackage":"mobile scene package"===e?"mobilescenepackage":"tile package"===e||"compact tile package"===e?"tilepackage":"task file"===e?"taskfile":"report template"===e?"report-template":"statistical data collection"===e?"statisticaldatacollection":"insights workbook"===e?"workbook":"insights model"===e?"insightsmodel":"insights page"===e?"insightspage":"insights theme"===e?"insightstheme":"hub initiative"===e?"hubinitiative":"hubpage"===e?"hubpage":"hub event"===e?"hubevent":"hub site application"===e?"hubsite":"relational database connection"===e?"relationaldatabaseconnection":"big data file share"===e?"datastorecollection":"image collection"===e?"imagecollection":"style"===e?"style":"desktop style"===e?"desktopstyle":"dashboard"===e?"dashboard":"raster function template"===e?"rasterprocessingtemplate":"vector tile package"===e?"vectortilepackage":"ortho mapping project"===e?"orthomappingproject":"ortho mapping template"===e?"orthomappingtemplate":"solution"===e?"solutions":"geopackage"===e?"geopackage":"deep learning package"===e?"deeplearningpackage":"real time analytic"===e?"realtimeanalytics":"big data analytic"===e?"bigdataanalytics":"feed"===e?"feed":"excalibur imagery project"===e?"excaliburimageryproject":"notebook"===e?"notebook":"storymap"===e?"storymap":"survey123 add in"===e?"survey123addin":"mission"===e?"mission":"mission report"===e?"missionreport":"quickcapture project"===e?"quickcaptureproject":"pro report"===e?"proreport":"urban model"===e?"urbanmodel":"web experience"===e?"experiencebuilder":"web experience template"===e?"webexperiencetemplate":"workflow"===e?"workflow":"insights script"===e?"insightsscript":"kernel gateway connection"===e?"kernelgatewayconnection":"hub initiative template"===e?"hubinitiativetemplate":"storymap theme"===e?"storymaptheme":"knowledge graph"===e?"knowledgegraph":"native application"===e?"nativeapp":"native application installer"===e?"nativeappinstaller":"link chart"===e?"linkchart":"investigation"===e?"investigation":"ogcfeatureserver"===e?"features":"pro project"===e?"proproject":"insights workbook package"===e?"insightsworkbookpackage":"maps",r?(0,i.V)("esri/images/portal/"+r+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=g.Z.getDefault());const t=this.portal.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:(0,u.pC)(e)?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof O&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((()=>new O({rating:e,created:new Date})))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,a.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,a.d9)(this.categories),created:(0,a.d9)(this.created),culture:this.culture,description:this.description,extent:(0,a.d9)(this.extent),groupCategories:(0,a.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,a.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,a.d9)(this.screenshots),size:this.size,snippet:this.snippet,tags:(0,a.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,a.d9)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new x({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((()=>{}))}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e}).then((e=>null!=e.rating?(e.created=new Date(e.created),new O(e)):null))}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},x)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const e in r.query)null===r.query[e]&&(r.query[e]="");return r.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?r.query.text=t:"object"==typeof t&&(r.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,r).then((()=>this.reload()))})):Promise.reject(new o.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e.thumbnail,r=e.filename,s={method:"post"};if("string"==typeof t)(0,p.HK)(t)?s.query={data:t}:s.query={url:(0,p.hF)(t)},(0,u.pC)(r)&&(s.query.filename=r);else{const e=new FormData;(0,u.pC)(r)?e.append("file",t,r):e.append("file",t),s.body=e}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,s).then((()=>this.reload()))})):Promise.reject(new o.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await r.e(1396).then(r.bind(r,91396))).fetchResources(this,e,t)}async addResource(e,t,s){const i=await r.e(1396).then(r.bind(r,91396));return e.portalItem=this,i.addOrUpdateResource(e,"add",t,s)}async removeResource(e,t){const s=await r.e(1396).then(r.bind(r,91396));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new o.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return s.removeResource(this,e,t)}async removeAllResources(e){return(await r.e(1396).then(r.bind(r,91396))).removeAllResources(this,e)}resourceFromPath(e){return new C({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return(0,a.yd)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new x({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};(0,s._)([(0,c.Cb)({type:["private","shared","org","public"]})],q.prototype,"access",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"accessInformation",void 0),(0,s._)([(0,c.Cb)({type:String})],q.prototype,"apiKey",void 0),(0,s._)([(0,c.Cb)({json:{read:{source:"appProxies"}}})],q.prototype,"applicationProxies",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"avgRating",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"categories",void 0),(0,s._)([(0,c.Cb)({type:Date})],q.prototype,"created",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"culture",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"description",void 0),(0,s._)([(0,c.Cb)({readOnly:!0})],q.prototype,"displayName",null),(0,s._)([(0,c.Cb)({type:f.Z})],q.prototype,"extent",void 0),(0,s._)([(0,m.r)("extent")],q.prototype,"readExtent",null),(0,s._)([(0,c.Cb)()],q.prototype,"groupCategories",void 0),(0,s._)([(0,c.Cb)({readOnly:!0})],q.prototype,"iconUrl",null),(0,s._)([(0,c.Cb)()],q.prototype,"id",void 0),(0,s._)([(0,c.Cb)({readOnly:!0})],q.prototype,"isLayer",null),(0,s._)([(0,c.Cb)()],q.prototype,"itemControl",void 0),(0,s._)([(0,c.Cb)({readOnly:!0})],q.prototype,"itemUrl",null),(0,s._)([(0,c.Cb)()],q.prototype,"licenseInfo",void 0),(0,s._)([(0,c.Cb)({type:Date})],q.prototype,"modified",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"name",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"numComments",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"numRatings",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"numViews",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"owner",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"ownerFolder",void 0),(0,s._)([(0,c.Cb)({type:g.Z})],q.prototype,"portal",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"screenshots",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"size",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"snippet",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"sourceJSON",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"tags",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"thumbnail",void 0),(0,s._)([(0,c.Cb)({readOnly:!0})],q.prototype,"thumbnailUrl",null),(0,s._)([(0,c.Cb)()],q.prototype,"title",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"type",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"typeKeywords",void 0),(0,s._)([(0,c.Cb)()],q.prototype,"url",void 0),(0,s._)([(0,c.Cb)({readOnly:!0})],q.prototype,"userItemUrl",null),q=x=(0,s._)([(0,y.j)("esri.portal.PortalItem")],q);const U=q},52771:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var s,i=r(14983),o=r(29438),n=r(30223),a=r(14483),l=r(84066),u=(r(38215),r(77645),r(45851),r(74184)),p=r(56368),c=r(61948),d=r(18201);const h=new n.Xn({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let m=s=class extends o.Z{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new s({categories:this.categories?(0,a.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,s;if(this.categories&&(r=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e))),this.extent){const e=(0,d.iV)(this.extent,c.Z.WGS84);e&&(s=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let i=this.query;!this.disableExtraQuery&&e.extraQuery&&(i="("+i+")"+e.extraQuery);const o={categories:r,bbox:s,q:i,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(o.sortField=this.sortField.split(",").map((e=>h.toJSON(e.trim()))).join(","),o.sortOrder=this.sortOrder),{query:{...t,...o}}}};(0,i._)([(0,l.Cb)()],m.prototype,"categories",void 0),(0,i._)([(0,l.Cb)()],m.prototype,"disableExtraQuery",void 0),(0,i._)([(0,l.Cb)({type:p.Z})],m.prototype,"extent",void 0),(0,i._)([(0,l.Cb)()],m.prototype,"num",void 0),(0,i._)([(0,l.Cb)()],m.prototype,"query",void 0),(0,i._)([(0,l.Cb)()],m.prototype,"sortField",void 0),(0,i._)([(0,l.Cb)()],m.prototype,"sortOrder",null),(0,i._)([(0,l.Cb)()],m.prototype,"start",void 0),m=s=(0,i._)([(0,u.j)("esri.portal.PortalQueryParams")],m);const y=m},90113:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var s=r(14983),i=r(8811),o=r(42963),n=r(84066),a=(r(77645),r(38215),r(45851),r(74184));let l=class extends o.wq{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new i.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,s._)([(0,n.Cb)({type:Date})],l.prototype,"created",void 0),(0,s._)([(0,n.Cb)()],l.prototype,"id",void 0),(0,s._)([(0,n.Cb)()],l.prototype,"portal",void 0),(0,s._)([(0,n.Cb)()],l.prototype,"title",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],l.prototype,"url",null),(0,s._)([(0,n.Cb)()],l.prototype,"username",void 0),l=(0,s._)([(0,a.j)("esri.portal.PortalFolder")],l);const u=l;var p,c=r(41247);let d=p=class extends o.wq{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,s=e&&e.folder,i={method:"post"};t&&(i.query=t.createPostQuery(),null!=r&&("string"==typeof r?i.query.text=r:"object"==typeof r&&(i.query.text=JSON.stringify(r))));let o=this.userContentUrl;return s&&(o+="/"+("string"==typeof s?s:s.id)),this.portal._request(o+"/addItem",i).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then((()=>{e.id=null,e.portal=null}))}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map((e=>e.id));if(r.length){const s={method:"post",query:{items:r.join(",")}};return this.portal._request(t,s).then((()=>{e.forEach((e=>{e.id=null,e.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=u.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal._request(this.url).then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=c.default.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchItems(e){e||(e={});let t,s=this.userContentUrl;return e.folder&&(s+="/"+e.folder.id),Promise.resolve().then(r.bind(r,30602)).then((({default:r})=>{t=r;const i={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(s,{query:i})})).then((e=>{let r;return e&&e.items?(r=e.items.map((e=>{const r=t.fromJSON(e);return r.portal=this.portal,r})),Promise.all(r.map((e=>e.load()))).catch((e=>e)).then((()=>({items:r,nextStart:e.nextStart,total:e.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal._request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new c.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new i.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new i.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new p;return t.sourceJSON=e,t.read(e),t}};(0,s._)([(0,n.Cb)()],d.prototype,"access",void 0),(0,s._)([(0,n.Cb)({type:Date})],d.prototype,"created",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"culture",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"description",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"email",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"favGroupId",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"fullName",void 0),(0,s._)([(0,n.Cb)({type:Date})],d.prototype,"modified",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"orgId",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"portal",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"preferredView",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"privileges",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"region",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"role",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"roleId",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"sourceJSON",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"thumbnail",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],d.prototype,"thumbnailUrl",null),(0,s._)([(0,n.Cb)()],d.prototype,"units",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],d.prototype,"userContentUrl",null),(0,s._)([(0,n.Cb)({readOnly:!0})],d.prototype,"url",null),(0,s._)([(0,n.Cb)()],d.prototype,"username",void 0),(0,s._)([(0,n.Cb)()],d.prototype,"userType",void 0),d=p=(0,s._)([(0,a.j)("esri.portal.PortalUser")],d);const h=d},93100:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var s=r(13664),i=r(27512),o=r(8811),n=r(327),a=r(77645),l=r(14483),u=r(67380),p=r(8764),c=r(99204),d=r(52096),h=r(36727);async function m(e,t){const l=(0,c.HK)(e),h=(0,c.jc)(e);h||l||(e=(0,c.Fv)(e));const _={url:e,requestOptions:{...(0,u.Wg)(t)}};let b=(0,c.oh)(e);if(b){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,s;try{s=await e.before(t)}catch(e){r=O("request:interceptor",e,t)}if((s instanceof Error||s instanceof o.Z)&&(r=O("request:interceptor",s,t)),r)throw e.error&&e.error(r),r;return s}}(b,_);if(null!=e)return{data:e,getHeader:w,requestOptions:_.requestOptions,url:_.url};b.after||b.error||(b=null)}if(e=_.url,"image"===(t=_.requestOptions).responseType){if((0,a.Z)("host-webworker")||(0,a.Z)("host-node"))throw O("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),_)}else if(l)throw O("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),_);if("head"===t.method){if(t.body)throw O("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),_);if(l||h)throw O("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),_)}if(await async function(){(0,a.Z)("host-webworker")?y||(y=await r.e(739).then(r.bind(r,90739))):m._abortableFetch||(m._abortableFetch=n.Z.fetch.bind(n.Z))}(),y)return y.execute(e,t);const v=(0,p.yi)();(0,p.fu)(t,(()=>v.abort()));const C={controller:v,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:b,params:_,redoRequest:!1,useIdentity:f.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},S=await async function(e){var t,r;let o,a;await async function(e){const t=e.params.url,r=e.params.requestOptions,o=e.controller.signal,a=r.body;let l=null,u=null,c=null;if(g&&"HTMLFormElement"in n.Z&&(a instanceof FormData?l=a:a instanceof HTMLFormElement&&(u=a,l=new FormData(u))),"string"==typeof a&&(c=a),e.fetchOptions={cache:r.cacheBust&&!m._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:o},(l||c)&&(e.fetchOptions.body=l||c),"anonymous"===r.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query&&r.query.token||l&&l.get&&l.get("token")||u&&u.elements.token),!e.hasToken&&s.Z.apiKey&&(0,d.r)(t)&&(r.query||(r.query={}),r.query.token=s.Z.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!q(t)&&!(0,p.Hc)(o)){let s;"immediate"===r.authMode?(await x(),s=await i.id.getCredential(t,{signal:o}),e.credential=s):"no-prompt"===r.authMode?(await x(),s=await i.id.getCredential(t,{prompt:!1,signal:o}).catch((()=>{})),e.credential=s):i.id&&(s=i.id.findCredential(t)),s&&(e.credentialToken=s.token,e.useSSL=!!s.ssl)}}(e);try{do{[o,a]=await U(e)}while(!await P(e,o,a))}catch(t){const r=O("request:server",t,e.params,o);throw r.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(r),r}const l=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(l)&&!e.hasToken&&!e.credentialToken&&null!=(t=a)&&null!=(r=t.user)&&r.username&&!(0,c.kl)(l)){const e=(0,c.P$)(l,!0);e&&f.trustedServers.push(e)}const u=e.credential;if(u&&i.id){const e=i.id.findServerInfo(u.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=i.id.findCredential(t,u.userId);e&&-1===i.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:a,getHeader:o?e=>o.headers.get(e):w,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(C);return b&&b.after&&b.after(S),S}let y;const f=s.Z.request,g="FormData"in n.Z,_=[499,498,403,401],b=["COM_0056","COM_0057","SB_0008"],v=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],w=()=>null,C=Symbol();function S(e){const t=(0,c.P$)(e);return!t||t.endsWith(".arcgis.com")||m._corsServers.includes(t)||(0,c.kl)(t)}function O(e,t,r,s){let i="Error";const n={url:r.url,requestOptions:r.requestOptions,getHeader:w,ssl:!1};if(t instanceof o.Z)return t.details?(t.details=(0,l.d9)(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=n,t;if(t){const e=s&&(e=>s.headers.get(e)),r=s&&s.status,o=t.message;o&&(i=o),e&&(n.getHeader=e),n.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||r||0,n.subCode=t.subcode,n.messageCode=t.messageCode,"string"==typeof t.details?n.messages=[t.details]:n.messages=t.details,n.raw=C in t?t[C]:t}return(0,p.D_)(t)?(0,p.zE)():new o.Z(e,i,n)}async function x(){i.id||await Promise.all([r.e(2261),r.e(7189),r.e(5973),r.e(6730)]).then(r.bind(r,29683))}function q(e){return v.some((t=>t.test(e)))}async function U(e){let t=e.params.url;const r=e.params.requestOptions,s=e.fetchOptions,o=(0,c.jc)(t)||(0,c.HK)(t),n=r.responseType||"json",l=o?0:null!=r.timeout?r.timeout:f.timeout;let u=!1;if(!o){e.useSSL&&(t=(0,c.hO)(t)),r.cacheBust&&"default"===s.cache&&(t=(0,c.ZN)(t,"request.preventCache",Date.now()));let o={...r.query};e.credentialToken&&(o.token=e.credentialToken);let n=(0,c.B7)(o);(0,a.Z)("esri-url-encodes-apostrophe")&&(n=n.replace(/'/g,"%27"));const l=t.length+1+n.length;let p;u="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||l>f.maxUrlLength;const d=r.useProxy||!!(0,c.ed)(t);if(d){const e=(0,c.b7)(t);p=e.path,!u&&p.length+1+l>f.maxUrlLength&&(u=!0),e.query&&(o={...e.query,...o})}if("HEAD"===s.method&&(u||d)){if(u){if(l>f.maxUrlLength)throw O("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw O("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(d)throw O("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(u?(s.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?t=(0,c.fl)(t,o):(s.body=(0,c.B7)(o),s.headers["Content-Type"]="application/x-www-form-urlencoded")):t=(0,c.fl)(t,o),d&&(e.useProxy=!0,t=`${p}?${t}`),o.token&&g&&s.body instanceof FormData){const e=s.body;e.set?e.set("token",o.token):e.append("token",o.token)}if(r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!(0,c.D6)(t,c.Gd))if((0,c.kl)(t))e.withCredentials=!0;else if(i.id){const r=i.id.findServerInfo(t);r&&r.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(s.credentials="include")}let d,h,y=0,_=!1;l>0&&(y=setTimeout((()=>{_=!0,e.controller.abort()}),l));try{if("native-request-init"===r.responseType)h=s,h.url=t;else if("image"!==r.responseType||"default"!==s.cache||"GET"!==s.method||u||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!o&&!e.useProxy&&f.proxyUrl&&!S(t)){if(d=await m._abortableFetch(t,s),e.useProxy||function(e){const t=(0,c.P$)(e);t&&!m._corsServers.includes(t)&&m._corsServers.push(t)}(t),"native"===r.responseType)h=d;else if("HEAD"!==s.method)if(d.ok){switch(n){case"array-buffer":h=await d.arrayBuffer();break;case"blob":case"image":h=await d.blob();break;default:h=await d.text()}if(y&&(clearTimeout(y),y=0),"json"===n||"xml"===n||"document"===n)if(h)switch(n){case"json":h=JSON.parse(h);break;case"xml":h=k(h,"application/xml");break;case"document":h=k(h,"text/html")}else h=null;if(h){if("array-buffer"===n||"blob"===n){const e=d.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&h["blob"===n?"size":"byteLength"]<=750)try{const e=await new Response(h).json();e.error&&(h=e)}catch{}}"image"===n&&h instanceof Blob&&(h=await I(URL.createObjectURL(h),e,!0))}}else h=await d.text()}else h=await I(t,e)}catch(s){if("AbortError"===s.name){if(_)throw new Error("Timeout exceeded");throw(0,p.zE)("Request canceled")}if(!(!d&&s instanceof TypeError&&f.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy||S(t))throw s;e.redoRequest=!0,(0,c.tD)({proxyUrl:f.proxyUrl,urlPrefix:(0,c.P$)(t)})}finally{y&&clearTimeout(y)}return[d,h]}function k(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function P(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const s=e.params.requestOptions;if(!t||"native"===s.responseType||"native-request-init"===s.responseType)return!0;let o,n,a,l;if(!t.ok)throw o=new Error(`Unable to load ${t.url} status: ${t.status}`),o[C]=r,o;null!=r&&r.error&&(o=r.error),o&&(n=Number(o.code),a=o.hasOwnProperty("subcode")?Number(o.subcode):null,l=o.messageCode,l=l&&l.toUpperCase());const u=s.authMode;if(403===n&&(4===a||o.message&&o.message.toLowerCase().indexOf("ssl")>-1&&-1===o.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==u||498===n)&&-1!==_.indexOf(n)&&!q(e.params.url)&&(403!==n||-1===b.indexOf(l)&&(null==a||2===a&&e.credentialToken))){await x();try{const t=await i.id.getCredential(e.params.url,{error:O("request:server",o,e.params),prompt:"no-prompt"!==u,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===u)return e.credential=null,e.credentialToken=null,!1;o=t}}if(o)throw o;return!0}function I(e,t,r=!1){const s=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.src=e,(0,h.f)(i,e,r,s)}m._abortableFetch=null,m._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const T=m},52096:(e,t,r)=>{"use strict";r.d(t,{r:()=>o});var s=r(99204);const i=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function o(e){const t=(0,s.P$)(e,!0);return t&&t.endsWith(".arcgis.com")&&!i.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}},36727:(e,t,r)=>{"use strict";r.d(t,{f:()=>n});var s=r(77645),i=r(67380),o=r(8764);function n(e,t,r=!1,n){return new Promise(((l,u)=>{if((0,o.Hc)(n))return void u(a());let p=()=>{h(),u(new Error(`Unable to load ${t}`))},c=()=>{const t=e;h(),l(t)},d=()=>{if(!e)return;const t=e;h(),t.src="",u(a())};const h=()=>{(0,s.Z)("esri-image-decode")||(e.removeEventListener("error",p),e.removeEventListener("load",c)),p=null,c=null,e=null,(0,i.pC)(n)&&n.removeEventListener("abort",d),d=null,r&&URL.revokeObjectURL(t)};(0,i.pC)(n)&&n.addEventListener("abort",d),(0,s.Z)("esri-image-decode")?e.decode().then(c,p):(e.addEventListener("error",p),e.addEventListener("load",c))}))}function a(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}}}]);