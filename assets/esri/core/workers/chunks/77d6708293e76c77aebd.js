"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2692,3172],{52138:(e,t,r)=>{r.d(t,{a:()=>a,b:()=>l,d:()=>c,f:()=>h,g:()=>b,h:()=>g,i:()=>n,m:()=>u,o:()=>d,q:()=>_,s:()=>i,t:()=>p});var s=r(65617),o=r(46851);function i(e,t,r,s,o,i,n,a,l,u,p,h,c,d,m,y,f){return e[0]=t,e[1]=r,e[2]=s,e[3]=o,e[4]=i,e[5]=n,e[6]=a,e[7]=l,e[8]=u,e[9]=p,e[10]=h,e[11]=c,e[12]=d,e[13]=m,e[14]=y,e[15]=f,e}function n(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function a(e,t){if(e===t){const r=t[1],s=t[2],o=t[3],i=t[6],n=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=s,e[9]=i,e[11]=t[14],e[12]=o,e[13]=n,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function l(e,t){const r=t[0],s=t[1],o=t[2],i=t[3],n=t[4],a=t[5],l=t[6],u=t[7],p=t[8],h=t[9],c=t[10],d=t[11],m=t[12],y=t[13],f=t[14],g=t[15],b=r*a-s*n,_=r*l-o*n,v=r*u-i*n,w=s*l-o*a,C=s*u-i*a,S=o*u-i*l,x=p*y-h*m,O=p*f-c*m,M=p*g-d*m,q=h*f-c*y,P=h*g-d*y,k=c*g-d*f;let U=b*k-_*P+v*q+w*M-C*O+S*x;return U?(U=1/U,e[0]=(a*k-l*P+u*q)*U,e[1]=(o*P-s*k-i*q)*U,e[2]=(y*S-f*C+g*w)*U,e[3]=(c*C-h*S-d*w)*U,e[4]=(l*M-n*k-u*O)*U,e[5]=(r*k-o*M+i*O)*U,e[6]=(f*v-m*S-g*_)*U,e[7]=(p*S-c*v+d*_)*U,e[8]=(n*P-a*M+u*x)*U,e[9]=(s*M-r*P-i*x)*U,e[10]=(m*C-y*v+g*b)*U,e[11]=(h*v-p*C-d*b)*U,e[12]=(a*O-n*q-l*x)*U,e[13]=(r*q-s*O+o*x)*U,e[14]=(y*_-m*w-f*b)*U,e[15]=(p*w-h*_+c*b)*U,e):null}function u(e,t,r){const s=t[0],o=t[1],i=t[2],n=t[3],a=t[4],l=t[5],u=t[6],p=t[7],h=t[8],c=t[9],d=t[10],m=t[11],y=t[12],f=t[13],g=t[14],b=t[15];let _=r[0],v=r[1],w=r[2],C=r[3];return e[0]=_*s+v*a+w*h+C*y,e[1]=_*o+v*l+w*c+C*f,e[2]=_*i+v*u+w*d+C*g,e[3]=_*n+v*p+w*m+C*b,_=r[4],v=r[5],w=r[6],C=r[7],e[4]=_*s+v*a+w*h+C*y,e[5]=_*o+v*l+w*c+C*f,e[6]=_*i+v*u+w*d+C*g,e[7]=_*n+v*p+w*m+C*b,_=r[8],v=r[9],w=r[10],C=r[11],e[8]=_*s+v*a+w*h+C*y,e[9]=_*o+v*l+w*c+C*f,e[10]=_*i+v*u+w*d+C*g,e[11]=_*n+v*p+w*m+C*b,_=r[12],v=r[13],w=r[14],C=r[15],e[12]=_*s+v*a+w*h+C*y,e[13]=_*o+v*l+w*c+C*f,e[14]=_*i+v*u+w*d+C*g,e[15]=_*n+v*p+w*m+C*b,e}function p(e,t,r){const s=r[0],o=r[1],i=r[2];let n,a,l,u,p,h,c,d,m,y,f,g;return t===e?(e[12]=t[0]*s+t[4]*o+t[8]*i+t[12],e[13]=t[1]*s+t[5]*o+t[9]*i+t[13],e[14]=t[2]*s+t[6]*o+t[10]*i+t[14],e[15]=t[3]*s+t[7]*o+t[11]*i+t[15]):(n=t[0],a=t[1],l=t[2],u=t[3],p=t[4],h=t[5],c=t[6],d=t[7],m=t[8],y=t[9],f=t[10],g=t[11],e[0]=n,e[1]=a,e[2]=l,e[3]=u,e[4]=p,e[5]=h,e[6]=c,e[7]=d,e[8]=m,e[9]=y,e[10]=f,e[11]=g,e[12]=n*s+p*o+m*i+t[12],e[13]=a*s+h*o+y*i+t[13],e[14]=l*s+c*o+f*i+t[14],e[15]=u*s+d*o+g*i+t[15]),e}function h(e,t,r){const s=r[0],o=r[1],i=r[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function c(e,t,r,s){let i,n,a,l,u,p,h,c,d,m,y,f,g,b,_,v,w,C,S,x,O,M,q,P,k=s[0],U=s[1],T=s[2],I=Math.sqrt(k*k+U*U+T*T);return I<o.E?null:(I=1/I,k*=I,U*=I,T*=I,i=Math.sin(r),n=Math.cos(r),a=1-n,l=t[0],u=t[1],p=t[2],h=t[3],c=t[4],d=t[5],m=t[6],y=t[7],f=t[8],g=t[9],b=t[10],_=t[11],v=k*k*a+n,w=U*k*a+T*i,C=T*k*a-U*i,S=k*U*a-T*i,x=U*U*a+n,O=T*U*a+k*i,M=k*T*a+U*i,q=U*T*a-k*i,P=T*T*a+n,e[0]=l*v+c*w+f*C,e[1]=u*v+d*w+g*C,e[2]=p*v+m*w+b*C,e[3]=h*v+y*w+_*C,e[4]=l*S+c*x+f*O,e[5]=u*S+d*x+g*O,e[6]=p*S+m*x+b*O,e[7]=h*S+y*x+_*O,e[8]=l*M+c*q+f*P,e[9]=u*M+d*q+g*P,e[10]=p*M+m*q+b*P,e[11]=h*M+y*q+_*P,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function d(e,t){const r=Math.sin(t),s=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function m(e,t,r){const s=t[0],o=t[1],i=t[2],n=t[3],a=s+s,l=o+o,u=i+i,p=s*a,h=s*l,c=s*u,d=o*l,m=o*u,y=i*u,f=n*a,g=n*l,b=n*u;return e[0]=1-(d+y),e[1]=h+b,e[2]=c-g,e[3]=0,e[4]=h-b,e[5]=1-(p+y),e[6]=m+f,e[7]=0,e[8]=c+g,e[9]=m-f,e[10]=1-(p+d),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}const y=(0,s.c)();function f(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function g(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function b(e,t){const r=e[0],s=e[1],i=e[2],n=e[3],a=e[4],l=e[5],u=e[6],p=e[7],h=e[8],c=e[9],d=e[10],m=e[11],y=e[12],f=e[13],g=e[14],b=e[15],_=t[0],v=t[1],w=t[2],C=t[3],S=t[4],x=t[5],O=t[6],M=t[7],q=t[8],P=t[9],k=t[10],U=t[11],T=t[12],I=t[13],E=t[14],R=t[15];return Math.abs(r-_)<=o.E*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(s-v)<=o.E*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(i-w)<=o.E*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(n-C)<=o.E*Math.max(1,Math.abs(n),Math.abs(C))&&Math.abs(a-S)<=o.E*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(l-x)<=o.E*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(u-O)<=o.E*Math.max(1,Math.abs(u),Math.abs(O))&&Math.abs(p-M)<=o.E*Math.max(1,Math.abs(p),Math.abs(M))&&Math.abs(h-q)<=o.E*Math.max(1,Math.abs(h),Math.abs(q))&&Math.abs(c-P)<=o.E*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(d-k)<=o.E*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(m-U)<=o.E*Math.max(1,Math.abs(m),Math.abs(U))&&Math.abs(y-T)<=o.E*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(f-I)<=o.E*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(g-E)<=o.E*Math.max(1,Math.abs(g),Math.abs(E))&&Math.abs(b-R)<=o.E*Math.max(1,Math.abs(b),Math.abs(R))}function _(e){const t=o.E,r=e[0],s=e[1],i=e[2],n=e[4],a=e[5],l=e[6],u=e[8],p=e[9],h=e[10];return Math.abs(1-(r*r+n*n+u*u))<=t&&Math.abs(1-(s*s+a*a+p*p))<=t&&Math.abs(1-(i*i+l*l+h*h))<=t}const v=u,w=f;Object.freeze({__proto__:null,copy:function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},set:i,identity:n,transpose:a,invert:l,adjoint:function(e,t){const r=t[0],s=t[1],o=t[2],i=t[3],n=t[4],a=t[5],l=t[6],u=t[7],p=t[8],h=t[9],c=t[10],d=t[11],m=t[12],y=t[13],f=t[14],g=t[15];return e[0]=a*(c*g-d*f)-h*(l*g-u*f)+y*(l*d-u*c),e[1]=-(s*(c*g-d*f)-h*(o*g-i*f)+y*(o*d-i*c)),e[2]=s*(l*g-u*f)-a*(o*g-i*f)+y*(o*u-i*l),e[3]=-(s*(l*d-u*c)-a*(o*d-i*c)+h*(o*u-i*l)),e[4]=-(n*(c*g-d*f)-p*(l*g-u*f)+m*(l*d-u*c)),e[5]=r*(c*g-d*f)-p*(o*g-i*f)+m*(o*d-i*c),e[6]=-(r*(l*g-u*f)-n*(o*g-i*f)+m*(o*u-i*l)),e[7]=r*(l*d-u*c)-n*(o*d-i*c)+p*(o*u-i*l),e[8]=n*(h*g-d*y)-p*(a*g-u*y)+m*(a*d-u*h),e[9]=-(r*(h*g-d*y)-p*(s*g-i*y)+m*(s*d-i*h)),e[10]=r*(a*g-u*y)-n*(s*g-i*y)+m*(s*u-i*a),e[11]=-(r*(a*d-u*h)-n*(s*d-i*h)+p*(s*u-i*a)),e[12]=-(n*(h*f-c*y)-p*(a*f-l*y)+m*(a*c-l*h)),e[13]=r*(h*f-c*y)-p*(s*f-o*y)+m*(s*c-o*h),e[14]=-(r*(a*f-l*y)-n*(s*f-o*y)+m*(s*l-o*a)),e[15]=r*(a*c-l*h)-n*(s*c-o*h)+p*(s*l-o*a),e},determinant:function(e){const t=e[0],r=e[1],s=e[2],o=e[3],i=e[4],n=e[5],a=e[6],l=e[7],u=e[8],p=e[9],h=e[10],c=e[11],d=e[12],m=e[13],y=e[14],f=e[15];return(t*n-r*i)*(h*f-c*y)-(t*a-s*i)*(p*f-c*m)+(t*l-o*i)*(p*y-h*m)+(r*a-s*n)*(u*f-c*d)-(r*l-o*n)*(u*y-h*d)+(s*l-o*a)*(u*m-p*d)},multiply:u,translate:p,scale:h,rotate:c,rotateX:function(e,t,r){const s=Math.sin(r),o=Math.cos(r),i=t[4],n=t[5],a=t[6],l=t[7],u=t[8],p=t[9],h=t[10],c=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+u*s,e[5]=n*o+p*s,e[6]=a*o+h*s,e[7]=l*o+c*s,e[8]=u*o-i*s,e[9]=p*o-n*s,e[10]=h*o-a*s,e[11]=c*o-l*s,e},rotateY:function(e,t,r){const s=Math.sin(r),o=Math.cos(r),i=t[0],n=t[1],a=t[2],l=t[3],u=t[8],p=t[9],h=t[10],c=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o-u*s,e[1]=n*o-p*s,e[2]=a*o-h*s,e[3]=l*o-c*s,e[8]=i*s+u*o,e[9]=n*s+p*o,e[10]=a*s+h*o,e[11]=l*s+c*o,e},rotateZ:function(e,t,r){const s=Math.sin(r),o=Math.cos(r),i=t[0],n=t[1],a=t[2],l=t[3],u=t[4],p=t[5],h=t[6],c=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+u*s,e[1]=n*o+p*s,e[2]=a*o+h*s,e[3]=l*o+c*s,e[4]=u*o-i*s,e[5]=p*o-n*s,e[6]=h*o-a*s,e[7]=c*o-l*s,e},fromTranslation:function(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e},fromScaling:function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromRotation:function(e,t,r){let s,i,n,a=r[0],l=r[1],u=r[2],p=Math.sqrt(a*a+l*l+u*u);return p<o.E?null:(p=1/p,a*=p,l*=p,u*=p,s=Math.sin(t),i=Math.cos(t),n=1-i,e[0]=a*a*n+i,e[1]=l*a*n+u*s,e[2]=u*a*n-l*s,e[3]=0,e[4]=a*l*n-u*s,e[5]=l*l*n+i,e[6]=u*l*n+a*s,e[7]=0,e[8]=a*u*n+l*s,e[9]=l*u*n-a*s,e[10]=u*u*n+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)},fromXRotation:d,fromYRotation:function(e,t){const r=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromZRotation:function(e,t){const r=Math.sin(t),s=Math.cos(t);return e[0]=s,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},fromRotationTranslation:m,fromQuat2:function(e,t){const r=y,s=-t[0],o=-t[1],i=-t[2],n=t[3],a=t[4],l=t[5],u=t[6],p=t[7],h=s*s+o*o+i*i+n*n;return h>0?(r[0]=2*(a*n+p*s+l*i-u*o)/h,r[1]=2*(l*n+p*o+u*s-a*i)/h,r[2]=2*(u*n+p*i+a*o-l*s)/h):(r[0]=2*(a*n+p*s+l*i-u*o),r[1]=2*(l*n+p*o+u*s-a*i),r[2]=2*(u*n+p*i+a*o-l*s)),m(e,t,r),e},getTranslation:function(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e},getScaling:function(e,t){const r=t[0],s=t[1],o=t[2],i=t[4],n=t[5],a=t[6],l=t[8],u=t[9],p=t[10];return e[0]=Math.sqrt(r*r+s*s+o*o),e[1]=Math.sqrt(i*i+n*n+a*a),e[2]=Math.sqrt(l*l+u*u+p*p),e},getRotation:function(e,t){const r=t[0]+t[5]+t[10];let s=0;return r>0?(s=2*Math.sqrt(r+1),e[3]=.25*s,e[0]=(t[6]-t[9])/s,e[1]=(t[8]-t[2])/s,e[2]=(t[1]-t[4])/s):t[0]>t[5]&&t[0]>t[10]?(s=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/s,e[0]=.25*s,e[1]=(t[1]+t[4])/s,e[2]=(t[8]+t[2])/s):t[5]>t[10]?(s=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/s,e[0]=(t[1]+t[4])/s,e[1]=.25*s,e[2]=(t[6]+t[9])/s):(s=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/s,e[0]=(t[8]+t[2])/s,e[1]=(t[6]+t[9])/s,e[2]=.25*s),e},fromRotationTranslationScale:function(e,t,r,s){const o=t[0],i=t[1],n=t[2],a=t[3],l=o+o,u=i+i,p=n+n,h=o*l,c=o*u,d=o*p,m=i*u,y=i*p,f=n*p,g=a*l,b=a*u,_=a*p,v=s[0],w=s[1],C=s[2];return e[0]=(1-(m+f))*v,e[1]=(c+_)*v,e[2]=(d-b)*v,e[3]=0,e[4]=(c-_)*w,e[5]=(1-(h+f))*w,e[6]=(y+g)*w,e[7]=0,e[8]=(d+b)*C,e[9]=(y-g)*C,e[10]=(1-(h+m))*C,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e},fromRotationTranslationScaleOrigin:function(e,t,r,s,o){const i=t[0],n=t[1],a=t[2],l=t[3],u=i+i,p=n+n,h=a+a,c=i*u,d=i*p,m=i*h,y=n*p,f=n*h,g=a*h,b=l*u,_=l*p,v=l*h,w=s[0],C=s[1],S=s[2],x=o[0],O=o[1],M=o[2],q=(1-(y+g))*w,P=(d+v)*w,k=(m-_)*w,U=(d-v)*C,T=(1-(c+g))*C,I=(f+b)*C,E=(m+_)*S,R=(f-b)*S,Z=(1-(c+y))*S;return e[0]=q,e[1]=P,e[2]=k,e[3]=0,e[4]=U,e[5]=T,e[6]=I,e[7]=0,e[8]=E,e[9]=R,e[10]=Z,e[11]=0,e[12]=r[0]+x-(q*x+U*O+E*M),e[13]=r[1]+O-(P*x+T*O+R*M),e[14]=r[2]+M-(k*x+I*O+Z*M),e[15]=1,e},fromQuat:function(e,t){const r=t[0],s=t[1],o=t[2],i=t[3],n=r+r,a=s+s,l=o+o,u=r*n,p=s*n,h=s*a,c=o*n,d=o*a,m=o*l,y=i*n,f=i*a,g=i*l;return e[0]=1-h-m,e[1]=p+g,e[2]=c-f,e[3]=0,e[4]=p-g,e[5]=1-u-m,e[6]=d+y,e[7]=0,e[8]=c+f,e[9]=d-y,e[10]=1-u-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},frustum:function(e,t,r,s,o,i,n){const a=1/(r-t),l=1/(o-s),u=1/(i-n);return e[0]=2*i*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*l,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(o+s)*l,e[10]=(n+i)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=n*i*2*u,e[15]=0,e},perspective:function(e,t,r,s,o){const i=1/Math.tan(t/2);let n;return e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(n=1/(s-o),e[10]=(o+s)*n,e[14]=2*o*s*n):(e[10]=-1,e[14]=-2*s),e},perspectiveFromFieldOfView:function(e,t,r,s){const o=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),n=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(n+a),u=2/(o+i);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(n-a)*l*.5,e[9]=(o-i)*u*.5,e[10]=s/(r-s),e[11]=-1,e[12]=0,e[13]=0,e[14]=s*r/(r-s),e[15]=0,e},ortho:function(e,t,r,s,o,i,n){const a=1/(t-r),l=1/(s-o),u=1/(i-n);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*a,e[13]=(o+s)*l,e[14]=(n+i)*u,e[15]=1,e},lookAt:function(e,t,r,s){let i,a,l,u,p,h,c,d,m,y;const f=t[0],g=t[1],b=t[2],_=s[0],v=s[1],w=s[2],C=r[0],S=r[1],x=r[2];return Math.abs(f-C)<o.E&&Math.abs(g-S)<o.E&&Math.abs(b-x)<o.E?n(e):(c=f-C,d=g-S,m=b-x,y=1/Math.sqrt(c*c+d*d+m*m),c*=y,d*=y,m*=y,i=v*m-w*d,a=w*c-_*m,l=_*d-v*c,y=Math.sqrt(i*i+a*a+l*l),y?(y=1/y,i*=y,a*=y,l*=y):(i=0,a=0,l=0),u=d*l-m*a,p=m*i-c*l,h=c*a-d*i,y=Math.sqrt(u*u+p*p+h*h),y?(y=1/y,u*=y,p*=y,h*=y):(u=0,p=0,h=0),e[0]=i,e[1]=u,e[2]=c,e[3]=0,e[4]=a,e[5]=p,e[6]=d,e[7]=0,e[8]=l,e[9]=h,e[10]=m,e[11]=0,e[12]=-(i*f+a*g+l*b),e[13]=-(u*f+p*g+h*b),e[14]=-(c*f+d*g+m*b),e[15]=1,e)},targetTo:function(e,t,r,s){const o=t[0],i=t[1],n=t[2],a=s[0],l=s[1],u=s[2];let p=o-r[0],h=i-r[1],c=n-r[2],d=p*p+h*h+c*c;d>0&&(d=1/Math.sqrt(d),p*=d,h*=d,c*=d);let m=l*c-u*h,y=u*p-a*c,f=a*h-l*p;return d=m*m+y*y+f*f,d>0&&(d=1/Math.sqrt(d),m*=d,y*=d,f*=d),e[0]=m,e[1]=y,e[2]=f,e[3]=0,e[4]=h*f-c*y,e[5]=c*m-p*f,e[6]=p*y-h*m,e[7]=0,e[8]=p,e[9]=h,e[10]=c,e[11]=0,e[12]=o,e[13]=i,e[14]=n,e[15]=1,e},str:function(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"},frob:function(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)},add:function(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e},subtract:f,multiplyScalar:function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e},multiplyScalarAndAdd:function(e,t,r,s){return e[0]=t[0]+r[0]*s,e[1]=t[1]+r[1]*s,e[2]=t[2]+r[2]*s,e[3]=t[3]+r[3]*s,e[4]=t[4]+r[4]*s,e[5]=t[5]+r[5]*s,e[6]=t[6]+r[6]*s,e[7]=t[7]+r[7]*s,e[8]=t[8]+r[8]*s,e[9]=t[9]+r[9]*s,e[10]=t[10]+r[10]*s,e[11]=t[11]+r[11]*s,e[12]=t[12]+r[12]*s,e[13]=t[13]+r[13]*s,e[14]=t[14]+r[14]*s,e[15]=t[15]+r[15]*s,e},exactEquals:g,equals:b,isOrthoNormal:_,mul:v,sub:w})},83379:(e,t,r)=>{r.d(t,{Z:()=>m});var s=r(43697),o=r(20102),i=r(609),n=r(95330),a=r(20941),l=r(5600),u=r(52525);const p="loaded",h=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=r=>{const s=new Promise(((e,t)=>{const s=(0,n.$F)(r,t);this.destroyed&&t(new o.Z("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this._promiseProps.when(e,t).finally((()=>{s&&s.remove()}))}));if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");const e=this._loadController=(0,n.yi)();t({signal:e.signal}),(0,n.fu)(e.signal,(()=>{this._promiseProps.abort()}))}return e(),s}}))),this.when((()=>{this._set("loadStatus",p),this._loadController=null}),(e=>{this._set("loadStatus","failed"),this._set("loadError",e),this._loadController=null}))}get loaded(){return this.loadStatus===p}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var e;return this.isFulfilled()||(this._set("loadError",new o.Z("load:cancelled","Cancelled")),null==(e=this._loadController)||e.abort()),this}};return(0,s._)([(0,l.Cb)({readOnly:!0})],t.prototype,"loaded",null),(0,s._)([(0,l.Cb)({readOnly:!0})],t.prototype,"loadError",void 0),(0,s._)([(0,l.Cb)()],t.prototype,"loadStatus",void 0),(0,s._)([(0,l.Cb)({type:[a.Z],readOnly:!0})],t.prototype,"loadWarnings",null),t=(0,s._)([(0,u.j)("esri.core.Loadable")],t),t};let c=class extends(h(i.D)){};var d;c=(0,s._)([(0,u.j)("esri.core.Loadable")],c),(d=c||(c={})).LoadableMixin=h,d.isLoadable=function(e){return!(!e||!e.load)};var m=c},69801:(e,t,r)=>{r.d(t,{Xq:()=>o,WJ:()=>i});var s=r(44553);class o{constructor(e,t,r){this._namespace=e,this._storage=t,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),this._namespace+=":",r&&(this._storage.registerRemoveFunc(this._namespace,r),this._removeFunc=!0)}destroy(){this._storage.clear(this._namespace),this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace),this._storage.deregister(this),this._storage=null}get namespace(){return this._namespace.slice(0,-1)}get hitRate(){return this._hit/(this._hit+this._miss)}get size(){return this._storage.size}get maxSize(){return this._storage.maxSize}resetHitRate(){this._hit=this._miss=0}put(e,t,r,s=0){this._storage.put(this._namespace+e,t,r,s)}get(e){const t=this._storage.get(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this._namespace+e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,r){this._storage.updateSize(this._namespace+e,t,r)}clear(){this._storage.clear(this._namespace)}clearAll(){this._storage.clearAll()}getStats(){return this._storage.getStats()}resetStats(){this._storage.resetStats()}}class i{constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new s.Z,this._users=new s.Z}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get size(){return this._size}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimit()}put(e,t,r,s){const o=this._db.get(e);if(o&&(this._size-=o.size,this._db.delete(e),o.entry!==t&&this._notifyRemoved(e,o.entry)),r>this._maxSize)return void this._notifyRemoved(e,t);if(void 0===t)return void console.warn("Refusing to cache undefined entry ");if(!r||r<0)return void console.warn("Refusing to cache entry with invalid size "+r);const i=1+Math.max(s,-3)- -3;this._db.set(e,{entry:t,size:r,lifetime:i,lives:i}),this._size+=r,this._checkSizeLimit()}updateSize(e,t,r){const s=this._db.get(e);if(s&&s.entry===t){if(this._size-=s.size,r>this._maxSize)return this._db.delete(e),void this._notifyRemoved(e,t);s.size=r,this._size+=r,this._checkSizeLimit()}}pop(e){const t=this._db.get(e);if(t)return this._size-=t.size,this._db.delete(e),++this._hit,t.entry;++this._miss}get(e){const t=this._db.get(e);if(void 0!==t)return this._db.delete(e),t.lives=t.lifetime,this._db.set(e,t),++this._hit,t.entry;++this._miss}getStats(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},r=new Array;this._db.forEach(((e,s)=>{const o=e.lifetime;r[o]=(r[o]||0)+e.size,this._users.forAll((r=>{const o=r.namespace;if(s.startsWith(o)){const r=t[o]||0;t[o]=r+e.size}}))}));const s={};this._users.forAll((e=>{const r=e.namespace;if(!isNaN(e.hitRate)&&e.hitRate>0){const o=t[r]||0;t[r]=o,s[r]=Math.round(100*e.hitRate)+"%"}else s[r]="0%"}));const o=Object.keys(t);o.forEach((e=>t[e]=t[e]/this._size*100)),o.sort(((e,r)=>t[r]-t[e])),o.forEach((r=>e[r]=Math.round(t[r])+"% / "+s[r]));for(let t=r.length-1;t>=0;--t){const s=r[t];s&&(e["Priority "+(t+-3-1)]=Math.round(s/this.size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){this._db.forEach(((t,r)=>{r.startsWith(e)&&(this._size-=t.size,this._db.delete(r),this._notifyRemoved(r,t.entry))}))}clearAll(){this._db.forEach(((e,t)=>this._notifyRemoved(t,e.entry))),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemoved(e,t){this._removeFuncs.forAll((r=>{e.startsWith(r[0])&&r[1](t)}))}_checkSizeLimit(){if(!(this._size<=this._maxSize))for(const[e,t]of this._db)if(this._db.delete(e),t.lives<=1?(this._size-=t.size,this._notifyRemoved(e,t.entry)):(--t.lives,this._db.set(e,t)),this._size<=.9*this.maxSize)return}}},66643:(e,t,r)=>{r.d(t,{Ed:()=>i,UI:()=>n,q6:()=>a,mt:()=>l});var s=r(70586),o=r(95330);function i(e,t,r){return(0,o.as)(e.map(((e,s)=>t.apply(r,[e,s]))))}function n(e,t,r){return(0,o.as)(e.map(((e,s)=>t.apply(r,[e,s])))).then((e=>e.map((e=>e.value))))}function a(e){return(0,s.Wi)(e)?(0,o.DB)():e.then((e=>({ok:!0,value:e}))).catch((e=>({ok:!1,error:e})))}function l(e){return e.then((e=>({ok:!0,value:e}))).catch((e=>((0,o.r9)(e),{ok:!1,error:e})))}},70921:(e,t,r)=>{r.d(t,{R:()=>i,Z:()=>o});var s=r(81049);function o(e,t,r=s.Z){return t||(t=new r),t===e||(t.removeAll(),(o=e)&&(Array.isArray(o)||"items"in o&&Array.isArray(o.items))?t.addMany(e):e&&t.add(e)),t;var o}function i(e){return e}},60437:(e,t,r)=>{r.d(t,{Gv:()=>f,Ue:()=>o,cS:()=>c,fS:()=>y,TC:()=>n,pp:()=>a,JR:()=>d,al:()=>i,t8:()=>h,Tn:()=>p,op:()=>u,dp:()=>l});var s=r(70586);function o(e=g){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function i(e,t,r,s,i,n,a=o()){return a[0]=e,a[1]=t,a[2]=r,a[3]=s,a[4]=i,a[5]=n,a}function n(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function a(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function l(e,t=[0,0,0]){return t[0]=function(e){return e[0]>=e[3]?0:e[3]-e[0]}(e),t[1]=function(e){return e[1]>=e[4]?0:e[4]-e[1]}(e),t[2]=function(e){return e[2]>=e[5]?0:e[5]-e[2]}(e),t}function u(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function p(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function h(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function c(e){return e?h(e,f):o(f)}function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function m(e){return 6===e.length}function y(e,t,r){if((0,s.Wi)(e)||(0,s.Wi)(t))return e===t;if(!m(e)||!m(t))return!1;if(r){for(let s=0;s<e.length;s++)if(!r(e[s],t[s]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}r(6570),r(24470);const f=[1/0,1/0,1/0,-1/0,-1/0,-1/0],g=[0,0,0,0,0,0];o()},24470:(e,t,r)=>{r.d(t,{Gv:()=>c,SO:()=>u,r3:()=>h,Ue:()=>i,oJ:()=>a,al:()=>n,kK:()=>p,HH:()=>l}),r(80442),r(22021);var s=r(70586),o=r(6570);function i(e=d){return[e[0],e[1],e[2],e[3]]}function n(e,t,r,s,o=i()){return o[0]=e,o[1]=t,o[2]=r,o[3]=s,o}function a(e,t=i()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new o.Z({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function u(e){return function(e){return(0,s.Wi)(e)||e[0]>=e[2]?0:e[2]-e[0]}(e)*function(e){return e[1]>=e[3]?0:e[3]-e[1]}(e)}function p(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function h(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}const c=[1/0,1/0,-1/0,-1/0],d=[0,0,0,0]},38581:(e,t,r)=>{r.d(t,{aX:()=>w});var s=r(68773),o=r(20102),i=r(92604),n=r(70586),a=r(17332),l=r(58901),u=r(73913),p=r(8744),h=r(40488),c=(r(66577),r(3172)),d=r(17452),m=r(33955);const y=i.Z.getLogger("esri.geometry.support.normalizeUtils");function f(e){return"polygon"===e[0].type}function g(e){return"polyline"===e[0].type}function b(e,t,r){if(t){const t=function(e,t){if(!(e instanceof l.Z||e instanceof a.Z)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw y.error(e),new o.Z(e)}const r=(0,u.x3)(e),s=[];for(const e of r){const r=[];s.push(r),r.push([e[0][0],e[0][1]]);for(let s=0;s<e.length-1;s++){const o=e[s][0],i=e[s][1],n=e[s+1][0],a=e[s+1][1],l=Math.sqrt((n-o)*(n-o)+(a-i)*(a-i)),u=(a-i)/l,p=(n-o)/l,h=l/t;if(h>1){for(let e=1;e<=h-1;e++){const s=e*t,n=p*s+o,a=u*s+i;r.push([n,a])}const e=(l+Math.floor(h-1)*t)/2,s=p*e+o,n=u*e+i;r.push([s,n])}r.push([n,a])}}return function(e){return"polygon"===e.type}(e)?new a.Z({rings:s,spatialReference:e.spatialReference}):new l.Z({paths:s,spatialReference:e.spatialReference})}(e,1e6);e=(0,h.Sx)(t,!0)}return r&&(e=(0,u.Sy)(e,r)),e}function _(e,t,r){if(Array.isArray(e)){const s=e[0];if(s>t){const r=(0,u.XZ)(s,t);e[0]=s+r*(-2*t)}else if(s<r){const t=(0,u.XZ)(s,r);e[0]=s+t*(-2*r)}}else{const s=e.x;if(s>t){const r=(0,u.XZ)(s,t);e=e.clone().offset(r*(-2*t),0)}else if(s<r){const t=(0,u.XZ)(s,r);e=e.clone().offset(t*(-2*r),0)}}return e}function v(e,t){let r=-1;for(let s=0;s<t.cutIndexes.length;s++){const o=t.cutIndexes[s],i=t.geometries[s],n=(0,u.x3)(i);for(let e=0;e<n.length;e++){const t=n[e];t.some((r=>{if(r[0]<180)return!0;{let r=0;for(let e=0;e<t.length;e++){const s=t[e][0];r=s>r?s:r}r=Number(r.toFixed(9));const s=-360*(0,u.XZ)(r,180);for(let r=0;r<t.length;r++){const t=i.getPoint(e,r);i.setPoint(e,r,t.clone().offset(s,0))}return!0}}))}if(o===r){if(f(e))for(const t of(0,u.x3)(i))e[o]=e[o].addRing(t);else if(g(e))for(const t of(0,u.x3)(i))e[o]=e[o].addPath(t)}else r=o,e[o]=i}return e}async function w(e,t,r){if(!Array.isArray(e))return w([e],t);const o=t?t.url:s.Z.geometryServiceUrl;let i,y,f,g,C,S,x,O,M=0;const q=[],P=[];for(const t of e)if((0,n.Wi)(t))P.push(t);else if(i||(i=t.spatialReference,y=(0,p.C5)(i),f=i.isWebMercator,S=f?102100:4326,g=u.UZ[S].maxX,C=u.UZ[S].minX,x=u.UZ[S].plus180Line,O=u.UZ[S].minus180Line),y)if("mesh"===t.type)P.push(t);else if("point"===t.type)P.push(_(t.clone(),g,C));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>_(e,g,C))),P.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,y);P.push(e.rings?new a.Z(e):e)}else if(t.extent){const e=t.extent,r=(0,u.XZ)(e.xmin,C)*(2*g);let s=0===r?t.clone():(0,u.Sy)(t.clone(),r);e.offset(r,0),e.intersects(x)&&e.xmax!==g?(M=e.xmax>M?e.xmax:M,s=b(s,f),q.push(s),P.push("cut")):e.intersects(O)&&e.xmin!==C?(M=e.xmax*(2*g)>M?e.xmax*(2*g):M,s=b(s,f,360),q.push(s),P.push("cut")):P.push(s)}else P.push(t.clone());else P.push(t);let k=(0,u.XZ)(M,g),U=-90;const T=k,I=new l.Z;for(;k>0;){const e=360*k-180;I.addPath([[e,U],[e,-1*U]]),U*=-1,k--}if(q.length>0&&T>0){const t=v(q,await async function(e,t,r,s){const o="string"==typeof e?(0,d.mN)(e):e,i=t[0].spatialReference,n={...s,query:{...o.query,f:"json",sr:JSON.stringify(i),target:JSON.stringify({geometryType:(0,m.Ji)(t[0]),geometries:t}),cutter:JSON.stringify(r)}},a=await(0,c.default)(o.path+"/cut",n),{cutIndexes:l,geometries:u=[]}=a.data;return{cutIndexes:l,geometries:u.map((e=>{const t=(0,m.im)(e);return t.spatialReference=i,t}))}}(o,q,I,r)),s=[],i=[];for(let r=0;r<P.length;r++){const o=P[r];if("cut"!==o)i.push(o);else{const o=t.shift(),a=e[r];(0,n.pC)(a)&&"polygon"===a.type&&a.rings&&a.rings.length>1&&o.rings.length>=a.rings.length?(s.push(o),i.push("simplify")):i.push(f?(0,h.$)(o):o)}}if(!s.length)return i;const a=await async function(e,t,r){const s="string"==typeof e?(0,d.mN)(e):e,o=t[0].spatialReference,i=(0,m.Ji)(t[0]),n={...r,query:{...s.query,f:"json",sr:o.wkid?o.wkid:JSON.stringify(o),geometries:JSON.stringify((a=t,{geometryType:(0,m.Ji)(a[0]),geometries:a.map((e=>e.toJSON()))}))}};var a;return function(e,t,r){const s=(0,m.q9)(t);return e.map((e=>{const t=s.fromJSON(e);return t.spatialReference=r,t}))}((await(0,c.default)(s.path+"/simplify",n)).data,i,o)}(o,s,r),l=[];for(let e=0;e<i.length;e++){const t=i[e];"simplify"!==t?l.push(t):l.push(f?(0,h.$)(a.shift()):a.shift())}return l}const E=[];for(let e=0;e<P.length;e++){const t=P[e];if("cut"!==t)E.push(t);else{const e=q.shift();E.push(!0===f?(0,h.$)(e):e)}}return Promise.resolve(E)}},73913:(e,t,r)=>{r.d(t,{UZ:()=>n,x3:()=>u,XZ:()=>a,Sy:()=>l});var s=r(58901),o=r(82971),i=r(33955);const n={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new s.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:o.Z.WebMercator}),minus180Line:new s.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:o.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new s.Z({paths:[[[180,-180],[180,180]]],spatialReference:o.Z.WGS84}),minus180Line:new s.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:o.Z.WGS84})}};function a(e,t){return Math.ceil((e-t)/(2*t))}function l(e,t){const r=u(e);for(const e of r)for(const r of e)r[0]+=t;return e}function u(e){return(0,i.oU)(e)?e.rings:e.paths}},99514:(e,t,r)=>{function s(e){return"date"===e.type||"esriFieldTypeDate"===e.type}r.d(t,{Z:()=>o});class o{constructor(e){if(this.fields=e,this._fieldsMap=new Map,this._dateFieldsSet=new Set,this.dateFields=[],!e)return;const t=[];for(const r of e){const e=r&&r.name;if(e){const o=i(e);this._fieldsMap.set(e,r),this._fieldsMap.set(o,r),t.push(o),s(r)&&(this.dateFields.push(r),this._dateFieldsSet.add(r))}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}has(e){return null!=this.get(e)}get(e){return null!=e?this._fieldsMap.get(e)||this._fieldsMap.get(i(e)):void 0}isDateField(e){return this._dateFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name}}function i(e){return e.toLowerCase().trim()}},65587:(e,t,r)=>{r.d(t,{Z:()=>k});var s=r(43697),o=r(68773),i=(r(2587),r(40330)),n=r(3172),a=r(60235),l=r(20102),u=r(10736),p=r(83379),h=r(92604),c=r(70586),d=r(95330),m=r(5600),y=(r(80442),r(75215)),f=r(71715),g=r(52525),b=r(6570),_=r(41253),v=r(18855);let w=class extends v.Z{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};(0,s._)([(0,m.Cb)()],w.prototype,"nextQueryParams",void 0),(0,s._)([(0,m.Cb)()],w.prototype,"queryParams",void 0),(0,s._)([(0,m.Cb)()],w.prototype,"results",void 0),(0,s._)([(0,m.Cb)()],w.prototype,"total",void 0),w=(0,s._)([(0,g.j)("esri.portal.PortalQueryResult")],w);var C,S=w,x=r(86082),O=r(70171);let M;const q={PortalGroup:()=>Promise.resolve().then(r.bind(r,68916)),PortalItem:()=>Promise.resolve().then(r.bind(r,15235)),PortalUser:()=>Promise.resolve().then(r.bind(r,86082))};let P=C=class extends((0,u.eC)(p.Z)){constructor(e){super(e),this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=o.Z.portalUrl,this.urlKey=null,this.user=null,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)-1===o.Z.request.trustedServers.indexOf(t)&&o.Z.request.trustedServers.push(t);return e}readDefaultBasemap(e){if(e){const t=M.fromJSON(e);return t.portalItem={portal:this},t}return null}readDefaultVectorBasemap(e){if(e){const t=M.fromJSON(e);return t.portalItem={portal:this},t}return null}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get stylesGroupQuery(){return(0,a.Mr)(h.Z.getLogger(this.declaredClass),"stylesGroupQuery",{replacement:"stylesGroupQuery3d",version:"4.21"}),this.stylesGroupQuery3d}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=x.default.fromJSON(e),t.portal=this),t}load(e){const t=r.e(3202).then(r.bind(r,33202)).then((({default:t})=>{(0,d.k_)(e),M=t})).then((()=>this.sourceJSON?this.sourceJSON:this._fetchSelf(this.authMode,!1,e))).then((e=>{if(i.id){const e=i.id;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==C.AUTH_MODE_AUTO||(this._esriId_credentialCreateHandle=e.on("credential-create",(()=>{e.findCredential(this.restUrl)&&this._signIn()})))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createClosestFacilityTask(){(0,a.XV)(h.Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/closestFacility",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("closestFacility");return new(0,(await Promise.all([r.e(7319),r.e(1773),r.e(3389),r.e(7055)]).then(r.bind(r,17055))).default)(e)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await Promise.all([r.e(7558),r.e(5207)]).then(r.bind(r,49932))).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async createGeometryService(){(0,a.XV)(h.Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/geometryService",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("geometry");return new(0,(await r.e(9554).then(r.bind(r,29554))).default)({url:e})}async createPrintTask(){(0,a.XV)(h.Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/print",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("printTask");return new(0,(await Promise.all([r.e(7319),r.e(1773),r.e(6619)]).then(r.bind(r,16619))).default)(e)}async createRouteTask(){(0,a.XV)(h.Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/route",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("route");return new(0,(await Promise.all([r.e(7319),r.e(1773),r.e(3389),r.e(9489)]).then(r.bind(r,39489))).default)(e)}async createServiceAreaTask(){(0,a.XV)(h.Z.getLogger(this.declaredClass),null,{replacement:"Use helperServices url with esri/rest/serviceArea",version:"4.21"}),await this.load();const e=this._getHelperServiceUrl("serviceArea");return new(0,(await Promise.all([r.e(7319),r.e(1773),r.e(3389),r.e(7039)]).then(r.bind(r,57039))).default)(e)}fetchBasemaps(e,t){const r=new _.Z;return r.query=e||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0,this.queryGroups(r,t).then((e=>{if(r.num=100,r.query='type:"Web Map" -type:"Web Application"',e.total){const s=e.results[0];return r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc",s.queryItems(r,t)}return null})).then((e=>{let t;return t=e&&e.total?e.results.filter((e=>"Web Map"===e.type)).map((e=>new M({portalItem:e}))):[],t}))}fetchCategorySchema(e){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):(0,d.Hc)(e)?Promise.reject((0,d.zE)()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new _.Z;if(r.num=100,r.sortField="title",t&&t.length){const s=[];for(const e of t)s.push(`(title:"${e.title}" AND owner:${e.owner})`);return r.query=s.join(" OR "),this.queryGroups(r,e).then((e=>e.results))}return(0,d.Hc)(e)?Promise.reject((0,d.zE)()):Promise.resolve([])}fetchRegions(e){const t=this.user&&this.user.culture||this.culture||(0,O.Kd)();return this._request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}static getDefault(){return C._default&&!C._default.destroyed||(C._default=new C),C._default}queryGroups(e,t){return this._queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this._queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this._queryPortal("/community/users",e,"PortalUser",t)}toJSON(){throw new l.Z("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new C({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new l.Z("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}_getHelperServiceUrl(e){const t=this._getHelperService(e);if(!t.url)throw new l.Z("portal:service-url-not-found",`The \`helperServices\` entry "${e}" does not include a \`url\` value`);return t.url}_fetchSelf(e=this.authMode,t=!1,r){const s=this.restUrl+"/portals/self",o={authMode:e,query:{culture:(0,O.Kd)().toLowerCase()},...r};return"auto"===o.authMode&&(o.authMode="no-prompt"),t&&(o.query.default=!0),this._request(s,o)}_queryPortal(e,t,r,s){const o=(0,y.se)(_.Z,t),i=t=>this._request(this.restUrl+e,{...o.toRequestOptions(this),...s}).then((e=>{const r=o.clone();return r.start=e.nextStart,new S({nextQueryParams:r,queryParams:o,total:e.total,results:C._resultsToTypedArray(t,{portal:this},e,s)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>((0,d.r9)(t),e)))));return r&&q[r]?q[r]().then((({default:e})=>((0,d.k_)(s),i(e)))):i()}_signIn(){if(this.authMode===C.AUTH_MODE_ANONYMOUS)return Promise.reject(new l.Z("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this._fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this._fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return i.id?i.id.getCredential(this.restUrl).then((t=>e(t))):e(this.credential)}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.indexOf("?")>-1?"&":"?")+"token="+t:e)}_requestToTypedArray(e,t,r){return this._request(e,t).then((e=>{const t=C._resultsToTypedArray(r,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}_request(e,t={}){const r={f:"json",...t.query},{authMode:s=(this.authMode===C.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:o=null,cacheBust:i=!1,method:a="auto",responseType:l="json",signal:u}=t,p={authMode:s,body:o,cacheBust:i,method:a,query:r,responseType:l,timeout:0,signal:u};return(0,n.default)(this._normalizeSSL(e),p).then((e=>e.data))}static _resultsToTypedArray(e,t,r,s){let o;if(r){const i=(0,c.pC)(s)?s.signal:null;o=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(o=o.map((r=>{const s=Object.assign(e?e.fromJSON(r):r,t);return"function"==typeof s.load&&s.load(i),s})))}else o=[];return o}};P.AUTH_MODE_ANONYMOUS="anonymous",P.AUTH_MODE_AUTO="auto",P.AUTH_MODE_IMMEDIATE="immediate",(0,s._)([(0,m.Cb)()],P.prototype,"access",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"allSSL",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"authMode",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"authorizedCrossOriginDomains",void 0),(0,s._)([(0,f.r)("authorizedCrossOriginDomains")],P.prototype,"readAuthorizedCrossOriginDomains",null),(0,s._)([(0,m.Cb)()],P.prototype,"basemapGalleryGroupQuery",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"bingKey",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"canListApps",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"canListData",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"canListPreProvisionedItems",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"canProvisionDirectPurchase",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"canSearchPublic",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"canShareBingPublic",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"canSharePublic",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"canSignInArcGIS",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"canSignInIDP",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"colorSetsGroupQuery",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"commentsEnabled",void 0),(0,s._)([(0,m.Cb)({type:Date})],P.prototype,"created",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"credential",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"culture",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"currentVersion",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"customBaseUrl",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"defaultBasemap",void 0),(0,s._)([(0,f.r)("defaultBasemap")],P.prototype,"readDefaultBasemap",null),(0,s._)([(0,m.Cb)({type:b.Z})],P.prototype,"defaultExtent",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"defaultVectorBasemap",void 0),(0,s._)([(0,f.r)("defaultVectorBasemap")],P.prototype,"readDefaultVectorBasemap",null),(0,s._)([(0,m.Cb)()],P.prototype,"description",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"eueiEnabled",void 0),(0,s._)([(0,m.Cb)({readOnly:!0})],P.prototype,"extraQuery",null),(0,s._)([(0,m.Cb)()],P.prototype,"featuredGroups",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"featuredItemsGroupQuery",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"galleryTemplatesGroupQuery",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"livingAtlasGroupQuery",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"hasCategorySchema",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"helpBase",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"helperServices",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"helpMap",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"homePageFeaturedContent",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"homePageFeaturedContentCount",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"httpPort",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"httpsPort",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"id",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"ipCntryCode",void 0),(0,s._)([(0,m.Cb)({readOnly:!0})],P.prototype,"isOrganization",null),(0,s._)([(0,m.Cb)()],P.prototype,"isPortal",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"isReadOnly",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"layerTemplatesGroupQuery",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"maxTokenExpirationMinutes",void 0),(0,s._)([(0,m.Cb)({type:Date})],P.prototype,"modified",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"name",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"portalHostname",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"portalMode",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"portalProperties",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"region",void 0),(0,s._)([(0,m.Cb)({readOnly:!0})],P.prototype,"restUrl",null),(0,s._)([(0,m.Cb)()],P.prototype,"rotatorPanels",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"showHomePageDescription",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"sourceJSON",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"staticImagesUrl",void 0),(0,s._)([(0,m.Cb)({readOnly:!0,json:{read:!1}})],P.prototype,"stylesGroupQuery",null),(0,s._)([(0,m.Cb)({json:{name:"2DStylesGroupQuery"}})],P.prototype,"stylesGroupQuery2d",void 0),(0,s._)([(0,m.Cb)({json:{name:"stylesGroupQuery"}})],P.prototype,"stylesGroupQuery3d",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"supportsHostedServices",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"symbolSetsGroupQuery",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"templatesGroupQuery",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"thumbnail",void 0),(0,s._)([(0,m.Cb)({readOnly:!0})],P.prototype,"thumbnailUrl",null),(0,s._)([(0,m.Cb)()],P.prototype,"units",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"url",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"urlKey",void 0),(0,s._)([(0,f.r)("urlKey")],P.prototype,"readUrlKey",null),(0,s._)([(0,m.Cb)()],P.prototype,"user",void 0),(0,s._)([(0,f.r)("user")],P.prototype,"readUser",null),(0,s._)([(0,m.Cb)()],P.prototype,"useStandardizedQuery",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"useVectorBasemaps",void 0),(0,s._)([(0,m.Cb)()],P.prototype,"vectorBasemapGalleryGroupQuery",void 0),P=C=(0,s._)([(0,g.j)("esri.portal.Portal")],P);var k=P},68916:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var s=r(43697),o=r(20102),i=r(10736),n=r(5600),a=(r(80442),r(75215)),l=(r(92604),r(52525)),u=r(41253);let p=class extends i.wq{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return this.portal._request(this.url+"/categorySchema",e).then((t=>{const r=t.categorySchema||[];return r.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):r}))}fetchMembers(e){return this.portal._request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new o.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=(0,a.se)(u.Z,e);return parseFloat(this.portal.currentVersion)>5?(r=r||new u.Z,this.portal._queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new u.Z,r.query="group:"+this.id+(r.query?" "+r.query:""),this.portal.queryItems(r,t))}_fetchCategorySchemaSet(e,t){return this.portal._fetchSelf(this.portal.authMode,!0,t).then((e=>{const r=e.contentCategorySetsGroupQuery;if(r){const e=new u.Z;return e.disableExtraQuery=!0,e.num=1,e.query=r,this.portal.queryGroups(e,t)}throw new o.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((r=>{if(r.total){const s=r.results[0],o=new u.Z;return o.num=1,o.query=`typekeywords:"${e}"`,s.queryItems(o,t)}throw new o.Z("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>e.total?e.results[0].fetchData("json",t).then((e=>{const t=e&&e.categorySchema;return t&&t.length?t:[]})):[]))}};(0,s._)([(0,n.Cb)()],p.prototype,"access",void 0),(0,s._)([(0,n.Cb)({type:Date})],p.prototype,"created",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"description",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"id",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"isInvitationOnly",void 0),(0,s._)([(0,n.Cb)({type:Date})],p.prototype,"modified",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"owner",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"portal",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"snippet",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"sortField",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"sortOrder",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"tags",void 0),(0,s._)([(0,n.Cb)()],p.prototype,"thumbnail",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],p.prototype,"thumbnailUrl",null),(0,s._)([(0,n.Cb)()],p.prototype,"title",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],p.prototype,"url",null),p=(0,s._)([(0,l.j)("esri.portal.PortalGroup")],p);var h=p},15235:(e,t,r)=>{r.r(t),r.d(t,{default:()=>q});var s=r(43697),o=r(99880),i=r(20102),n=r(10736),a=r(22974),l=r(83379),u=r(70586),p=r(17452),h=r(5600),c=r(75215),d=(r(80442),r(92604)),m=r(71715),y=r(52525),f=r(6570),g=r(65587),b=r(18855),_=r(90578);const v=d.Z.getLogger("esri.portal.PortalItemResource");let w=class extends b.Z{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this.normalizePath(e.path,e.portalItem)}:e}set path(e){(0,u.pC)(e)&&(0,p.YP)(e)?v.error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this.normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.url;if((0,u.Wi)(r))throw new i.Z("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal._request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:(0,u.U2)(t,"signal")})}async update(e,t){return(await r.e(7873).then(r.bind(r,97873))).addOrUpdateResource(this,"update",e,t)}hasPath(){return(0,u.pC)(this.path)}normalizePath(e,t){return(0,u.Wi)(e)?e:(e=e.replace(/^\/+/,""),(0,u.pC)(t)&&(0,p.YP)(e)&&(e=(0,p.PF)(e,t.itemUrl)),e.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};(0,s._)([(0,h.Cb)()],w.prototype,"portalItem",void 0),(0,s._)([(0,h.Cb)({type:String,value:null})],w.prototype,"path",null),(0,s._)([(0,_.p)("path")],w.prototype,"_castPath",null),(0,s._)([(0,h.Cb)({type:String,readOnly:!0})],w.prototype,"url",null),(0,s._)([(0,h.Cb)({type:String,readOnly:!0})],w.prototype,"itemRelativeUrl",null),w=(0,s._)([(0,y.j)("esri.portal.PortalItemResource")],w);var C=w;let S=class extends b.Z{constructor(e){super(e),this.created=null,this.rating=null}};(0,s._)([(0,h.Cb)()],S.prototype,"created",void 0),(0,s._)([(0,h.Cb)()],S.prototype,"rating",void 0),S=(0,s._)([(0,y.j)("esri.portal.PortalRating")],S);var x,O=S;let M=x=class extends((0,n.eC)(l.Z)){constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}static from(e){return(0,c.TJ)(x,e)}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return"Feature Service"===e||"Feature Collection"===e?r=t.indexOf("Table")>-1?"Table":t.indexOf("Route Layer")>-1?"Route Layer":t.indexOf("Markup")>-1?"Markup":"Feature Layer":"Image Service"===e?r=t.indexOf("Elevation 3D Layer")>-1?"Elevation Layer":t.indexOf("Tiled Imagery")>-1?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?r="Scene Layer":"Scene Package"===e?r="Scene Layer Package":"Stream Service"===e?r="Feature Layer":"Geoprocessing Service"===e&&this.portal&&this.portal.isPortal?r=t.indexOf("Web Tool")>-1?"Tool":"Geoprocessing Service":"Geocoding Service"===e?r="Locator":"Geoenrichment Service"===e?r="GeoEnrichment Service":"Microsoft Powerpoint"===e?r="Microsoft PowerPoint":"GeoJson"===e?r="GeoJSON":"Globe Service"===e?r="Globe Layer":"Vector Tile Service"===e?r="Tile Layer":"netCDF"===e?r="NetCDF":"Map Service"===e?r=-1===t.indexOf("Spatiotemporal")&&(t.indexOf("Hosted Service")>-1||t.indexOf("Tiled")>-1)&&-1===t.indexOf("Relational")?"Tile Layer":"Map Image Layer":e&&e.toLowerCase().indexOf("add in")>-1?r=e.replace(/(add in)/gi,"Add-In"):"datastore catalog service"===e?r="Big Data File Share":"Compact Tile Package"===e?r="Tile Package (tpkx)":"OGCFeatureServer"===e&&(r="OGC Feature Layer"),r}readExtent(e){return e&&e.length?new f.Z(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[];let r,s=!1,i=!1,n=!1,a=!1,l=!1,u=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(s=t.indexOf("Hosted Service")>-1,"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(i=t.indexOf("Table")>-1,n=t.indexOf("Route Layer")>-1,a=t.indexOf("Markup")>-1,l=-1!==t.indexOf("Spatiotemporal"),u=-1!==t.indexOf("UtilityNetwork"),r=l&&i?"spatiotemporaltable":i?"table":n?"routelayer":a?"markup":l?"spatiotemporal":s?"featureshosted":u?"utilitynetwork":"features"):r="map service"===e||"wms"===e||"wmts"===e?s||t.indexOf("Tiled")>-1||"wmts"===e?"maptiles":"mapimages":"scene service"===e?t.indexOf("Line")>-1?"sceneweblayerline":t.indexOf("3DObject")>-1?"sceneweblayermultipatch":t.indexOf("Point")>-1?"sceneweblayerpoint":t.indexOf("IntegratedMesh")>-1?"sceneweblayermesh":t.indexOf("PointCloud")>-1?"sceneweblayerpointcloud":t.indexOf("Polygon")>-1?"sceneweblayerpolygon":t.indexOf("Building")>-1?"sceneweblayerbuilding":t.indexOf("Voxel")>-1?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.indexOf("Elevation 3D Layer")>-1?"elevationlayer":t.indexOf("Tiled Imagery")>-1?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"geoprocessing service"===e&&t.indexOf("Web Tool")>-1&&this.portal&&this.portal.isPortal?"tool":"layers"):r="web map"===e||"cityengine web scene"===e?"maps":"web scene"===e?t.indexOf("ViewingMode-Local")>-1?"webscenelocal":"websceneglobal":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?"apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.indexOf("ArcGIS Pro")>-1||"explorer map"===e&&t.indexOf("Explorer Document")?"mapsgray":"service definition"===e||"csv"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"360 vr experience"===e||"netcdf"===e||"administrative report"===e?"datafiles":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?"appsgray":"arcgis pro add in"===e||"arcgis pro configuration"===e?"addindesktop":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"form"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"image"===e||"workflow manager package"===e||"explorer map"===e&&t.indexOf("Explorer Mapping Application")>-1||t.indexOf("Document")>-1?"datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?"toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?"layersgray":"scene package"===e?"scenepackage":"mobile scene package"===e?"mobilescenepackage":"tile package"===e||"compact tile package"===e?"tilepackage":"task file"===e?"taskfile":"report template"===e?"report-template":"statistical data collection"===e?"statisticaldatacollection":"insights workbook"===e?"workbook":"insights model"===e?"insightsmodel":"insights page"===e?"insightspage":"insights theme"===e?"insightstheme":"hub initiative"===e?"hubinitiative":"hubpage"===e?"hubpage":"hub event"===e?"hubevent":"hub site application"===e?"hubsite":"relational database connection"===e?"relationaldatabaseconnection":"big data file share"===e?"datastorecollection":"image collection"===e?"imagecollection":"style"===e?"style":"desktop style"===e?"desktopstyle":"dashboard"===e?"dashboard":"raster function template"===e?"rasterprocessingtemplate":"vector tile package"===e?"vectortilepackage":"ortho mapping project"===e?"orthomappingproject":"ortho mapping template"===e?"orthomappingtemplate":"solution"===e?"solutions":"geopackage"===e?"geopackage":"deep learning package"===e?"deeplearningpackage":"real time analytic"===e?"realtimeanalytics":"big data analytic"===e?"bigdataanalytics":"feed"===e?"feed":"excalibur imagery project"===e?"excaliburimageryproject":"notebook"===e?"notebook":"storymap"===e?"storymap":"survey123 add in"===e?"survey123addin":"mission"===e?"mission":"mission report"===e?"missionreport":"quickcapture project"===e?"quickcaptureproject":"pro report"===e?"proreport":"urban model"===e?"urbanmodel":"web experience"===e?"experiencebuilder":"web experience template"===e?"webexperiencetemplate":"workflow"===e?"workflow":"insights script"===e?"insightsscript":"kernel gateway connection"===e?"kernelgatewayconnection":"hub initiative template"===e?"hubinitiativetemplate":"storymap theme"===e?"storymaptheme":"knowledge graph"===e?"knowledgegraph":"native application"===e?"nativeapp":"native application installer"===e?"nativeappinstaller":"link chart"===e?"linkchart":"investigation"===e?"investigation":"ogcfeatureserver"===e?"features":"pro project"===e?"proproject":"insights workbook package"===e?"insightsworkbookpackage":"apache parquet"===e?"apacheparquet":"maps",r?(0,o.V)("esri/images/portal/"+r+"16.png"):null}get isLayer(){return["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","WMTS","WMS"].indexOf(this.type)>-1}get itemUrl(){const e=this.get("portal.restUrl");return e?e+"/content/items/"+this.id:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");return t?`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`:null}load(e){this.portal||(this.portal=g.Z.getDefault());const t=this.portal.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?this.portal._request(this.itemUrl,{signal:(0,u.pC)(e)?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}addRating(e){const t={method:"post",query:{}};return e instanceof O&&(e=e.rating),isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal._request(this.itemUrl+"/addRating",t).then((()=>new O({rating:e,created:new Date})))}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:(0,a.d9)(this.applicationProxies),avgRating:this.avgRating,categories:(0,a.d9)(this.categories),created:(0,a.d9)(this.created),culture:this.culture,description:this.description,extent:(0,a.d9)(this.extent),groupCategories:(0,a.d9)(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:(0,a.d9)(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:(0,a.d9)(this.screenshots),size:this.size,snippet:this.snippet,tags:(0,a.d9)(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:(0,a.d9)(this.typeKeywords),url:this.url};return this.loaded&&(e.loadStatus="loaded"),new x({sourceJSON:this.sourceJSON}).set(e)}createPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}deleteRating(){return this.portal._request(this.itemUrl+"/deleteRating",{method:"post"}).then((()=>{}))}fetchData(e="json",t){return this.portal._request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}fetchRating(e){return this.portal._request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e}).then((e=>null!=e.rating?(e.created=new Date(e.created),new O(e)):null))}fetchRelatedItems(e,t){return this.portal._requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},x)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return this.portal._request(this.itemUrl,{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const e in r.query)null===r.query[e]&&(r.query[e]="");return r.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?r.query.text=t:"object"==typeof t&&(r.query.text=JSON.stringify(t))),this.portal._request(`${this.userItemUrl}/update`,r).then((()=>this.reload()))})):Promise.reject(new i.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}updateThumbnail(e){return this.id?this.load().then((()=>this.portal._signIn())).then((()=>{const t=e.thumbnail,r=e.filename,s={method:"post"};if("string"==typeof t)(0,p.HK)(t)?s.query={data:t}:s.query={url:(0,p.hF)(t)},(0,u.pC)(r)&&(s.query.filename=r);else{const e=new FormData;(0,u.pC)(r)?e.append("file",t,r):e.append("file",t),s.body=e}return this.portal._request(`${this.userItemUrl}/updateThumbnail`,s).then((()=>this.reload()))})):Promise.reject(new i.Z("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){return(await r.e(7873).then(r.bind(r,97873))).fetchResources(this,e,t)}async addResource(e,t,s){const o=await r.e(7873).then(r.bind(r,97873));return e.portalItem=this,o.addOrUpdateResource(e,"add",t,s)}async removeResource(e,t){const s=await r.e(7873).then(r.bind(r,97873));if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new i.Z("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return s.removeResource(this,e,t)}async removeAllResources(e){return(await r.e(7873).then(r.bind(r,97873))).removeAllResources(this,e)}resourceFromPath(e){return new C({portalItem:this,path:e})}toJSON(){const e=this.extent,t={created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,tags:this.tags,thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:this.typeKeywords,url:this.url};return(0,a.yd)(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new x({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};(0,s._)([(0,h.Cb)({type:["private","shared","org","public"]})],M.prototype,"access",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"accessInformation",void 0),(0,s._)([(0,h.Cb)({type:String})],M.prototype,"apiKey",void 0),(0,s._)([(0,h.Cb)({json:{read:{source:"appProxies"}}})],M.prototype,"applicationProxies",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"avgRating",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"categories",void 0),(0,s._)([(0,h.Cb)({type:Date})],M.prototype,"created",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"culture",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"description",void 0),(0,s._)([(0,h.Cb)({readOnly:!0})],M.prototype,"displayName",null),(0,s._)([(0,h.Cb)({type:f.Z})],M.prototype,"extent",void 0),(0,s._)([(0,m.r)("extent")],M.prototype,"readExtent",null),(0,s._)([(0,h.Cb)()],M.prototype,"groupCategories",void 0),(0,s._)([(0,h.Cb)({readOnly:!0})],M.prototype,"iconUrl",null),(0,s._)([(0,h.Cb)()],M.prototype,"id",void 0),(0,s._)([(0,h.Cb)({readOnly:!0})],M.prototype,"isLayer",null),(0,s._)([(0,h.Cb)()],M.prototype,"itemControl",void 0),(0,s._)([(0,h.Cb)({readOnly:!0})],M.prototype,"itemUrl",null),(0,s._)([(0,h.Cb)()],M.prototype,"licenseInfo",void 0),(0,s._)([(0,h.Cb)({type:Date})],M.prototype,"modified",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"name",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"numComments",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"numRatings",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"numViews",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"owner",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"ownerFolder",void 0),(0,s._)([(0,h.Cb)({type:g.Z})],M.prototype,"portal",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"screenshots",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"size",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"snippet",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"sourceJSON",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"tags",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"thumbnail",void 0),(0,s._)([(0,h.Cb)({readOnly:!0})],M.prototype,"thumbnailUrl",null),(0,s._)([(0,h.Cb)()],M.prototype,"title",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"type",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"typeKeywords",void 0),(0,s._)([(0,h.Cb)()],M.prototype,"url",void 0),(0,s._)([(0,h.Cb)({readOnly:!0})],M.prototype,"userItemUrl",null),M=x=(0,s._)([(0,y.j)("esri.portal.PortalItem")],M);var q=M},41253:(e,t,r)=>{r.d(t,{Z:()=>f});var s,o=r(43697),i=r(18855),n=r(35454),a=r(22974),l=r(70586),u=r(5600),p=(r(75215),r(80442),r(92604),r(52525)),h=r(6570),c=r(82971),d=r(40488);const m=new n.Xn({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let y=s=class extends i.Z{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new s({categories:this.categories?(0,a.d9)(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r,s;if(this.categories&&(r=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e))),this.extent){const e=(0,d.iV)(this.extent,c.Z.WGS84);(0,l.pC)(e)&&(s=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let o=this.query;!this.disableExtraQuery&&e.extraQuery&&(o="("+o+")"+e.extraQuery);const i={categories:r,bbox:s,q:o,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(i.sortField=this.sortField.split(",").map((e=>m.toJSON(e.trim()))).join(","),i.sortOrder=this.sortOrder),{query:{...t,...i}}}};(0,o._)([(0,u.Cb)()],y.prototype,"categories",void 0),(0,o._)([(0,u.Cb)()],y.prototype,"disableExtraQuery",void 0),(0,o._)([(0,u.Cb)({type:h.Z})],y.prototype,"extent",void 0),(0,o._)([(0,u.Cb)()],y.prototype,"num",void 0),(0,o._)([(0,u.Cb)()],y.prototype,"query",void 0),(0,o._)([(0,u.Cb)()],y.prototype,"sortField",void 0),(0,o._)([(0,u.Cb)()],y.prototype,"sortOrder",null),(0,o._)([(0,u.Cb)()],y.prototype,"start",void 0),y=s=(0,o._)([(0,p.j)("esri.portal.PortalQueryParams")],y);var f=y},86082:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var s=r(43697),o=r(20102),i=r(10736),n=r(5600),a=(r(80442),r(75215),r(92604),r(52525));let l=class extends i.wq{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new o.Z("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};(0,s._)([(0,n.Cb)({type:Date})],l.prototype,"created",void 0),(0,s._)([(0,n.Cb)()],l.prototype,"id",void 0),(0,s._)([(0,n.Cb)()],l.prototype,"portal",void 0),(0,s._)([(0,n.Cb)()],l.prototype,"title",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],l.prototype,"url",null),(0,s._)([(0,n.Cb)()],l.prototype,"username",void 0),l=(0,s._)([(0,a.j)("esri.portal.PortalFolder")],l);var u,p=l,h=r(68916);let c=u=class extends i.wq{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal._normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,s=e&&e.folder,o={method:"post"};t&&(o.query=t.createPostQuery(),null!=r&&("string"==typeof r?o.query.text=r:"object"==typeof r&&(o.query.text=JSON.stringify(r))));let i=this.userContentUrl;return s&&(i+="/"+("string"==typeof s?s:s.id)),this.portal._request(i+"/addItem",o).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal._request(t+`/items/${e.id}/delete`,{method:"post"}).then((()=>{e.id=null,e.portal=null}))}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map((e=>e.id));if(r.length){const s={method:"post",query:{items:r.join(",")}};return this.portal._request(t,s).then((()=>{e.forEach((e=>{e.id=null,e.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){return this.portal._request(this.userContentUrl,{query:{num:1}}).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=p.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal._request(this.url).then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=h.default.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchItems(e){e||(e={});let t,s=this.userContentUrl;return e.folder&&(s+="/"+e.folder.id),Promise.resolve().then(r.bind(r,15235)).then((({default:r})=>{t=r;const o={folders:!1,num:e.num||10,start:e.start||1,sortField:e.sortField||"created",sortOrder:e.sortOrder||"asc"};return this.portal._request(s,{query:o})})).then((e=>{let r;return e&&e.items?(r=e.items.map((e=>{const r=t.fromJSON(e);return r.portal=this.portal,r})),Promise.all(r.map((e=>e.load()))).catch((e=>e)).then((()=>({items:r,nextStart:e.nextStart,total:e.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal._request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new h.default({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new o.Z("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new o.Z("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new u;return t.sourceJSON=e,t.read(e),t}};(0,s._)([(0,n.Cb)()],c.prototype,"access",void 0),(0,s._)([(0,n.Cb)({type:Date})],c.prototype,"created",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"culture",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"description",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"email",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"favGroupId",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"fullName",void 0),(0,s._)([(0,n.Cb)({type:Date})],c.prototype,"modified",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"orgId",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"portal",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"preferredView",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"privileges",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"region",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"role",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"roleId",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"sourceJSON",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"thumbnail",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],c.prototype,"thumbnailUrl",null),(0,s._)([(0,n.Cb)()],c.prototype,"units",void 0),(0,s._)([(0,n.Cb)({readOnly:!0})],c.prototype,"userContentUrl",null),(0,s._)([(0,n.Cb)({readOnly:!0})],c.prototype,"url",null),(0,s._)([(0,n.Cb)()],c.prototype,"username",void 0),(0,s._)([(0,n.Cb)()],c.prototype,"userType",void 0),c=u=(0,s._)([(0,a.j)("esri.portal.PortalUser")],c);var d=c},3172:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var s=r(68773),o=r(40330),i=r(20102),n=r(16358),a=r(80442),l=r(22974),u=r(70586),p=r(95330),h=r(17452),c=r(71058),d=r(85958);async function m(e,t){const l=(0,h.HK)(e),d=(0,h.jc)(e);d||l||(e=(0,h.Fv)(e));const b={url:e,requestOptions:{...(0,u.Wg)(t)}};let _=(0,h.oh)(e);if(_){const e=await async function(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,s;try{s=await e.before(t)}catch(e){r=x("request:interceptor",e,t)}if((s instanceof Error||s instanceof i.Z)&&(r=x("request:interceptor",s,t)),r)throw e.error&&e.error(r),r;return s}}(_,b);if(null!=e)return{data:e,getHeader:w,requestOptions:b.requestOptions,url:b.url};_.after||_.error||(_=null)}if(e=b.url,"image"===(t=b.requestOptions).responseType){if((0,a.Z)("host-webworker")||(0,a.Z)("host-node"))throw x("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),b)}else if(l)throw x("request:invalid-parameters",new Error("Data URLs are not supported for responseType = "+t.responseType),b);if("head"===t.method){if(t.body)throw x("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),b);if(l||d)throw x("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),b)}if(await async function(){(0,a.Z)("host-webworker")?y||(y=await r.e(9884).then(r.bind(r,29884))):m._abortableFetch||(m._abortableFetch=n.Z.fetch.bind(n.Z))}(),y)return y.execute(e,t);const v=(0,p.yi)();(0,p.fu)(t,(()=>v.abort()));const C={controller:v,credential:null,credentialToken:null,fetchOptions:null,hasToken:!1,interceptor:_,params:b,redoRequest:!1,useIdentity:f.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},S=await async function(e){var t,r;let i,a;await async function(e){const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,a=r.body;let l=null,u=null,h=null;if(g&&"HTMLFormElement"in n.Z&&(a instanceof FormData?l=a:a instanceof HTMLFormElement&&(u=a,l=new FormData(u))),"string"==typeof a&&(h=a),e.fetchOptions={cache:r.cacheBust&&!m._abortableFetch.polyfill?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",redirect:"follow",signal:i},(l||h)&&(e.fetchOptions.body=l||h),"anonymous"===r.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query&&r.query.token||l&&l.get&&l.get("token")||u&&u.elements.token),!e.hasToken&&s.Z.apiKey&&(0,c.r)(t)&&(r.query||(r.query={}),r.query.token=s.Z.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!M(t)&&!(0,p.Hc)(i)){let s;"immediate"===r.authMode?(await O(),s=await o.id.getCredential(t,{signal:i}),e.credential=s):"no-prompt"===r.authMode?(await O(),s=await o.id.getCredential(t,{prompt:!1,signal:i}).catch((()=>{})),e.credential=s):o.id&&(s=o.id.findCredential(t)),s&&(e.credentialToken=s.token,e.useSSL=!!s.ssl)}}(e);try{do{[i,a]=await q(e)}while(!await k(e,i,a))}catch(t){const r=x("request:server",t,e.params,i);throw r.details.ssl=e.useSSL,e.interceptor&&e.interceptor.error&&e.interceptor.error(r),r}const l=e.params.url;if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(l)&&!e.hasToken&&!e.credentialToken&&null!=(t=a)&&null!=(r=t.user)&&r.username&&!(0,h.kl)(l)){const e=(0,h.P$)(l,!0);e&&f.trustedServers.push(e)}const u=e.credential;if(u&&o.id){const e=o.id.findServerInfo(u.server);let t=e&&e.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=o.id.findCredential(t,u.userId);e&&-1===o.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:a,getHeader:i?e=>i.headers.get(e):w,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}(C);return _&&_.after&&_.after(S),S}let y;const f=s.Z.request,g="FormData"in n.Z,b=[499,498,403,401],_=["COM_0056","COM_0057","SB_0008"],v=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],w=()=>null,C=Symbol();function S(e){const t=(0,h.P$)(e);return!t||t.endsWith(".arcgis.com")||m._corsServers.includes(t)||(0,h.kl)(t)}function x(e,t,r,s){let o="Error";const n={url:r.url,requestOptions:r.requestOptions,getHeader:w,ssl:!1};if(t instanceof i.Z)return t.details?(t.details=(0,l.d9)(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=n,t;if(t){const e=s&&(e=>s.headers.get(e)),r=s&&s.status,i=t.message;i&&(o=i),e&&(n.getHeader=e),n.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||r||0,n.subCode=t.subcode,n.messageCode=t.messageCode,"string"==typeof t.details?n.messages=[t.details]:n.messages=t.details,n.raw=C in t?t[C]:t}return(0,p.D_)(t)?(0,p.zE)():new i.Z(e,o,n)}async function O(){o.id||await Promise.all([r.e(7824),r.e(7304),r.e(5472),r.e(9625)]).then(r.bind(r,79339))}function M(e){return v.some((t=>t.test(e)))}async function q(e){let t=e.params.url;const r=e.params.requestOptions,s=e.fetchOptions,i=(0,h.jc)(t)||(0,h.HK)(t),n=r.responseType||"json",l=i?0:null!=r.timeout?r.timeout:f.timeout;let u=!1;if(!i){e.useSSL&&(t=(0,h.hO)(t)),r.cacheBust&&"default"===s.cache&&(t=(0,h.ZN)(t,"request.preventCache",Date.now()));let i={...r.query};e.credentialToken&&(i.token=e.credentialToken);let n=(0,h.B7)(i);(0,a.Z)("esri-url-encodes-apostrophe")&&(n=n.replace(/'/g,"%27"));const l=t.length+1+n.length;let p;u="delete"===r.method||"post"===r.method||"put"===r.method||!!r.body||l>f.maxUrlLength;const c=r.useProxy||!!(0,h.ed)(t);if(c){const e=(0,h.b7)(t);p=e.path,!u&&p.length+1+l>f.maxUrlLength&&(u=!0),e.query&&(i={...e.query,...i})}if("HEAD"===s.method&&(u||c)){if(u){if(l>f.maxUrlLength)throw x("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw x("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(c)throw x("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(u?(s.method="delete"===r.method?"DELETE":"put"===r.method?"PUT":"POST",r.body?t=(0,h.fl)(t,i):(s.body=(0,h.B7)(i),s.headers["Content-Type"]="application/x-www-form-urlencoded")):t=(0,h.fl)(t,i),c&&(e.useProxy=!0,t=`${p}?${t}`),i.token&&g&&s.body instanceof FormData){const e=s.body;e.set?e.set("token",i.token):e.append("token",i.token)}if(r.hasOwnProperty("withCredentials"))e.withCredentials=r.withCredentials;else if(!(0,h.D6)(t,h.Gd))if((0,h.kl)(t))e.withCredentials=!0;else if(o.id){const r=o.id.findServerInfo(t);r&&r.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(s.credentials="include")}let c,d,y=0,b=!1;l>0&&(y=setTimeout((()=>{b=!0,e.controller.abort()}),l));try{if("native-request-init"===r.responseType)d=s,d.url=t;else if("image"!==r.responseType||"default"!==s.cache||"GET"!==s.method||u||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(r.headers)||!i&&!e.useProxy&&f.proxyUrl&&!S(t)){if(c=await m._abortableFetch(t,s),e.useProxy||function(e){const t=(0,h.P$)(e);t&&!m._corsServers.includes(t)&&m._corsServers.push(t)}(t),"native"===r.responseType)d=c;else if("HEAD"!==s.method)if(c.ok){switch(n){case"array-buffer":d=await c.arrayBuffer();break;case"blob":case"image":d=await c.blob();break;default:d=await c.text()}if(y&&(clearTimeout(y),y=0),"json"===n||"xml"===n||"document"===n)if(d)switch(n){case"json":d=JSON.parse(d);break;case"xml":d=P(d,"application/xml");break;case"document":d=P(d,"text/html")}else d=null;if(d){if("array-buffer"===n||"blob"===n){const e=c.headers.get("Content-Type");if(/application\/json|text\/plain/i.test(e)&&d["blob"===n?"size":"byteLength"]<=750)try{const e=await new Response(d).json();e.error&&(d=e)}catch{}}"image"===n&&d instanceof Blob&&(d=await U(URL.createObjectURL(d),e,!0))}}else d=await c.text()}else d=await U(t,e)}catch(s){if("AbortError"===s.name){if(b)throw new Error("Timeout exceeded");throw(0,p.zE)("Request canceled")}if(!(!c&&s instanceof TypeError&&f.proxyUrl)||r.body||"delete"===r.method||"head"===r.method||"post"===r.method||"put"===r.method||e.useProxy||S(t))throw s;e.redoRequest=!0,(0,h.tD)({proxyUrl:f.proxyUrl,urlPrefix:(0,h.P$)(t)})}finally{y&&clearTimeout(y)}return[c,d]}function P(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function k(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const s=e.params.requestOptions;if(!t||"native"===s.responseType||"native-request-init"===s.responseType)return!0;let i,n,a,l;if(!t.ok)throw i=new Error(`Unable to load ${t.url} status: ${t.status}`),i[C]=r,i;null!=r&&r.error&&(i=r.error),i&&(n=Number(i.code),a=i.hasOwnProperty("subcode")?Number(i.subcode):null,l=i.messageCode,l=l&&l.toUpperCase());const u=s.authMode;if(403===n&&(4===a||i.message&&i.message.toLowerCase().indexOf("ssl")>-1&&-1===i.message.toLowerCase().indexOf("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==u||498===n)&&-1!==b.indexOf(n)&&!M(e.params.url)&&(403!==n||-1===_.indexOf(l)&&(null==a||2===a&&e.credentialToken))){await O();try{const t=await o.id.getCredential(e.params.url,{error:x("request:server",i,e.params),prompt:"no-prompt"!==u,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===u)return e.credential=null,e.credentialToken=null,!1;i=t}}if(i)throw i;return!0}function U(e,t,r=!1){const s=t.controller.signal,o=new Image;return t.withCredentials?o.crossOrigin="use-credentials":o.crossOrigin="anonymous",o.alt="",o.src=e,(0,d.f)(o,e,r,s)}m._abortableFetch=null,m._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"]},71058:(e,t,r)=>{r.d(t,{r:()=>i});var s=r(17452);const o=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function i(e){const t=(0,s.P$)(e,!0);return t&&t.endsWith(".arcgis.com")&&!o.includes(t)&&!e.endsWith("/sharing/rest/generateToken")}},85958:(e,t,r)=>{r.d(t,{f:()=>n});var s=r(80442),o=r(70586),i=r(95330);function n(e,t,r=!1,n){return new Promise(((l,u)=>{if((0,i.Hc)(n))return void u(a());let p=()=>{d(),u(new Error(`Unable to load ${t}`))},h=()=>{const t=e;d(),l(t)},c=()=>{if(!e)return;const t=e;d(),t.src="",u(a())};const d=()=>{(0,s.Z)("esri-image-decode")||(e.removeEventListener("error",p),e.removeEventListener("load",h)),p=null,h=null,e=null,(0,o.pC)(n)&&n.removeEventListener("abort",c),c=null,r&&URL.revokeObjectURL(t)};(0,o.pC)(n)&&n.addEventListener("abort",c),(0,s.Z)("esri-image-decode")?e.decode().then(h,p):(e.addEventListener("error",p),e.addEventListener("load",h))}))}function a(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}}}]);