self.webpackChunkRemoteClient([66],{117:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u}));var a=n(4);function r(e,t,n){return Object(a.j)(e.map((e,a)=>t.apply(n,[e,a])))}function l(e,t,n){return Object(a.j)(e.map((e,a)=>t.apply(n,[e,a]))).then(e=>e.map(e=>e.value))}function i(e){return e.then(e=>({ok:!0,value:e})).catch(e=>({ok:!1,error:e}))}function u(e){return e.then(e=>({ok:!0,value:e})).catch(e=>(Object(a.s)(e),{ok:!1,error:e}))}},201:function(e,t,n){"use strict";n.r(t),n.d(t,"load",(function(){return s}));var a=n(16),r=n(54),l=n(79),i=n(270),u=n(474),o=n(271);async function s(e,t){const n=e.instance.portalItem;return n&&n.id?(await n.load(t),function(e){const t=e.instance.portalItem;if(-1===e.supportedTypes.indexOf(t.type))throw new a.a("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:t.type,expectedType:e.supportedTypes.join(", ")})}(e),async function(e,t){const n=e.instance,a=n.portalItem,{url:r,title:l}=a,o=Object(u.a)(a);if("group"===n.type)return n.read({title:l},o),c(n,e);r&&n.read({url:r},o);const s=await f(e,t);return s&&n.read(s,o),n.resourceReferences={portalItem:a,paths:o.readResourcePaths},n.read({title:l},o),Object(i.a)(n,o)}(e,t)):Promise.resolve()}function c(e,t){let n;const l=e.portalItem.type;switch(l){case"Feature Service":n=o.a.FeatureLayer;break;case"Stream Service":n=o.a.StreamLayer;break;case"Scene Service":n=o.a.SceneLayer;break;case"Feature Collection":n=o.a.FeatureLayer;break;default:throw new a.a("portal:unsupported-item-type-as-group",`The item type '${l}' is not supported as a 'GroupLayer'`)}let i;return n().then(e=>(i=e,f(t))).then(t=>p(t)>0?d(e,i,t):function(e,t){if(!e.portalItem.url)return Promise.resolve();return Object(r.default)(e.portalItem.url,{responseType:"json",query:{f:"json"}}).then(n=>{var a,r;const l=n.data;function i(e){return{id:e.id,name:e.name}}l&&d(e,t,{layers:null==(a=l.layers)?void 0:a.map(i),tables:null==(r=l.tables)?void 0:r.map(i)})})}(e,i))}function d(e,t,n){let a=n.layers||[];const r=n.tables||[];"Feature Collection"===e.portalItem.type&&(a.forEach(e=>{var t;"Table"===(null==e||null==(t=e.layerDefinition)?void 0:t.type)&&r.push(e)}),a=a.filter(e=>{var t;return"Table"!==(null==e||null==(t=e.layerDefinition)?void 0:t.type)})),a.reverse().forEach(a=>{const r=y(e,t,n,a);e.add(r)}),r.reverse().forEach(a=>{const r=y(e,t,n,a);e.tables.add(r)})}function y(e,t,n,a){const r=new t({portalItem:e.portalItem.clone(),layerId:a.id,sublayerTitleMode:"service-name"});if("Feature Collection"===e.portalItem.type){const t={origin:"portal-item",portal:e.portalItem.portal||l.a.getDefault()};r.read(a,t);const i=n.showLegend;null!=i&&r.read({showLegend:i},t)}return r}function f(e,t){if(!1===e.supportsData)return Promise.resolve(void 0);const n=e.instance;return n.portalItem.fetchData("json",t).catch(()=>null).then(e=>{const t=e;let a;if(function(e){return"stream"!==e.type&&"layerId"in e}(n)){let r=!0;return e&&p(t)>0&&(null==n.layerId&&(n.layerId=function(e){const t=e.layers;if(t&&t.length)return t[0].id;const n=e.tables;return n&&n.length?n[0].id:null}(t)),a=function(e,t){const n=e.layers;if(n)for(let e=0;e<n.length;e++)if(n[e].id===t)return n[e];const a=e.tables;if(a)for(let e=0;e<a.length;e++)if(a[e].id===t)return a[e];return null}(t,n.layerId),a&&(1===p(t)&&(r=!1),null!=e.showLegend&&(a.showLegend=e.showLegend))),r&&"service-name"!==n.sublayerTitleMode&&(n.sublayerTitleMode="item-title-and-service-name"),a}return e})}function p(e){var t,n,a,r;return(null!=(t=null==e||null==(n=e.layers)?void 0:n.length)?t:0)+(null!=(a=null==e||null==(r=e.tables)?void 0:r.length)?a:0)}},270:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(40),r=n(4),l=n(117);async function i(e,t,n){const i=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(i&&"unique-value"===i.type&&i.styleOrigin){const u=await Object(l.c)(i.populateFromStyle());if(Object(r.t)(n),!1===u.ok){const n=u.error;t&&t.messages&&t.messages.push(new a.a("renderer:style-reference","Failed to create unique value renderer from style reference: "+n.message,{error:n,context:t})),e.clear("renderer",t.origin)}}}},271:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={BingMapsLayer:async()=>(await n.e(44).then(n.bind(null,426))).default,BuildingSceneLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(17),n.e(76)]).then(n.bind(null,408))).default,CSVLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(54)]).then(n.bind(null,427))).default,ElevationLayer:async()=>(await n.e(15).then(n.bind(null,418))).default,FeatureLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(60)]).then(n.bind(null,167))).default,GroupLayer:async()=>(await Promise.all([n.e(18),n.e(146)]).then(n.bind(null,356))).default,GeoRSSLayer:async()=>(await n.e(47).then(n.bind(null,393))).default,ImageryLayer:async()=>(await Promise.all([n.e(1),n.e(10),n.e(14),n.e(46)]).then(n.bind(null,409))).default,ImageryTileLayer:async()=>(await Promise.all([n.e(1),n.e(10),n.e(14),n.e(61)]).then(n.bind(null,407))).default,IntegratedMeshLayer:async()=>(await n.e(40).then(n.bind(null,415))).default,KMLLayer:async()=>(await Promise.all([n.e(1),n.e(34)]).then(n.bind(null,420))).default,MapImageLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(12),n.e(45)]).then(n.bind(null,360))).default,MapNotesLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(49)]).then(n.bind(null,421))).default,OpenStreetMapLayer:async()=>(await Promise.all([n.e(11),n.e(160)]).then(n.bind(null,397))).default,PointCloudLayer:async()=>(await n.e(33).then(n.bind(null,411))).default,RouteLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(55)]).then(n.bind(null,398))).default,SceneLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(3),n.e(17),n.e(161)]).then(n.bind(null,428))).default,StreamLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(41)]).then(n.bind(null,429))).default,TileLayer:async()=>(await Promise.all([n.e(1),n.e(2),n.e(12),n.e(48)]).then(n.bind(null,399))).default,UnknownLayer:async()=>(await n.e(73).then(n.bind(null,400))).default,UnsupportedLayer:async()=>(await n.e(74).then(n.bind(null,401))).default,VectorTileLayer:async()=>(await Promise.all([n.e(22),n.e(36)]).then(n.bind(null,410))).default,WebTileLayer:async()=>(await n.e(11).then(n.bind(null,311))).default,WMSLayer:async()=>(await n.e(37).then(n.bind(null,416))).default,WMTSLayer:async()=>(await Promise.all([n.e(11),n.e(162)]).then(n.bind(null,412))).default}},474:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(21),r=n(79);function l(e){return{origin:"portal-item",url:Object(a.I)(e.itemUrl),portal:e.portal||r.a.getDefault(),portalItem:e,readResourcePaths:[]}}}});