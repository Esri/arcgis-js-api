(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[7352,8669],{42885:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r,o=n(14983),i=n(18507),s=n(78351),l=n(17098),a=n(42963),u=n(14483),p=n(67380),c=n(2131),y=n(84066),d=(n(38215),n(77645),n(45851),n(74184)),f=n(64334);let m=r=class extends a.wq{constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:(0,c.D)(),configurable:!0})}normalizeCtorArgs(e,t,n,r){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:n,popupTemplate:r}}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&(0,p.pC)(t.defaultPopupTemplate))return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes&&this.attributes[e]}setAttribute(e,t){if(this.attributes){const n=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",n,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{geometry:(0,p.pC)(this.geometry)?this.geometry.toJSON():null,symbol:(0,p.pC)(this.symbol)?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}clone(){return new r(this.cloneProperties())}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}cloneProperties(){return{attributes:(0,u.d9)(this.attributes),geometry:(0,u.d9)(this.geometry),layer:this.layer,popupTemplate:this.popupTemplate&&this.popupTemplate.clone(),sourceLayer:this.sourceLayer,symbol:(0,u.d9)(this.symbol),visible:this.visible}}_notifyLayer(e,t,n,r){if(!this.layer||!("graphicChanged"in this.layer))return;const o={graphic:this,property:e,oldValue:t,newValue:n};"attributes"===e&&(o.attributeName=r),this.layer.graphicChanged(o)}};(0,o._)([(0,y.Cb)({value:null})],m.prototype,"attributes",null),(0,o._)([(0,y.Cb)({value:null,types:i.qM,json:{read:f.im}})],m.prototype,"geometry",null),(0,o._)([(0,y.Cb)({type:Boolean})],m.prototype,"isAggregate",void 0),(0,o._)([(0,y.Cb)()],m.prototype,"layer",void 0),(0,o._)([(0,y.Cb)({type:s.Z})],m.prototype,"popupTemplate",void 0),(0,o._)([(0,y.Cb)()],m.prototype,"sourceLayer",void 0),(0,o._)([(0,y.Cb)({value:null,types:l.LB})],m.prototype,"symbol",null),(0,o._)([(0,y.Cb)({type:Boolean,value:!0})],m.prototype,"visible",null),m=r=(0,o._)([(0,d.j)("esri.Graphic")],m),(m||(m={})).generateUID=c.D;const g=m},84807:(e,t,n)=>{"use strict";function r(){r=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,o){var s=new RegExp(e,r);return t.set(s,o||t.get(e)),i(s,n.prototype)}function s(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return o(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=s(n,this)),n},n.prototype[Symbol.replace]=function(n,r){if("string"==typeof r){var o=t.get(this);return e[Symbol.replace].call(this,n,r.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+o[t]})))}if("function"==typeof r){var i=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(s(e,i)),r.apply(this,e)}))}return e[Symbol.replace].call(this,n,r)},r.apply(this,arguments)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{_:()=>r})},74727:(e,t,n)=>{"use strict";n.d(t,{Hg:()=>m,uD:()=>d,V7:()=>f});var r=n(29438),o=n(35588),i=n(67380),s=n(87435);const l=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function a(e){return e instanceof r.Z}function u(e){return e instanceof o.Z?Object.keys(e.items):a(e)?(0,s.vw)(e).keys():e?Object.keys(e):[]}function p(e,t){return e instanceof o.Z?e.items[t]:e[t]}function c(e){return e?e.declaredClass:null}function y(e,t){const n=e.diff;if(n&&"function"==typeof n)return n(e,t);const r=u(e),o=u(t);if(0===r.length&&0===o.length)return;if(!r.length||!o.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const s=o.filter((e=>-1===r.indexOf(e))),d=r.filter((e=>-1===o.indexOf(e))),f=r.filter((n=>o.indexOf(n)>-1&&p(e,n)!==p(t,n))).concat(s,d).sort(),m=c(e);if(m&&l.indexOf(m)>-1&&f.length)return{type:"complete",oldValue:e,newValue:t};let g;const h=a(e)&&a(t);for(const r of f){const o=p(e,r),s=p(t,r);let l;(h||"function"!=typeof o&&"function"!=typeof s)&&o!==s&&(null==o&&null==s||(l=n&&n[r]&&"function"==typeof n[r]?n[r](o,s):"object"==typeof o&&"object"==typeof s&&c(o)===c(s)?y(o,s):{type:"complete",oldValue:o,newValue:s},(0,i.pC)(l)&&((0,i.pC)(g)?g.diff[r]=l:g={type:"partial",diff:{[r]:l}})))}return g}function d(e,t){if((0,i.Wi)(e))return!1;const n=t.split(".");let r=e;for(const e of n){if("complete"===r.type)return!0;if("partial"!==r.type)return!1;{const t=r.diff[e];if(!t)return!1;r=t}}return!0}function f(e,t){for(const n of t)if(d(e,n))return!0;return!1}function m(e,t){if("function"!=typeof e&&"function"!=typeof t&&(e||t))return!e||!t||"object"==typeof e&&"object"==typeof t&&c(e)!==c(t)?{type:"complete",oldValue:e,newValue:t}:y(e,t)}},2131:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});let r=0;function o(){return++r}},80361:(e,t,n)=>{"use strict";n.d(t,{lG:()=>v,q9:()=>l,my:()=>T,O3:()=>S});var r=n(8811),o=n(96535),i=n(47369);const s={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function l(e){return s[e]}function*a(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*u(e){if(!e)return null;switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const e of t)yield*e}}function p(e){for(const t of e)if(t.length>2)return!0;return!1}function c(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n],o=e[(n+1)%e.length];t+=r[0]*o[1]-o[0]*r[1]}return t<=0}function y(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function d(e,t,n){switch(t.type){case"LineString":return function(e,t,n){return g(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){for(const r of t.coordinates)g(e,r,n);return e}(e,t,n);case"MultiPoint":return function(e,t,n){return g(e,t.coordinates,n),e}(e,t,n);case"MultiPolygon":return function(e,t,n){for(const r of t.coordinates){f(e,r[0],n);for(let t=1;t<r.length;t++)m(e,r[t],n)}return e}(e,t,n);case"Point":return function(e,t,n){return b(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){const r=t.coordinates;f(e,r[0],n);for(let t=1;t<r.length;t++)m(e,r[t],n);return e}(e,t,n)}}function f(e,t,n){const r=y(t);!function(e){return!c(e)}(r)?g(e,r,n):h(e,r,n)}function m(e,t,n){const r=y(t);!function(e){return c(e)}(r)?g(e,r,n):h(e,r,n)}function g(e,t,n){for(const r of t)b(e,r,n);e.lengths.push(t.length)}function h(e,t,n){for(let r=t.length-1;r>=0;r--)b(e,t[r],n);e.lengths.push(t.length)}function b(e,t,n){const[r,o,i]=t;e.coords.push(r,o),n.hasZ&&e.coords.push(i||0)}function w(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function S(e){if(!e)throw new r.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new r.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:t}=e;if(!t)return;const n="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,o=new RegExp(".*(CRS84H?|4326)$","i");if(!n||!o.test(n))throw new r.Z("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function T(e,t={}){const n=[],r=new Set,o=new Set;let i,s=!1,c=Number.NEGATIVE_INFINITY,y=null,d=!1,{geometryType:f=null}=t,m=!1;for(const t of a(e)){const{geometry:e,properties:a,id:g}=t;if((!e||(f||(f=l(e.type)),l(e.type)===f))&&(s||(s=p(u(e))),d||(d=null!=g,d&&(i=typeof g,"number"===i&&(y=Object.keys(a).filter((e=>a[e]===g))))),d&&"number"===i&&null!=g&&(c=Math.max(c,g),y.length>1?y=y.filter((e=>a[e]===g)):1===y.length&&(y=a[y[0]]===g?y:[])),!m&&a)){let e=!0;for(const t in a){if(r.has(t))continue;const i=a[t];if(null==i){e=!1,o.add(t);continue}const s=w(i);"unknown"!==s?(o.delete(t),r.add(t),n.push({name:t,alias:t,type:s})):o.add(t)}m=e}}const g=y&&1===y.length&&y[0]||null;if(g)for(const e of n)e.name===g&&(e.type="esriFieldTypeOID");return{fields:n,geometryType:f,hasZ:s,maxObjectId:Math.max(0,c),objectIdFieldName:g,objectIdFieldType:i,unknownFields:Array.from(o)}}function v(e,t){return Array.from(function*(e,t={}){const{geometryType:n,objectIdField:r}=t;for(const a of e){var s;const{geometry:e,properties:u,id:p}=a;if(e&&l(e.type)!==n)continue;const c=u||{};let y=null!=(s=c[r])?s:null;r&&null!=p&&!c[r]&&(c[r]=y=p);const f=new o.Z(e?d(new i.Z,e,t):null,c,null,y);yield f}}(a(e),t))}},40702:(e,t,n)=>{"use strict";n.d(t,{MS:()=>p,Dm:()=>a,Hq:()=>u,bU:()=>l});var r=n(77645),o=n(14483),i=n(53296),s=n(12355);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.I4:"esriGeometryPolyline"===e?s.ET:s.lF}}}function a(e,t){if((0,r.Z)("csp-restrictions"))return()=>({[t]:null,...e});try{let n=`this.${t} = null;`;for(const t in e)n+=`this${t.indexOf(".")?`["${t}"]`:`.${t}`} = ${JSON.stringify(e[t])};`;const r=new Function(n);return()=>new r}catch(n){return()=>({[t]:null,...e})}}function u(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,o.d9)(e)}}]}function p(e,t){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0},query:i.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},34734:(e,t,n)=>{"use strict";n.d(t,{w9:()=>w,j:()=>S,G4:()=>T,gp:()=>v,eS:()=>F,T3:()=>j,KG:()=>_,yN:()=>C,WW:()=>I});var r=n(84807),o=(n(18507),n(93100)),i=n(8811),s=n(45851),l=n(67380),a=n(31174),u=n(18201),p=n(54997),c=n(96442),y=n(80361),d=n(40702),f=n(45787),m=n(76882),g=n(8669),h=n(61948);const b=s.Z.getLogger("esri.layers.graphics.sources.ogcfeature");async function w(e,t,n={},r=5){const{links:s}=e,a=Z(s,"items","application/geo+json")||Z(s,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json");if((0,l.Wi)(a))throw new i.Z("ogc-feature-layer:missing-items-page","Missing items url");const{data:u}=await(0,o.default)(a.href,{signal:n.signal,query:{limit:r,...n.customParameters,token:n.apiKey},headers:{accept:"application/geo+json"}});await(0,y.O3)(u);const p=(0,y.my)(u,{geometryType:t.geometryType}),c=t.fields||p.fields||[],g=null!=t.hasZ?t.hasZ:p.hasZ,h=p.geometryType,w=t.objectIdField||p.objectIdFieldName||"OBJECTID";let S=t.timeInfo;const T=c.find((e=>e.name===w));if(T)T.type="esriFieldTypeOID",T.editable=!1,T.nullable=!1;else{if(!p.objectIdFieldType)throw new i.Z("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");c.unshift({name:w,alias:w,type:"esriFieldTypeOID",editable:!1,nullable:!1})}if(w!==p.objectIdFieldName){const e=c.find((e=>e.name===p.objectIdFieldName));e&&(e.type="esriFieldTypeInteger")}if(!h)throw new i.Z("ogc-feature-layer:missing-property","geometryType not set and couldn't be inferred from the provided features");c===p.fields&&p.unknownFields.length>0&&b.warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:p.unknownFields}});for(const e of c){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),"esriFieldTypeOID"!==e.type&&"esriFieldTypeGlobalID"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new i.Z("ogc-feature-layer:invalid-field-name","field name is missing",{field:e});if(-1===m.v.jsonValues.indexOf(e.type))throw new i.Z("ogc-feature-layer:invalid-field-type",`invalid type for field "${e.name}"`,{field:e})}if(S){const e=new f.Z(c);if(S.startTimeField){const t=e.get(S.startTimeField);t?(S.startTimeField=t.name,t.type="esriFieldTypeDate"):S.startTimeField=null}if(S.endTimeField){const t=e.get(S.endTimeField);t?(S.endTimeField=t.name,t.type="esriFieldTypeDate"):S.endTimeField=null}if(S.trackIdField){const t=e.get(S.trackIdField);t?S.trackIdField=t.name:(S.trackIdField=null,b.warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:S}}))}S.startTimeField||S.endTimeField||(b.warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:S}}),S=null)}return{drawingInfo:(0,d.bU)(h),geometryType:h,fields:c,hasZ:!!g,objectIdField:w,timeInfo:S}}async function S(e,t={}){const{links:n}=e,r=Z(n,"data","application/json")||Z(n,"http://www.opengis.net/def/rel/ogc/1.0/data","application/json");if((0,l.Wi)(r))throw new i.Z("ogc-feature-layer:missing-collections-page","Missing collections url");const{apiKey:s,customParameters:a,signal:u}=t,{data:p}=await(0,o.default)(r.href,{signal:u,headers:{accept:"application/json"},query:{...a,token:s}});return p}async function T(e,t={}){const{links:n}=e,r=Z(n,"conformance","application/json")||Z(n,"http://www.opengis.net/def/rel/ogc/1.0/conformance","application/json");if((0,l.Wi)(r))throw new i.Z("ogc-feature-layer:missing-conformance-page","Missing conformance url");const{apiKey:s,customParameters:a,signal:u}=t,{data:p}=await(0,o.default)(r.href,{signal:u,headers:{accept:"application/json"},query:{...a,token:s}});return p}async function v(e,t={}){const{apiKey:n,customParameters:r,signal:i}=t,{data:s}=await(0,o.default)(e,{signal:i,headers:{accept:"application/json"},query:{...r,token:n}});return s}async function F(e,t={}){const n="application/vnd.oai.openapi+json;version=3.0",r=Z(e.links,"service-desc",n);if((0,l.Wi)(r))return b.warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null;const{apiKey:i,customParameters:s,signal:a}=t,{data:u}=await(0,o.default)(r.href,{signal:a,headers:{accept:n},query:{...s,token:i}});return u}function j(e){const t=(0,r._)(/^http:\/\/www\.opengis.net\/def\/crs\/(.*)\/(.*)\/(.*)$/i,{authority:1,version:2,code:3}).exec(e),n=null==t?void 0:t.groups;if(!n)return null;const{authority:o,code:i}=n;switch(o.toLowerCase()){case"ogc":switch(i.toLowerCase()){case"crs27":return h.Z.GCS_NAD_1927;case"crs83":return new h.Z({wkid:4269});case"crs84":case"crs84h":return h.Z.WGS84;default:return null}case"esri":case"epsg":{const e=Number.parseInt(i,10);return Number.isNaN(e)?null:900913===e?h.Z.WebMercator:new h.Z({wkid:e})}default:return null}}async function _(e,t,n){const r=await C(e,t,n);return g.default.fromJSON(r)}async function C(e,t,n){const r=await I(e,t,n);return(0,p.cn)(r)}async function I(e,t,n){const{capabilities:{query:{maxRecordCount:r}},collection:s,layerDefinition:d,queryParameters:{apiKey:f,customParameters:m},spatialReference:g,supportedCrs:b}=e,{links:w}=s,S=Z(w,"items","application/geo+json")||Z(w,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json");if((0,l.Wi)(S))throw new i.Z("ogc-feature-layer:missing-items-page","Missing items url");const{geometry:T,num:v,start:F,timeExtent:j,where:_}=t;if(t.objectIds)throw new i.Z("ogc-feature-layer:query-by-objectids-not-supported","Queries with objectids are not supported");const C=h.Z.fromJSON(g),I=(0,l.Pt)(t.outSpatialReference,C),x=I.isWGS84?null:O(I,b),N=P(T,b),k=function(e){if((0,l.Wi)(e))return null;const{start:t,end:n}=e;return`${(0,l.pC)(t)?t.toISOString():".."}/${(0,l.pC)(n)?n.toISOString():".."}`}(j),G=function(e){return(0,l.Wi)(e)||!e||"1=1"===e?null:e}(_),L=null!=v?v:null!=F&&void 0!==F?10:r,{data:M}=await(0,o.default)(S.href,{...n,query:{...m,...N,crs:x,datetime:k,query:G,limit:L,startindex:F,token:f},headers:{accept:"application/geo+json"}});let R=!1;M.links&&(R=!!M.links.find((e=>"next"===e.rel))),!R&&Number.isInteger(M.numberMatched)&&Number.isInteger(M.numberReturned)&&(R=M.numberReturned<M.numberMatched);const{fields:q,globalIdField:D,hasM:A,hasZ:J,objectIdField:V}=d,W=d.geometryType,E=(0,y.lG)(M,{geometryType:W,hasZ:J,objectIdField:V});if(!x&&I.isWebMercator)for(const e of E)if(e.geometry){const t=(0,p.di)(e.geometry,W,J,!1);t.spatialReference=h.Z.WGS84,e.geometry=(0,p.GH)((0,u.iV)(t,I))}for(const e of E)e.objectId=e.attributes[V];const $=x||!x&&I.isWebMercator?I.toJSON():a.Zn,z=new c.Z;return z.exceededTransferLimit=R,z.features=E,z.fields=q,z.geometryType=W,z.globalIdFieldName=D,z.hasM=A,z.hasZ=J,z.objectIdFieldName=V,z.spatialReference=$,z}function O(e,t){return t.find((t=>{const n=j(t);return(0,a.fS)(n,e)}))}function x(e){const{xmin:t,ymin:n,xmax:r,ymax:o}=e;return`${t},${n},${r},${o}`}function P(e,t){if(!function(e){return(0,l.pC)(e)&&"extent"===e.type}(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:x(e)};const r=O(n,t);return r?{bbox:x(e),"bbox-crs":r}:n.isWebMercator?{bbox:x((0,u.iV)(e,h.Z.WGS84))}:null}function Z(e,t,n){return e.find((e=>e.rel===t&&e.type===n))||e.find((e=>e.rel===t&&!e.type))}},233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r,o=n(14983),i=n(30223),s=n(42963),l=n(84066),a=(n(77645),n(38215)),u=(n(45851),n(68720)),p=n(79159),c=n(74184),y=n(85625),d=n(76882);const f=new i.Xn({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let m=r=class extends s.wq{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null}readDescription(e,{description:t}){let n;try{n=JSON.parse(t)}catch(e){}return n?n.value:null}readValueType(e,{description:t}){let n;try{n=JSON.parse(t)}catch(e){}return n?f.fromJSON(n.fieldValueType):null}clone(){return new r({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})}};(0,o._)([(0,l.Cb)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),(0,o._)([(0,l.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,"defaultValue",void 0),(0,o._)([(0,l.Cb)()],m.prototype,"description",void 0),(0,o._)([(0,p.r)("description")],m.prototype,"readDescription",null),(0,o._)([(0,l.Cb)({types:y.V5,json:{read:{reader:y.im},write:!0}})],m.prototype,"domain",void 0),(0,o._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"editable",void 0),(0,o._)([(0,l.Cb)({type:a.z8,json:{write:!0}})],m.prototype,"length",void 0),(0,o._)([(0,l.Cb)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,o._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"nullable",void 0),(0,o._)([(0,u.J)(d.v)],m.prototype,"type",void 0),(0,o._)([(0,l.Cb)()],m.prototype,"valueType",void 0),(0,o._)([(0,p.r)("valueType",["description"])],m.prototype,"readValueType",null),m=r=(0,o._)([(0,c.j)("esri.layers.support.Field")],m);const g=m},76882:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});const r=new(n(30223).Xn)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"})},8669:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(14983),o=n(18507),i=n(42885),s=n(30223),l=n(42963),a=n(67380),u=n(84066),p=(n(77645),n(38215),n(45851),n(79159)),c=n(74184),y=n(87060),d=n(61948),f=n(64334),m=n(233);const g=new s.Xn({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let h=class extends l.wq{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const n=d.Z.fromJSON(t.spatialReference),r=[];for(let t=0;t<e.length;t++){const o=e[t],s=i.Z.fromJSON(o),l=o.geometry&&o.geometry.spatialReference;(0,a.pC)(s.geometry)&&!l&&(s.geometry.spatialReference=n),r.push(s)}return r}writeGeometryType(e,t,n,r){if(e)return void g.write(e,t,n,r);const{features:o}=this;if(o)for(const e of o)if(e&&(0,a.pC)(e.geometry))return void g.write(e.geometry.type,t,n,r)}readQueryGeometry(e,t){if(!e)return null;const n=!!e.spatialReference,r=(0,f.im)(e);return!n&&t.spatialReference&&(r.spatialReference=d.Z.fromJSON(t.spatialReference)),r}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:n}=this;if(n)for(const e of n)if(e&&(0,a.pC)(e.geometry)&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let n=0;n<t.features.length;n++){const r=t.features[n];if(r.geometry){const t=e&&e[n];r.geometry=t&&t.toJSON()||r.geometry}}return t}quantize(e){const{scale:[t,n],translate:[r,o]}=e,i=this.features,s=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-r)/t)),(e=>Math.round((o-e)/n)));for(let e=0,t=i.length;e<t;e++)s((0,a.Wg)(i[e].geometry))||(i.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:n}=this;if(!n)return this;const{translate:[r,o],scale:[i,s]}=n,l=this._getHydrationFunction(e,(e=>e*i+r),(e=>o-e*s));for(const{geometry:e}of t)(0,a.pC)(e)&&l(e);return this.transform=null,this}_quantizePoints(e,t,n){let r,o;const i=[];for(let s=0,l=e.length;s<l;s++){const l=e[s];if(s>0){const e=t(l[0]),s=n(l[1]);e===r&&s===o||(i.push([e-r,s-o]),r=e,o=s)}else r=t(l[0]),o=n(l[1]),i.push([r,o])}return i.length>0?i:null}_getQuantizationFunction(e,t,n){return"point"===e?e=>(e.x=t(e.x),e.y=n(e.y),e):"polyline"===e||"polygon"===e?e=>{const r=(0,f.oU)(e)?e.rings:e.paths,o=[];for(let e=0,i=r.length;e<i;e++){const i=r[e],s=this._quantizePoints(i,t,n);s&&o.push(s)}return o.length>0?((0,f.oU)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?e=>{const r=this._quantizePoints(e.points,t,n);return r.length>0?(e.points=r,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,n){return"point"===e?e=>{e.x=t(e.x),e.y=n(e.y)}:"polyline"===e||"polygon"===e?e=>{const r=(0,f.oU)(e)?e.rings:e.paths;let o,i;for(let e=0,s=r.length;e<s;e++){const s=r[e];for(let e=0,r=s.length;e<r;e++){const r=s[e];e>0?(o+=r[0],i+=r[1]):(o=r[0],i=r[1]),r[0]=t(o),r[1]=n(i)}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=n(e.ymin),e.xmax=t(e.xmax),e.ymax=n(e.ymax)}:"multipoint"===e?e=>{const r=e.points;let o,i;for(let e=0,s=r.length;e<s;e++){const s=r[e];e>0?(o+=s[0],i+=s[1]):(o=s[0],i=s[1]),s[0]=t(o),s[1]=n(i)}}:void 0}};(0,r._)([(0,u.Cb)({type:String,json:{write:!0}})],h.prototype,"displayFieldName",void 0),(0,r._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],h.prototype,"exceededTransferLimit",void 0),(0,r._)([(0,u.Cb)({type:[i.Z],json:{write:!0}})],h.prototype,"features",void 0),(0,r._)([(0,p.r)("features")],h.prototype,"readFeatures",null),(0,r._)([(0,u.Cb)({type:[m.Z],json:{write:!0}})],h.prototype,"fields",void 0),(0,r._)([(0,u.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],h.prototype,"geometryType",void 0),(0,r._)([(0,y.c)("geometryType")],h.prototype,"writeGeometryType",null),(0,r._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],h.prototype,"hasM",void 0),(0,r._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],h.prototype,"hasZ",void 0),(0,r._)([(0,u.Cb)({types:o.qM,json:{write:!0}})],h.prototype,"queryGeometry",void 0),(0,r._)([(0,p.r)("queryGeometry")],h.prototype,"readQueryGeometry",null),(0,r._)([(0,u.Cb)({type:d.Z,json:{write:!0}})],h.prototype,"spatialReference",void 0),(0,r._)([(0,y.c)("spatialReference")],h.prototype,"writeSpatialReference",null),(0,r._)([(0,u.Cb)({json:{write:!0}})],h.prototype,"transform",void 0),h=(0,r._)([(0,c.j)("esri.rest.support.FeatureSet")],h),h.prototype.toJSON.isDefaultToJSON=!0,h||(h={});const b=h},12355:(e,t,n)=>{"use strict";n.d(t,{I4:()=>o,lF:()=>s,ET:()=>i,qP:()=>l,eG:()=>a,lj:()=>p,wW:()=>u});const r=[252,146,31,255],o={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},i={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},s={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},l={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},a={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},p={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);