/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/vec3f64","../../../chunks/vec3","../../projectionEllipsoid","../../projection","../../../chunks/mat3f64","../../../chunks/mat4f64","../../../chunks/mat3","./projection"],(function(t,e,r,o,n,i,c,a,s){"use strict";function u(t,e,r){if(!t.vertexAttributes||!t.vertexAttributes.position)return;const o=t.spatialReference;o.isWGS84||o.isWebMercator&&(!r||!1!==r.geographic)?f(t,e):p(t,e)}function f(t,e){const i=t.spatialReference,c=t.vertexAttributes.position,u=t.vertexAttributes.normal,f=t.vertexAttributes.tangent,p=new Float64Array(c.length),F=new Float32Array(u?u.length:0),g=new Float32Array(f?f.length:0),v=t.extent.center,x=h;n.computeLinearTransformation(i,[v.x,v.y,v.z],m,o.getSphericalPCPF(i)),a.fromMat4(E,m),r.transformMat3(x,e,E),s.projectToECEF(c,i,p),u&&s.projectNormalToECEF(u,c,p,i,F),f&&s.projectTangentToECEF(f,c,p,i,g),l(p,x),s.projectFromECEF(p,c,i),u&&s.projectNormalFromECEF(F,c,p,i,u),f&&s.projectTangentFromECEF(g,c,p,i,f),t.vertexAttributesChanged()}function p(t,e){l(t.vertexAttributes.position,e),t.vertexAttributesChanged()}function l(t,e){if(t)for(let r=0;r<t.length;r+=3)for(let o=0;o<3;o++)t[r+o]+=e[o]}const h=e.create(),m=c.create(),E=i.create();t.offset=u,Object.defineProperty(t,"__esModule",{value:!0})}));
