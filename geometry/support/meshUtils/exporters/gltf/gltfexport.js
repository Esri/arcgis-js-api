/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../../../core/promiseUtils","./asset","./scene","./node","./index"],(function(e,t,n,o,i,r){"use strict";let d=function(){function e(e,t){this.file={type:"model/gltf-binary",data:e},this.origin=t}var n=e.prototype;return n.buffer=function(){return t.resolve(this.file)},n.download=function(e){return t.create((()=>{const t=new Blob([this.file.data],{type:this.file.type});let n=e;n||(n="model.glb");if("glb"!==n.split(".").pop()&&(n+=".glb"),window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,n);else{const e=document.createElement("a"),o=URL.createObjectURL(t);e.href=o,e.download=n,document.body.appendChild(e),e.click(),setTimeout((function(){document.body.removeChild(e),window.URL.revokeObjectURL(o)}),0)}}))},e}();e.toBinaryGLTF=function(e,t){const c=new n.Asset,l=new o.Scene;c.addScene(l);const s=new i.Node;return l.addNode(s),s.mesh=e,r.exportGLB(c,t).then((e=>new d(e[r.MODEL_NAME_GLB],e.origin)))},Object.defineProperty(e,"__esModule",{value:!0})}));
