/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["exports","./coordsUtils"],(function(n,t){"use strict";function e(n){return n?n.hasZ?[n.xmax-n.xmin/2,n.ymax-n.ymin/2,n.zmax-n.zmin/2]:[n.xmax-n.xmin/2,n.ymax-n.ymin/2]:null}function l(n){return n?o(n.rings,n.hasZ):null}function o(n,t){if(!n||!n.length)return null;const e=[],l=[],o=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let r=0,u=n.length;r<u;r++){const e=i(n[r],t,o);e&&l.push(e)}if(l.sort(((n,e)=>{let l=n[2]-e[2];return 0===l&&t&&(l=n[4]-e[4]),l})),l.length&&(e[0]=l[0][0],e[1]=l[0][1],t&&(e[2]=l[0][3]),(e[0]<o[0]||e[0]>o[1]||e[1]<o[2]||e[1]>o[3]||t&&(e[2]<o[4]||e[2]>o[5]))&&(e.length=0)),!e.length){const l=n[0]&&n[0].length?r(n[0],t):null;if(!l)return null;e[0]=l[0],e[1]=l[1],t&&l.length>2&&(e[2]=l[2])}return e}function i(n,t,e){let l=0,o=0,i=0,r=0,u=0;const g=n.length?n[0][0]:0,s=n.length?n[0][1]:0,h=n.length&&t?n[0][2]:0;for(let f=0;f<n.length;f++){const c=n[f],d=n[(f+1)%n.length],[m,x,a]=c,y=m-g,p=x-s,v=t?a-h:void 0,[C,M,b]=d,z=C-g,S=M-s,Z=t?b-h:void 0,_=y*S-z*p;if(r+=_,l+=(y+z)*_,o+=(p+S)*_,t&&c.length>2&&d.length>2){const n=y*Z-z*v;i+=(v+Z)*n,u+=n}m<e[0]&&(e[0]=m),m>e[1]&&(e[1]=m),x<e[2]&&(e[2]=x),x>e[3]&&(e[3]=x),t&&(a<e[4]&&(e[4]=a),a>e[5]&&(e[5]=a))}if(r>0&&(r*=-1),u>0&&(u*=-1),!r)return null;r*=.5,u*=.5;const c=[l/(6*r)+g,o/(6*r)+s,r];return t&&(e[4]===e[5]||0===u?(c[3]=(e[4]+e[5])/2,c[4]=0):(c[3]=i/(6*u)+h,c[4]=u)),c}function r(n,e){const l=e?[0,0,0]:[0,0],o=e?[0,0,0]:[0,0];let i=0,r=0,u=0,g=0;for(let s=0,h=n.length;s<h-1;s++){const h=n[s],c=n[s+1];if(h&&c){l[0]=h[0],l[1]=h[1],o[0]=c[0],o[1]=c[1],e&&h.length>2&&c.length>2&&(l[2]=h[2],o[2]=c[2]);const n=t.getLength(l,o);if(n){i+=n;const l=t.getMidpoint(h,c);r+=n*l[0],u+=n*l[1],e&&l.length>2&&(g+=n*l[2])}}}return i>0?e?[r/i,u/i,g/i]:[r/i,u/i]:n.length?n[0]:null}n.extentCentroid=e,n.lineCentroid=r,n.polygonCentroid=l,n.ringsCentroid=o,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
