/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{ObjectStack as T}from"../../core/ObjectStack.js";import{m as _,a as O}from"../../chunks/mat4.js";import{s as R}from"../../chunks/vec3.js";import{c as t}from"../../chunks/vec3f64.js";import{t as A}from"../../chunks/vec4.js";import{f as r}from"../../chunks/vec4f64.js";import{create as E,fromRay as F,fromLineSegmentAndDirection as n}from"./clipRay.js";import{create as o,copy as M,fromPoints as N,clipInfinite as f,signedDistance as c,isAABBFullyInside as e,clip as u}from"./plane.js";import{sm4d as B,sv4d as G}from"./vectorStacks.js";function H(T){return T?[o(T[0]),o(T[1]),o(T[2]),o(T[3]),o(T[4]),o(T[5])]:[o(),o(),o(),o(),o(),o()]}function I(){return[t(),t(),t(),t(),t(),t(),t(),t()]}function i(T,_){for(let O=0;O<g.NUM;O++)M(T[O],_[O])}function s(T,t,r,E=w){const F=_(B.get(),t,T);O(F,F);for(let _=0;_<b.NUM;++_){const T=A(G.get(),y[_],F);R(E[_],T[0]/T[3],T[1]/T[3],T[2]/T[3])}L(r,E)}function L(T,_){N(_[v.FAR_BOTTOM_LEFT],_[v.NEAR_BOTTOM_LEFT],_[v.NEAR_TOP_LEFT],T[k.LEFT]),N(_[v.NEAR_BOTTOM_RIGHT],_[v.FAR_BOTTOM_RIGHT],_[v.FAR_TOP_RIGHT],T[k.RIGHT]),N(_[v.FAR_BOTTOM_LEFT],_[v.FAR_BOTTOM_RIGHT],_[v.NEAR_BOTTOM_RIGHT],T[k.BOTTOM]),N(_[v.NEAR_TOP_LEFT],_[v.NEAR_TOP_RIGHT],_[v.FAR_TOP_RIGHT],T[k.TOP]),N(_[v.NEAR_BOTTOM_LEFT],_[v.NEAR_BOTTOM_RIGHT],_[v.NEAR_TOP_RIGHT],T[k.NEAR]),N(_[v.FAR_BOTTOM_RIGHT],_[v.FAR_BOTTOM_LEFT],_[v.FAR_TOP_LEFT],T[k.FAR])}function P(T,_){for(let O=0;O<g.NUM;O++){const R=T[O];if(R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]>=_[3])return!1}return!0}function a(T,_){return l(T,F(_,S.get()))}function m(T,_){for(let O=0;O<g.NUM;O++){const R=T[O];if(!f(R,_))return!1}return!0}function p(T,_,O){return l(T,n(_,O,S.get()))}function U(T,_){for(let O=0;O<g.NUM;O++){if(c(T[O],_)>0)return!1}return!0}function j(T,_){for(let O=0;O<g.NUM;O++)if(e(T[O],_))return!1;return!0}function l(T,_){for(let O=0;O<g.NUM;O++)if(!u(T[O],_))return!1;return!0}var k,v;!function(T){T[T.LEFT=0]="LEFT",T[T.RIGHT=1]="RIGHT",T[T.BOTTOM=2]="BOTTOM",T[T.TOP=3]="TOP",T[T.NEAR=4]="NEAR",T[T.FAR=5]="FAR"}(k||(k={})),function(T){T[T.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",T[T.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",T[T.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",T[T.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",T[T.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",T[T.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",T[T.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",T[T.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(v||(v={}));const h={bottom:[v.FAR_BOTTOM_RIGHT,v.NEAR_BOTTOM_RIGHT,v.NEAR_BOTTOM_LEFT,v.FAR_BOTTOM_LEFT],near:[v.NEAR_BOTTOM_LEFT,v.NEAR_BOTTOM_RIGHT,v.NEAR_TOP_RIGHT,v.NEAR_TOP_LEFT],far:[v.FAR_BOTTOM_RIGHT,v.FAR_BOTTOM_LEFT,v.FAR_TOP_LEFT,v.FAR_TOP_RIGHT],right:[v.NEAR_BOTTOM_RIGHT,v.FAR_BOTTOM_RIGHT,v.FAR_TOP_RIGHT,v.NEAR_TOP_RIGHT],left:[v.FAR_BOTTOM_LEFT,v.NEAR_BOTTOM_LEFT,v.NEAR_TOP_LEFT,v.FAR_TOP_LEFT],top:[v.FAR_TOP_LEFT,v.NEAR_TOP_LEFT,v.NEAR_TOP_RIGHT,v.FAR_TOP_RIGHT]};var g,b;!function(T){T[T.NUM=6]="NUM"}(g||(g={})),function(T){T[T.NUM=8]="NUM"}(b||(b={}));const y=[r(-1,-1,-1,1),r(1,-1,-1,1),r(1,1,-1,1),r(-1,1,-1,1),r(-1,-1,1,1),r(1,-1,1,1),r(1,1,1,1),r(-1,1,1,1)],S=new T(E),w=I();export{g as NumPlanes,b as NumPoints,k as PlaneIndex,v as PointIndex,L as computePlanes,i as copy,H as create,I as createPoints,s as fromMatrix,m as intersectClipRay,j as intersectsAABB,p as intersectsLineSegment,U as intersectsPoint,a as intersectsRay,P as intersectsSphere,h as planePointIndices};
