/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","./Point","./support/jsonUtils","../geometry","../core/workers/workers"],(function(n,e,t,r,i){"use strict";function a(n){var e;return Array.isArray(n)?null==(e=n[0])?void 0:e.spatialReference:null==n?void 0:n.spatialReference}function o(n){return n?Array.isArray(n)?n.map(o):n.toJSON?n.toJSON():n:n}function c(n){return Array.isArray(n)?n.map((n=>t.fromJSON(n))):t.fromJSON(n)}let u;async function s(n,e){return(await async function(){return u||(u=i.open("geometryEngineWorker",{strategy:"distributed"})),u}()).invoke("executeGEOperation",{operation:n,parameters:o(e)})}function f(n){return"xmin"in n?n.center:"x"in n?n:n.extent.center}n.buffer=async function(n,e,t,r=!1){const i=[a(n),n,e,t,r];return c(await s("buffer",i))},n.clip=async function(n,e){return c(await s("clip",[a(n),n,e]))},n.contains=function(n,e){return s("contains",[a(n),n,e])},n.convexHull=async function(n,e=!1){return c(await s("convexHull",[a(n),n,e]))},n.crosses=function(n,e){return s("crosses",[a(n),n,e])},n.cut=async function(n,e){return c(await s("cut",[a(n),n,e]))},n.densify=async function(n,e,t){return c(await s("densify",[a(n),n,e,t]))},n.difference=async function(n,e){return c(await s("difference",[a(n),n,e]))},n.disjoint=function(n,e){return s("disjoint",[a(n),n,e])},n.distance=function(n,e,t){return s("distance",[a(n),n,e,t])},n.equals=function(n,e){return s("equals",[a(n),n,e])},n.extendedSpatialReferenceInfo=function(n){return s("extendedSpatialReferenceInfo",[n])},n.flipHorizontal=async function(n,e){var t;if(null==n)throw new Error("Illegal Argument Exception");const r=n.spatialReference;e=null!=(t=e)?t:f(n);const i=n.constructor.fromJSON(await s("flipHorizontal",[r,n,e]));return i.spatialReference=r,i},n.flipVertical=async function(n,e){var t;if(null==n)throw new Error("Illegal Argument Exception");const r=n.spatialReference;e=null!=(t=e)?t:f(n);const i=n.constructor.fromJSON(await s("flipVertical",[r,n,e]));return i.spatialReference=r,i},n.generalize=async function(n,e,t,r){return c(await s("generalize",[a(n),n,e,t,r]))},n.geodesicArea=function(n,e,t){return s("geodesicArea",[a(n),n,e,t])},n.geodesicBuffer=async function(n,e,t,r,i,o){const u=[a(n),n,e,t,r,i,o];return c(await s("geodesicBuffer",u))},n.geodesicDensify=async function(n,e,t,r=0){return c(await s("geodesicDensify",[a(n),n,e,t,r]))},n.geodesicLength=function(n,e,t){return s("geodesicLength",[a(n),n,e,t])},n.intersect=async function(n,e){return c(await s("intersect",[a(n),n,e]))},n.intersects=function(n,e){return s("intersects",[a(n),n,e])},n.isSimple=function(n){return s("isSimple",[a(n),n])},n.nearestCoordinate=async function(n,t,r=!0){const i=await s("nearestCoordinate",[a(n),n,t,r]);return{...i,coordinate:e.fromJSON(i.coordinate)}},n.nearestVertex=async function(n,t){const r=await s("nearestVertex",[a(n),n,t]);return{...r,coordinate:e.fromJSON(r.coordinate)}},n.nearestVertices=async function(n,t,r,i){return(await s("nearestVertices",[a(n),n,t,r,i])).map((n=>({...n,coordinate:e.fromJSON(n.coordinate)})))},n.offset=async function(n,e,t,r,i,o){return c(await s("offset",[a(n),n,e,t,r,i,o]))},n.overlaps=function(n,e){return s("overlaps",[a(n),n,e])},n.planarArea=function(n,e){return s("planarArea",[a(n),n,e])},n.planarLength=function(n,e){return s("planarLength",[a(n),n,e])},n.relate=function(n,e,t){return s("relate",[a(n),n,e,t])},n.rotate=async function(n,e,t){var r;if(null==n)throw new Error("Illegal Argument Exception");const i=n.spatialReference;t=null!=(r=t)?r:f(n);const a=n.constructor.fromJSON(await s("rotate",[i,n,e,t]));return a.spatialReference=i,a},n.simplify=async function(n){return c(await s("simplify",[a(n),n]))},n.symmetricDifference=async function(n,e){return c(await s("symmetricDifference",[a(n),n,e]))},n.touches=function(n,e){return s("touches",[a(n),n,e])},n.union=async function(n,e=null){const t=function(n,e){let t;return Array.isArray(n)?t=n:(t=[],t.push(n),null!=e&&t.push(e)),t}(n,e);return c(await s("union",[a(t),t]))},n.within=function(n,e){return s("within",[a(n),n,e])},Object.defineProperty(n,"__esModule",{value:!0})}));
