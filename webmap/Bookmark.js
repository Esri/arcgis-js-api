/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../core/has","../core/lang","../core/maybe","../core/Logger","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/deprecate","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","../core/Error","../core/urlUtils","../core/uuid","../portal/support/resourceExtension","../core/JSONSupport","../geometry/Extent","../core/Identifiable","../Viewpoint","../webdoc/support/Thumbnail"],(function(e,t,r,o,n,i,p,s,c,a,l,u,d,y,w,b,h,m,v,_,f){"use strict";var g;const x="esri.webmap.Bookmark",S=i.getLogger(x);let N=g=function(t){function r(e){var r;return(r=t.call(this,e)||this).name=null,r.thumbnail=new f,r}e._inheritsLoose(r,t);var i=r.prototype;return i.castThumbnail=function(e){return"string"==typeof e?new f({url:e}):p.ensureType(f,e)},i.readViewpoint=function(e,t){const{extent:r,viewpoint:o}=t;return _.fromJSON(o||{targetGeometry:r})},i.clone=function(){return new g(o.clone({name:this.name,thumbnail:this.thumbnail,viewpoint:this.viewpoint}))},e._createClass(r,[{key:"extent",set:function(e){a.deprecatedProperty(S,"extent",{replacement:"viewpoint",version:"4.17"}),this._set("viewpoint",new _({targetGeometry:e.clone()})),this._set("extent",e)}},{key:"viewpoint",set:function(e){const t=e.targetGeometry;if(n.isNone(t)||"extent"!==t.type){const t=new d("invalid-viewpoint","'viewpoint.targetGeometry' should be an extent",{viewpoint:e});S.error(t)}else this._set("extent",t.clone()),this._set("viewpoint",e)}}]),r}(v.IdentifiableMixin(h.JSONSupport));return t.__decorate([s.property({type:m,nonNullable:!0,json:{read:!1,write:{isRequired:!0}}})],N.prototype,"extent",null),t.__decorate([s.property({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],N.prototype,"name",void 0),t.__decorate([s.property({type:f,json:{write:{overridePolicy:e=>({enabled:!(!e||!e.url)})}}})],N.prototype,"thumbnail",void 0),t.__decorate([c.cast("thumbnail")],N.prototype,"castThumbnail",null),t.__decorate([s.property({type:_,nonNullable:!0,json:{write:!0}})],N.prototype,"viewpoint",null),t.__decorate([l.reader("viewpoint",["extent","viewpoint"])],N.prototype,"readViewpoint",null),N=g=t.__decorate([u.subclass(x)],N),N}));
