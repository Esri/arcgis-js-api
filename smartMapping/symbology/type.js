// COPYRIGHT Â© 2020 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/4.17/esri/copyright.txt for details.

define(["require","exports","tslib","../../Color","./support/colors","./support/SymbologyBase","./support/utils"],(function(a,o,e,t,n,r,i){"use strict";var c={light:{color:[153,153,153,.25],width:"1px"},dark:{color:[153,153,153,.25],width:"1px"},darker:{color:[26,26,26,.25],width:"1px"}},l=["tropical-bliss","desert-blooms","under-the-sea","vibrant-rainbow","ocean-bay","prairie-summer","pastel-chalk"],s=["predominant-v1","predominant-v2","predominant-v3","predominant-v4","predominant-v5","predominance-race","predominance-money","predominance-race-ethnic","predominance-rainbow","predominance-sequence"],m={default:{name:"default",label:"Default",description:"Default theme for visualizing features by their type.",schemes:{point:{light:{common:{noDataColor:"#aaaaaa",outline:c.light,size:"8px"},primary:"cat-dark",secondary:["cat-light"].concat(l).concat(s)},dark:{common:{noDataColor:"#aaaaaa",outline:c.darker,size:"8px"},primary:"cat-light",secondary:["cat-dark"].concat(l).concat(s)}},polyline:{light:{common:{noDataColor:"#aaaaaa",width:"2px"},primary:"cat-dark",secondary:["cat-light"].concat(l).concat(s)},dark:{common:{noDataColor:"#aaaaaa",width:"2px"},primary:"cat-light",secondary:["cat-dark"].concat(l).concat(s)}},polygon:{light:{common:{noDataColor:"#aaaaaa",outline:c.light,fillOpacity:.8},primary:"cat-dark",secondary:["cat-light"].concat(l).concat(s)},dark:{common:{noDataColor:"#aaaaaa",outline:c.dark,fillOpacity:.8},primary:"cat-light",secondary:["cat-dark"].concat(l).concat(s)}}}},"point-cloud-class":{name:"point-cloud-class",label:"Point Cloud Class",description:"Default theme for visualizing point cloud data based on classification.",schemes:{point:{light:{primary:"point-cloud-class-scheme",secondary:[]},dark:{primary:"point-cloud-class-scheme",secondary:[]}}}}};function p(a,o,r){var c=a.theme||"default",l=n[o];if(l){var s,m=l.stops,p="mesh"!==a.geometryType&&a.worldScale?a.view:null;switch(a.geometryType){case"point":case"multipoint":if("point-cloud-class"===c)return{name:(s={theme:c,name:l.name,tags:l.tags,colors:m}).name,tags:e.__spreadArrays(s.tags),theme:s.theme,colors:s.colors.map((function(a){return new t(a)}))};var u=r;return function(a,o){return{name:a.name,tags:e.__spreadArrays(a.tags),theme:a.theme,colors:a.colors.map((function(a){return new t(a)})),noDataColor:new t(a.noDataColor),outline:{color:new t(a.outline.color),width:a.outline.width},size:o?i.toWorldScale(a.size,o):a.size,opacity:a.opacity}}({name:l.name,tags:l.tags,theme:c,colors:m,noDataColor:u.noDataColor,opacity:1,outline:u.outline,size:u.size},p);case"polyline":var d=r;return function(a,o){return{name:a.name,tags:e.__spreadArrays(a.tags),theme:a.theme,colors:a.colors.map((function(a){return new t(a)})),noDataColor:new t(a.noDataColor),width:o?i.toWorldScale(a.width,o):a.width,opacity:a.opacity}}({name:l.name,tags:l.tags,theme:c,colors:m,noDataColor:d.noDataColor,opacity:1,width:d.width},p);case"polygon":var h=r;return function(a,o){return{name:a.name,tags:e.__spreadArrays(a.tags),theme:a.theme,colors:a.colors.map((function(a){return new t(a)})),noDataColor:new t(a.noDataColor),outline:{color:new t(a.outline.color),width:a.outline.width},opacity:a.opacity,size:o?i.toWorldScale(a.size,o):a.size}}({name:l.name,tags:l.tags,theme:c,colors:m,noDataColor:h.noDataColor,opacity:h.fillOpacity||1,outline:h.outline,size:"12px"},p);case"mesh":var y=r;return function(a){return{name:a.name,tags:e.__spreadArrays(a.tags),theme:a.theme,colors:a.colors.map((function(a){return new t(a)})),noDataColor:new t(a.noDataColor),opacity:a.opacity}}({name:l.name,tags:l.tags,theme:c,colors:m,noDataColor:y.noDataColor,opacity:y.fillOpacity||1});default:return}}}return new(function(a){function o(){return a.call(this,{themeDictionary:m})||this}return e.__extends(o,a),o.prototype.getSchemes=function(a){var o=a.theme||"default",e=this.getRawSchemes({theme:o,basemap:a.basemap,geometryType:a.geometryType,basemapTheme:a.basemapTheme});if(e){var t=e.schemesInfo,n=e.basemapId,r=e.basemapTheme,i=t.common;return{primaryScheme:p(a,t.primary,i),secondarySchemes:t.secondary.map((function(o){return p(a,o,i)})).filter(Boolean),basemapId:n,basemapTheme:r}}},o.prototype.getSchemeByName=function(a){return this.filterSchemesByName(a)},o.prototype.getSchemesByTag=function(a){return this.filterSchemesByTag(a)},o.prototype.cloneScheme=function(a){if(a){var o=e.__assign({},a);return o.colors=o.colors.map((function(a){return new t(a)})),"noDataColor"in o&&o.noDataColor&&(o.noDataColor=new t(o.noDataColor)),"outline"in o&&o.outline&&(o.outline={color:o.outline.color&&new t(o.outline.color),width:o.outline.width}),o}},o}(r))}));