/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import e from"../../Color.js";import{createColors as o}from"../renderers/support/utils.js";import{getSchemes as r,cloneScheme as t}from"./size.js";import a from"./support/colors.js";import{createThemes as n,getThemesforBasemap as i,getRawSchemes as s,filterSchemesByName as m,filterSchemesByTag as c}from"./support/symbologyUtils.js";const l="#aaaaaa",p="25px",d={light:{color:[153,153,153,.25],width:"1px"},dark:{color:[153,153,153,.25],width:"1px"},darker:{color:[26,26,26,.25],width:"1px"}},h=["vibrant-rainbow","cat-dark","predominant-v2","predominant-v5","predominance-race","desert-blooms","tropical-bliss","under-the-sea","ocean-bay","cat-light","predominant-v4","predominance-money","predominant-v3","predominance-race-ethnic","pastel-chalk","predominance-rainbow","predominance-sequence"],u=n({themeDictionary:{default:{name:"default",label:"Default",description:"Default theme for visualizing features using a pie chart of categories.",schemes:{point:{light:{primary:"predominant-v1",secondary:h,common:{outline:d.light,colorForOthersCategory:l,size:p}},dark:{primary:"predominant-v2",secondary:h.map((e=>"predominant-v2"===e?"predominant-v1":e)),common:{outline:d.darker,colorForOthersCategory:l,size:p}}},polygon:{light:{primary:"predominant-v1",secondary:h,common:{colorForOthersCategory:l,outline:d.light,size:p}},dark:{primary:"predominant-v2",secondary:h.map((e=>"predominant-v2"===e?"predominant-v1":e)),common:{colorForOthersCategory:l,outline:d.dark,size:p}}}}}}});function y(e){return i(u,e)}function g(e){const o="default",t=s({basemap:e.basemap,basemapTheme:e.basemapTheme,geometryType:e.geometryType,theme:u.get(o)});if(!t)return;const{schemesInfo:a,basemapId:n,basemapTheme:i}=t,m=a.common,c=e.numColors,l=r({basemap:e.basemap,geometryType:e.geometryType})?.primaryScheme;return{primaryScheme:w(a.primary,m,c,l),secondarySchemes:a.secondary.map((e=>w(e,m,c,l))).filter(Boolean),basemapId:n,basemapTheme:i}}function f(e){return m(e.name,g(e))}function b(e){return c(e.includedTags,e.excludedTags,g(e))}function z(o){if(!o)return;const r={...o};return r.tags=[...r.tags],r.colors&&(r.colors=r.colors.map((o=>new e(o)))),r.colorForOthersCategory&&(r.colorForOthersCategory=new e(r.colorForOthersCategory)),r.outline&&(r.outline={color:r.outline.color&&new e(r.outline.color),width:r.outline.width}),"sizeScheme"in r&&r.sizeScheme&&(r.sizeScheme=t(r.sizeScheme)),r}function w(e,r,t,n){const i=a[e];if(!i)return;return v({name:i.name,tags:i.tags,colors:i[t]||o(i.stops,t),colorForOthersCategory:r.colorForOthersCategory,outline:r.outline,size:r.size,sizeScheme:n})}function v(o){return{name:o.name,tags:[...o.tags],colors:o.colors.map((o=>new e(o))),colorForOthersCategory:new e(o.colorForOthersCategory),outline:{color:new e(o.outline.color),width:o.outline.width},size:o.size,sizeScheme:o.sizeScheme}}export{z as cloneScheme,f as getSchemeByName,g as getSchemes,b as getSchemesByTag,y as getThemes};
