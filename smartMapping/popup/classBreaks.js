/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../core/Error","../../PopupTemplate","../../intl/messages","./support/utils"],(function(e,s,r,a,n){"use strict";async function t(e){const{layer:r,renderer:a}=e;await r.load();const n=a||r.renderer;if("class-breaks"!==n.type)throw new s("class-breaks-popup:invalid-parameters","renderer.type must be 'class-breaks'");return{layer:r,renderer:n}}async function i(e,s,a="divide"){const{fieldInfos:t,expressionInfos:i}=await n.getFieldAndExpressionInfos({renderer:e,layer:s,normFieldExpressionTemplate:a});return new r({content:await n.getContentFromFieldInfos(s,{fieldInfos:t,expressionInfos:i}),fieldInfos:t,expressionInfos:i})}async function o(e){const[{renderer:s,layer:r},o]=await Promise.all([t(e),a.fetchMessageBundle("esri/smartMapping/t9n/smartMapping")]),l={name:"class-breaks",title:o.classBreaks,value:await i(s,r)},p=[];return n.hasNormalizedField(s)&&p.push({name:"class-breaks-percent",title:o.classBreaksNormFieldAsPercent,value:await i(s,r,"percentage")}),{primaryTemplate:l,secondaryTemplates:p}}e.getTemplates=o,Object.defineProperty(e,"__esModule",{value:!0})}));
