/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../core/Error","../../../renderers/support/rasterRendererHelper","../support/utils"],(function(e,r,t,n){"use strict";e.createRenderer=async function(e){const a=(e=await async function(e){e=await n.processRasterRendererParameters(e);const{rasterInfo:a}=e.layer;if(1===a.bandCount)throw new r("raster-rgb-renderer:not-supported","Only multiband image is supported");const{rgbBandIds:s}=e;if(s&&3!==s.length)throw new r("raster-rgb-renderer:invalid-parameters","rgb band ids must have exactly three 0-based band indices");return s||(e.rgbBandIds=t.getDefaultBandCombination(a)),e}(e)).layer,{rasterInfo:s}=a,{rgbBandIds:d}=e,i={bandIds:d,stretchType:e.stretchType};let u=t.createStretchRenderer(s,i);return e.estimateStatistics&&u.dynamicRangeAdjustment&&(await a.updateRasterInfoWithEstimatedStats({renderingRule:e.renderingRule,signal:e.signal}),u=t.createStretchRenderer(s,i)),function(e,r){const{gamma:t,useGamma:n,dynamicRangeAdjustment:a}=r;3===(null==t?void 0:t.length)&&(e.gamma=t);null!=n&&(e.useGamma=n);null!=a&&(e.dynamicRangeAdjustment=a)}(u,e),{renderer:u,rgbBandIds:d}},Object.defineProperty(e,"__esModule",{value:!0})}));
