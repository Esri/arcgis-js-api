/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../core/maybe","../../../core/Error","../../../renderers/support/rasterRendererHelper","../support/utils"],(function(e,r,t,a,s){"use strict";e.createRenderer=async function(e){e=await async function(e){var r;e=await s.processRasterRendererParameters(e);const{rasterInfo:n}=e.layer;if(n.bandCount>1)throw new t("raster-class-breaks-renderer:not-supported","Multiband raster is not supported");if(null===n.attributeTable)throw new t("raster-unique-value-renderer:not-supported","The source raster does not have an attribute table");const o=null==(r=e.classFieldName)?void 0:r.toLowerCase();if(o&&!n.attributeTable.fields.some((e=>e.name.toLowerCase()===o)))throw new t("raster-unique-value-renderer:invalid-parameters","A valid 'classfieldName' is required");return o||(e.classFieldName=a.getClassField(n.attributeTable).name),e}(e);const{classFieldName:n}=e,o=a.createUVRenderer(e.layer.rasterInfo,n);if(!r.isSome(o))throw new t("raster-unique-value-renderer:not-supported","UniqueValueRenderer is not supported on the provided data source");return{renderer:o,classFieldName:n}},Object.defineProperty(e,"__esModule",{value:!0})}));
