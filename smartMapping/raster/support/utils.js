/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../core/Error","../../../renderers/support/rasterRendererHelper","./adapters/ImageryLayerAdapter","./adapters/ImageryTileLayerAdapter"],(function(e,r,a,t,n){"use strict";const s={imagery:{adapter:t,label:"ImageryLayer"},"imagery-tile":{adapter:n,label:"ImageryTileLayer"},wcs:{adapter:n,label:"WCSLayer"}},l=Object.keys(s).map((e=>s[e].label));function d(e){var r;if("raster-layer-adapter"===e.type)return e;const a=null==(r=s[e.type])?void 0:r.adapter;return null==a?null:new a({layer:e})}async function p(e){const{layer:a}=e;if(!a)throw new r("raster-renderer-creator:missing-parameters","'layer' parameter is required");const t=d(a);if(null==t)throw new r("raster-renderer-creator:invalid-parameters","'layer' must be one of these types: "+l.join(", "));return await t.load(),await t.updateRasterInfo({renderingRule:e.renderingRule,signal:e.signal}),{...e,layer:t}}e.createRasterLayerAdapter=d,e.getSupportedRendererInfo=async function(e){p(e);const r=d(e.layer),t=await r.generateRasterInfo(e);return{supportedTypes:a.getSupportedRendererTypes(t),defaultRenderer:a.createDefaultRenderer(t)}},e.processRasterRendererParameters=p,Object.defineProperty(e,"__esModule",{value:!0})}));
