/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../core/has","../core/Logger","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/subclass","../core/urlUtils","../core/uuid","../portal/support/resourceExtension","../core/Collection","../core/collectionUtils","../Graphic"],(function(e,o,t,r,n,s,c,i,l,a,u,p,h,_){"use strict";const f=p.ofType(_);n.getLogger("esri.support.GraphicsCollection");function w(o){const t=s.ensureType(e.GraphicsCollection,o);return t&&(t.owner=this),t}e.GraphicsCollection=function(e){function t(o){var t;return(t=e.call(this,o)||this).on("before-add",(e=>{e.item||e.preventDefault()})),t.on("after-add",(e=>t._own(e.item))),t.on("after-remove",(({item:e})=>{e.layer=null})),t}o._inheritsLoose(t,e);var r=t.prototype;return r.destroy=function(){this._unownAll()},r._createNewInstance=function(e){return new f(e)},r._ownAll=function(){this.items.forEach((e=>this._own(e)))},r._own=function(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner},r._unownAll=function(){this.items.forEach((e=>this._unown(e)))},r._unown=function(e){e.layer===this.owner&&(e.layer=null)},o._createClass(t,[{key:"owner",get:function(){return this._get("owner")},set:function(e){e!==this._get("owner")&&(this._unownAll(),this._set("owner",e),this._ownAll())}}]),t}(f),t.__decorate([c.property()],e.GraphicsCollection.prototype,"owner",null),e.GraphicsCollection=t.__decorate([i.subclass("esri.support.GraphicsCollection")],e.GraphicsCollection);const y=(o="graphics")=>({type:e.GraphicsCollection,cast:h.castForReferenceSetter,set(t){const r=h.referenceSetter(t,this._get(o),e.GraphicsCollection);r.owner=this,this._set(o,r)}});var d=e.GraphicsCollection;e.castGraphicsCollection=w,e.default=d,e.graphicsCollectionProperty=y,Object.defineProperty(e,"__esModule",{value:!0})}));
