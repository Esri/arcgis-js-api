/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
define(["exports","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../Graphic","../core/Collection","../core/collectionUtils","../core/has","../core/Logger","../core/accessorSupport/decorators/property","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/subclass"],(function(e,o,t,r,n,s,c,i,l,a,u){"use strict";const p=n.ofType(r);function h(o){const t=a.ensureType(e.GraphicsCollection,o);return t&&(t.owner=this),t}i.getLogger("esri.support.GraphicsCollection"),e.GraphicsCollection=function(e){function t(o){var t;return(t=e.call(this,o)||this).on("before-add",(e=>{e.item||e.preventDefault()})),t.on("after-add",(e=>t._own(e.item))),t.on("after-remove",(({item:e})=>{e.layer=null})),t}o._inheritsLoose(t,e);var r=t.prototype;return r.destroy=function(){this._unownAll()},r._createNewInstance=function(e){return new p(e)},r._ownAll=function(){this.items.forEach((e=>this._own(e)))},r._own=function(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner},r._unownAll=function(){this.items.forEach((e=>this._unown(e)))},r._unown=function(e){e.layer===this.owner&&(e.layer=null)},o._createClass(t,[{key:"owner",get:function(){return this._get("owner")},set:function(e){e!==this._get("owner")&&(this._unownAll(),this._set("owner",e),this._ownAll())}}]),t}(p),t.__decorate([l.property()],e.GraphicsCollection.prototype,"owner",null),e.GraphicsCollection=t.__decorate([u.subclass("esri.support.GraphicsCollection")],e.GraphicsCollection);const _=(o="graphics")=>({type:e.GraphicsCollection,cast:s.castForReferenceSetter,set(t){const r=s.referenceSetter(t,this._get(o),e.GraphicsCollection);r.owner=this,this._set(o,r)}});var f=e.GraphicsCollection;e.castGraphicsCollection=h,e.default=f,e.graphicsCollectionProperty=_,Object.defineProperty(e,"__esModule",{value:!0})}));
