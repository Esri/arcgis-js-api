/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../../../core/screenUtils","../../../chunks/vec2","../../../chunks/vec3","../../../chunks/vec3f64","../../../geometry/Point","../../../support/elevationInfoUtils"],(function(e,r,n,t,o,c,a){"use strict";function i(e,r,t,o){t.projectToRenderScreen(e,v),t.projectToRenderScreen(r,S),n.subtract(o,S,v),n.normalize(o,o)}function s(e,r,n,t,c=o.create()){const i=r.toXYZ(e);return i[2]=a.getConvertedElevationFromVector(t,i,r.spatialReference,n)||0,t.renderCoordsHelper.toRenderCoords(i,r.spatialReference,c),c}function d(e,r,n,c,i=o.create()){const s=t.copy(R,e);return s[2]=a.getConvertedElevationFromVector(c,s,r,n)||0,c.renderCoordsHelper.toRenderCoords(s,r,i),i}function l(e,r,n,t){return u(r.toXYZ(e),r.spatialReference,n,t)}function u(e,n,t,o){return"2d"===o.type?(f.x=e[0],f.y=e[1],f.spatialReference=n,o.toScreen(f)):(d(e,n,t,o,R),o.state.camera.projectToScreen(R,C),r.createScreenPoint(C[0],C[1]))}function p(e,r,n,t,o,c,i){if("absolute-height"===t.mode)return s(e,n,t,o,c),void s(r,n,t,o,i);const d=n.toXYZ(e),l=n.toXYZ(r),u=a.getConvertedElevationFromVector(o,d,n.spatialReference,t),p=a.getConvertedElevationFromVector(o,l,n.spatialReference,t),f=(null==u?p:null==p?u:Math.min(u,p))||0;d[2]=f,l[2]=f,o.renderCoordsHelper.toRenderCoords(d,n.spatialReference,c),o.renderCoordsHelper.toRenderCoords(l,n.spatialReference,i)}const f=new c,R=o.create(),v=r.createRenderScreenPointArray3(),S=r.createRenderScreenPointArray3(),C=r.createScreenPointArray();e.anyMapPointToRender=s,e.anyMapPointToScreenPoint=l,e.anyMapPointsToRenderWithEqualRelativeZ=p,e.renderScreenSpaceTangent=i,e.vectorToRender=d,e.vectorToScreenPoint=u,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
