/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec3","../../../../chunks/vec3f64","../SnappingConstraint","../SnappingDomain","../snappingUtils","./SnappingCandidate","../hints/LineSnappingHint","../hints/ParallelSnappingHint"],(function(e,t,n,i,a,r,s,f,o,g){"use strict";let d=function(e){function i({coordinateHelper:t,referenceLine:i,lineStart:s,targetPoint:f,elevationInfo:o}){var g;const d=t.toXYZ(s,l),c=t.toXYZ(i.left,h),u=t.toXYZ(i.right,p);return n.subtract(d,n.add(d,d,u),c),(g=e.call(this,t,f,new a.VerticalPlaneConstraint(t,s,t.fromXYZ(d)),o,r.SnappingDomain.SELF)||this)._referenceLines=[{edge:i,fadeLeft:!0,fadeRight:!0}],g}return t._inheritsLoose(i,e),i.prototype.addReferenceLine=function(e){const t={edge:e,fadeLeft:!0,fadeRight:!0},{coordinateHelper:n}=this;this._referenceLines.forEach((i=>{n.equals(e.right,i.edge.left)&&(i.fadeLeft=!1,t.fadeRight=!1),n.equals(e.right,i.edge.right)&&(i.fadeRight=!1,t.fadeRight=!1),n.equals(e.left,i.edge.right)&&(i.fadeRight=!1,t.fadeLeft=!1),n.equals(e.left,i.edge.left)&&(i.fadeLeft=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)},t._createClass(i,[{key:"hints",get:function(){const e=this.elevationInfo;return[new o.LineSnappingHint(s.LineSegmentHintType.TARGET,this.constraint.start,this.targetPoint,e,this.domain),new g.ParallelSnappingHint(this.constraint.start,this.targetPoint,e,this.domain),...this._referenceLines.map((t=>new o.LineSnappingHint(s.LineSegmentHintType.REFERENCE,t.edge.left,t.edge.right,e,this.domain,t.fadeLeft,t.fadeRight)))]}}]),i}(f.SnappingCandidate);const l=i.create(),h=i.create(),p=i.create();e.ParallelLineSnappingCandidate=d,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
