/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec3","../../../../chunks/vec3f64","../SnappingConstraint","../SnappingDomain","../SnappingPoint","../snappingUtils","./SnappingCandidate","../hints/LineSnappingHint","../hints/ParallelSnappingHint"],(function(e,t,n,i,a,r,s,g,d,f,p){"use strict";let h=function(e){function d({referenceLine:t,lineStart:g,targetPoint:d,isDraped:f}){var p;const h=i.clone(g),{left:l,right:o}=t;return n.subtract(h,n.add(h,h,o),l),(p=e.call(this,d,new a.VerticalPlaneConstraint(g,s.asSnappingPoint(h)),f,r.SnappingDomain.SELF)||this)._referenceLines=[{edge:t,fadeLeft:!0,fadeRight:!0}],p}return t._inheritsLoose(d,e),d.prototype.addReferenceLine=function(e){const t={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach((i=>{n.exactEquals(e.right,i.edge.left)&&(i.fadeLeft=!1,t.fadeRight=!1),n.exactEquals(e.right,i.edge.right)&&(i.fadeRight=!1,t.fadeRight=!1),n.exactEquals(e.left,i.edge.right)&&(i.fadeRight=!1,t.fadeLeft=!1),n.exactEquals(e.left,i.edge.left)&&(i.fadeLeft=!1,t.fadeLeft=!1)})),this._referenceLines.push(t)},t._createClass(d,[{key:"hints",get:function(){return[new f.LineSnappingHint(g.LineSegmentHintType.TARGET,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new p.ParallelSnappingHint(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map((e=>new f.LineSnappingHint(g.LineSegmentHintType.REFERENCE,e.edge.left,e.edge.right,this.isDraped,this.domain,e.fadeLeft,e.fadeRight)))]}}]),d}(d.SnappingCandidate);e.ParallelLineSnappingCandidate=h,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
