/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../../../../core/has"],(function(t,n){"use strict";let e=function(){function t(){}var n=t.prototype;return n.filter=function(t,n){return n},n.notifyElevationSourceChange=function(){},t}(),o=function(){function t(){}var n=t.prototype;return n.filter=function(t,n){const{point:e,distance:o}=t,{z:i}=e;if(!(null!=i))return n;if(0===n.length)return n;const u=s(o),c=this._updateCandidatesTo3D(n,e,u).filter(r);return c.sort(f),c},n._updateCandidatesTo3D=function(t,n,e){for(const o of t)switch(o.type){case"edge":u(o,n,e);continue;case"vertex":a(o,n,e);continue}return t},t}();function r(t){return t.distance<=1}function i(t=!1){return t?new o:new e}function u(t,n,{x:e,y:o,z:r}){const{start:i,end:u,target:a}=t;t.draped||c(a,n,i,u);const s=(n.x-a.x)/e,f=(n.y-a.y)/o,d=(n.z-a.z)/r;t.distance=Math.sqrt(s*s+f*f+d*d)}function c(t,n,e,o){const r=o.x-e.x,i=o.y-e.y,u=o.z-e.z,c=r*r+i*i+u*u,a=(n.x-e.x)*r+(n.y-e.y)*i+u*(n.z-e.z),s=Math.min(1,Math.max(0,a/c)),f=e.x+r*s,d=e.y+i*s,y=e.z+u*s;t.x=f,t.y=d,t.z=y}function a(t,n,{x:e,y:o,z:r}){const{target:i}=t,u=(n.x-i.x)/e,c=(n.y-i.y)/o,a=(n.z-i.z)/r,s=Math.sqrt(u*u+c*c+a*a);t.distance=s}function s(t){return"number"==typeof t?{x:t,y:t,z:t}:t}function f(t,n){return t.distance-n.distance}t.getSnappingCandidateElevationFilter=i,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
