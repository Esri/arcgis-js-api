/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../core/maybe","./Settings","./snappingUtils"],(function(e,t,i,o){"use strict";let r=function(){function e({proximityThreshold:e,enabled:t=!0,shortLineThreshold:o=i.defaults.shortLineThreshold}){this.enabled=t,this.squaredShortLineThreshold=o*o;const r=e*i.defaults.touchSensitivityMultiplier;this._squaredTouchProximityThreshold=r*r,this._squaredMouseProximityTreshold=e*e}var r=e.prototype;return r.snap=function(e,i){return this.enabled?t.isSome(i.vertexHandle)?"vertex"!==i.vertexHandle.type?[]:this.snapExistingVertex(e,i):this.snapNewVertex(e,i):[]},r.edgeExceedsShortLineThreshold=function(e,t){return this.exceedsShortLineThreshold(e.left.pos,e.right.pos,t)},r.exceedsShortLineThreshold=function(e,t,{elevationInfo:i,view:r,geometry:n}){const s=n.data.coordinateHelper;return 0===this.squaredShortLineThreshold||o.squareDistance(o.anyMapPointToScreenPoint(t,s,i,r),o.anyMapPointToScreenPoint(e,s,i,r))>this.squaredShortLineThreshold},r.squaredProximityTreshold=function(e){return"touch"===e?this._squaredTouchProximityThreshold:this._squaredMouseProximityTreshold},e}();e.SnappingAlgorithm=r,e.SnappingContext=function(e,t,i,o,r=null){this.geometry=e,this.view=t,this.elevationInfo=i,this.pointer=o,this.vertexHandle=r},Object.defineProperty(e,"__esModule",{value:!0})}));
