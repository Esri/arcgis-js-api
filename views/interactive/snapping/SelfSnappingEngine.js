/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/Accessor","../../../core/Collection","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/ensureType","../../../core/arrayUtils","../../../core/accessorSupport/decorators/subclass","./LineSnapper","./ParallelLineSnapper","./RightAngleSnapper","./RightAngleTriangleSnapper","./SnappingDomain","./snappingUtils"],(function(n,e,i,t,o,p,r,s,a,c,l,g,u,S,f){"use strict";n.SelfSnappingEngine=function(n){function i(e){var i;return(i=n.call(this,e)||this).updating=!1,i._snappers=new o,i._domain=S.SnappingDomain.SELF,i}e._inheritsLoose(i,n);var t=i.prototype;return t.initialize=function(){this._snappers.push(new l.ParallelLineSnapper(this.view,this.options),new c.LineSnapper(this.view,this.options),new g.RightAngleSnapper(this.view,this.options),new u.RightAngleTriangleSnapper(this.view,this.options))},t.fetchCandidates=function(){var n=e._asyncToGenerator((function*(n,e,i){if(!(e&this._domain&&this.options.effectiveSelfEnabled))return[];const t=[];for(const o of this._snappers.items)for(const e of o.snap(n,i))t.push(e);return f.sortCandidatesInPlace(n,t),t}));function i(e,i,t){return n.apply(this,arguments)}return i}(),e._createClass(i,[{key:"options",set:function(n){this._set("options",n);for(const e of this._snappers)e.options=n}}]),i}(t),i.__decorate([p.property({readOnly:!0})],n.SelfSnappingEngine.prototype,"updating",void 0),i.__decorate([p.property({constructOnly:!0})],n.SelfSnappingEngine.prototype,"view",void 0),i.__decorate([p.property()],n.SelfSnappingEngine.prototype,"options",null),n.SelfSnappingEngine=i.__decorate([a.subclass("esri.views.interactive.snapping.SelfSnappingEngine")],n.SelfSnappingEngine),Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}));
