/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/has","../../../core/Logger","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/decorators/subclass","../../../core/urlUtils","../../../core/uuid","../../../portal/support/resourceExtension","../../../core/Accessor","../../../core/Collection","./snappingUtils","./LineSnapper","./ParallelLineSnapper","./RightAngleSnapper","./RightAngleTriangleSnapper"],(function(e,n,t,i,p,s,o,r,a,c,l,u,g,h,S,f,d,_){"use strict";e.SelfSnappingEngine=function(e){function t(n){var t;return(t=e.call(this,n)||this).updating=!1,t._snappers=new g,t}n._inheritsLoose(t,e);var i=t.prototype;return i.initialize=function(){this._snappers.push(new f.ParallelLineSnapper(this.view,this.options),new S.LineSnapper(this.view,this.options),new d.RightAngleSnapper(this.view,this.options),new _.RightAngleTriangleSnapper(this.view,this.options))},i.fetchCandidates=async function(e,n){if(!this.options.effectiveSelfEnabled)return[];const t=[];for(const i of this._snappers.items)t.push(...i.snap(e,n));return h.sortCandidatesInPlace(e,t),t},n._createClass(t,[{key:"options",set:function(e){this._set("options",e);for(const n of this._snappers)n.options=e}}]),t}(u),t.__decorate([o.property({readOnly:!0})],e.SelfSnappingEngine.prototype,"updating",void 0),t.__decorate([o.property({constructOnly:!0})],e.SelfSnappingEngine.prototype,"view",void 0),t.__decorate([o.property()],e.SelfSnappingEngine.prototype,"options",null),e.SelfSnappingEngine=t.__decorate([r.subclass("esri.views.interactive.snapping.SelfSnappingEngine")],e.SelfSnappingEngine),Object.defineProperty(e,"__esModule",{value:!0})}));
