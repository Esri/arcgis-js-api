/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../../../core/handleUtils","../../../core/nextTick","./allLayerSnapping","./FeatureSnappingEngine","./SnappingManager"],(function(e,n,a,t,r,i){"use strict";const o=new Map;function p(e){if(!o.has(e)){const n=t.makeAllLayerSnappingOptions(e,{distance:10}),a=c(e,n.options);o.set(e,{referenceCount:0,snappingManager:a,remove:()=>{n.remove(),a.destroy()}})}const a=o.get(e);a.referenceCount++;const r=n.makeHandle((()=>s(e,a)));return{snappingManager:a.snappingManager,...r}}function s(e,n){n.referenceCount--,n.referenceCount>0||a.nextTick((()=>{0===n.referenceCount&&(n.remove(),o.delete(e))}))}function c(e,n){return new i.SnappingManager({view:e,options:n,snappingEnginesFactory:(n,a)=>[new r.FeatureSnappingEngine({view:e,spatialReference:e.spatialReference,options:a})]})}e.acquire=p,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
