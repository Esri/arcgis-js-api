/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../core/maybe","../../../chunks/vec3f64","../../../layers/graphics/dehydratedFeatures","../../../support/elevationInfoUtils"],(function(n,e,t,o,i){"use strict";function r(n){return n}function a(n){return t.clone(n)}function u(n,e,o){return t.fromValues(n,e,o)}function l(n,t,o){return e.isNone(n)?null:s(o.coordinateHelper.vectorToDehydratedPoint(n,d),t,o)}function s(n,o,a){if(e.isNone(n))return null;if(e.isNone(o))return r(t.fromValues(n.x,n.y,n.z??0));if("2d"===o.type)return r(t.fromValues(n.x,n.y,0));const{elevationInfo:u}=a,l=i.getConvertedElevation(o,n,u,i.absoluteHeightElevationInfo)??0;return r(t.fromValues(n.x,n.y,l))}function p(n,t,{z:r,m:a,spatialReference:u,elevationInfo:l}){if(null==r&&null==a){const e=o.makeDehydratedPoint(n[0],n[1],void 0,u);return null!=a&&(e.m=a,e.hasM=!0),e}if(e.isNone(t)||"2d"===t.type){const e=o.makeDehydratedPoint(n[0],n[1],r,u);return null!=a&&(e.m=a,e.hasM=!0),e}const s=i.getConvertedElevationFromVector(t,n,u,i.absoluteHeightElevationInfo,l)??0,p=o.makeDehydratedPoint(n[0],n[1],s,u);return null!=a&&(p.m=a,p.hasM=!0),p}function c(n,e){return o.makeDehydratedPoint(n[0],n[1],n[2],e)}const d=o.makeDehydratedPoint(0,0,0,null);n.anyMapPointToSnappingPoint=l,n.asSnappingPoint=r,n.cloneSnappingPoint=a,n.createSnappingPoint=u,n.pointToSnappingPoint=s,n.snappingPointToDehydratedPoint=c,n.snappingPointToSnappingOutput=p,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}));
