/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{isNone as t}from"../../../../core/maybe.js";import{createLength as r}from"../../../../core/quantityUtils.js";import{f as e,c as n}from"../../../../chunks/vec3f64.js";import{autoAreaByDrapedStatus as s}from"../../../support/automaticAreaMeasurementUtils.js";import{autoDirectDistanceByElevationMode as o,autoLengthByElevationMode as u}from"../../../support/automaticLengthMeasurementUtils.js";import{createEuclideanPlanarAreaCache as i}from"../../../support/euclideanAreaMeasurementUtils.js";function a(n,s){const i=t=>u(t,s),a=(t,r,e)=>o(t,r,e,s),m=i(n),p=n.paths[0]?.[n.paths[0]?.length-1]??null,{hasZ:l,spatialReference:f}=n,h=p?e(p[0],p[1],l?p[2]:0):null;return e=>{if(t(e)||t(m)||t(h))return m;c[0]=e.x,c[1]=e.y,c[2]=l?e.z:0;const n=a(h,c,f);return t(n)?m:r(m.value+n.value,m.unit)}}function m(r,e){const n=i(),o=t=>s(t,e,n);return e=>{if(t(e)||r.rings.length<1||r.rings[0].length<2)return o(r);const n=r.clone();return n.rings[0].push([e.x,e.y]),o(n)}}const c=n();export{m as computeAreaWithStagedVertex,a as computeLengthWithStagedVertex};
