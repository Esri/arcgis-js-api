/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../core/maybe","../../core/screenUtils","../../layers/graphics/dehydratedFeatures","../../layers/graphics/hydratedFeatures","../../support/elevationInfoUtils"],(function(e,t,n,i,o,r){"use strict";let s=function(){function e(e,t,n,i=null){this._elevationInfo=e,this.defaultZ=t,this._view=n,this._excludeGraphics=i}var s=e.prototype;return s.screenToMap=function(e){if(t.isSome(this.defaultZ))return this._view.sceneIntersectionHelper.intersectElevationFromScreen(n.createScreenPointArray(e.x,e.y),this._elevationInfo,this.defaultZ,this._excludeGraphics);const i=this._view.sceneIntersectionHelper.intersectElevationFromScreen(n.createScreenPointArray(e.x,e.y),this._elevationInfo,0,this._excludeGraphics);return t.isSome(i)&&(i.z=void 0),i},s.mapToScreen=function(e){const t=i.makeDehydratedPoint(e.x,e.y,r.getConvertedElevation(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(t)},s.constrainZ=function(e){const{defaultZ:n}=this;return t.isSome(n)&&e.z!==n&&((e=o.clonePoint(e)).z=n),e},e}(),a=function(){function e(e,t,n=[]){this.view=e,this.elevationInfo=t,this.exclude=n}var n=e.prototype;return n.screenToMap=function(e){const n=this.view.toMap(e,{exclude:this.exclude});return t.isSome(n)&&(n.z=r.getZForElevationMode(n,this.view,this.elevationInfo)),n},n.mapToScreen=function(e){let n=e;return t.isSome(this.elevationInfo)&&(n=i.makeDehydratedPoint(e.x,e.y,r.getConvertedElevation(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(n)},n.constrainZ=function(e){return e},e}(),c=function(){function e(e,t=!1,n=0){this.view=e,this.hasZ=t,this.defaultZ=n,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const i=e.toMap(t);return i.z=n,i}:t=>e.toMap(t)}return e.prototype.constrainZ=function(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=o.clonePoint(e)).z=t),e},e}();e.ElevationDrawSurface=s,e.MapDrawSurface=c,e.SceneDrawSurface=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
