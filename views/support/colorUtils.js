/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../chunks/_rollupPluginBabelHelpers","../../Color","../../core/maybe"],(function(t,n,e,r){"use strict";function o(t){return a.apply(this,arguments)}function a(){return(a=n._asyncToGenerator((function*(t){yield t.whenReady();const n=t.basemapView?.baseLayerViews.map((t=>t.layer)).toArray()??[];if(!n.length){const n=getComputedStyle(t.container).backgroundColor,r=n&&new e(n);return t.get("background.color")||(r&&0!==r.a?r:null)||null}const r=(yield t.takeScreenshot({format:"png",layers:n})).data.data,o=r.length;let a=0,u=0,l=0,i=0,c=0,s=0;for(let e=0;e<o;e+=4){const t=r[e],n=r[e+1],o=r[e+2],h=r[e+3],d=h/255;a+=t*t*d,u+=n*n*d,l+=o*o*d,c+=d,h&&(i+=h,s++)}a=Math.round(Math.sqrt(a/c)),u=Math.round(Math.sqrt(u/c)),l=Math.round(Math.sqrt(l/c));return new e([a,u,l,i/s/255])}))).apply(this,arguments)}function u(t){return l.apply(this,arguments)}function l(){return(l=n._asyncToGenerator((function*(t){if(!t)return null;const n=yield o(t);return r.isSome(n)?i(n):null}))).apply(this,arguments)}function i(t){return c(t).isBright?"light":"dark"}function c(t){let{r:n,g:r,b:o,a}=t;return a<1&&(n=Math.round(a*n+255*(1-a)),r=Math.round(a*r+255*(1-a)),o=Math.round(a*o+255*(1-a))),new e({r:n,g:r,b:o})}function s(t){const{r:n,g:e,b:r}=c(t);return.2126*n+.7152*e+.0722*r}t.getBackgroundColor=o,t.getBackgroundColorTheme=u,t.getColorLuminance=s,t.getColorTheme=i,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
