/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass","../../core/Error","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../../core/promiseUtils"],(function(e,r,t,o,s,u,c,p,n,i,a,l,h){"use strict";e.WMSLayerView=e=>{let o=function(e){function t(){return e.apply(this,arguments)||this}return r._inheritsLoose(t,e),t.prototype.fetchPopupFeatures=async function(e){const{layer:r}=this;if(!e)return h.reject(new n("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:r}));const{popupEnabled:t}=r;if(!t)return h.reject(new n("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:t}));const o=this.createFetchPopupFeaturesQuery(e),{extent:s,width:u,height:c,x:p,y:i}=o;if(!(s&&u&&c))throw new n("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:s,width:u,height:c});const a=r.fetchFeatureInfo(s,u,c,p,i);return a?a.then((e=>[e])):h.resolve([])},t}(e);return t.__decorate([c.property()],o.prototype,"layer",void 0),o=t.__decorate([p.subclass("esri.layers.mixins.WMSLayerView")],o),o},Object.defineProperty(e,"__esModule",{value:!0})}));
