/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{_ as t}from"../../../chunks/tslib.es6.js";import r from"../../../core/Accessor.js";import{property as o}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/arrayUtils.js";import"../../../core/has.js";import"../../../core/accessorSupport/ensureType.js";import{subclass as e}from"../../../core/accessorSupport/decorators/subclass.js";import{D as s,E as i}from"../../../chunks/mat4.js";var n;let p=n=class extends r{constructor(){super(...arguments),this.from=null,this.to=null,this.duration=4e3,this.repeat=!0,this.done=!1}getColorMatrix(){if(this.done=!1,null==this._lastTime)this._currentStep=0,this._lastTime=Date.now();else{const t=this._lastTime,r=Date.now(),o=r-t;this._currentStep=this._currentStep+o,this._currentStep>=2147483647&&(this._currentStep=0),this._lastTime=r}const t=this._currentStep%this.duration/(this.duration/2),r=t<=1?t:2-t,o=this.from.getColorMatrix(),e=this.to.getColorMatrix();return s(o,o,1-r),s(e,e,r),!this.repeat&&this._currentStep>=this.duration&&(this.done=!0),i(o,o,e)}getOpacity(){throw new Error("No getOpacity definition for Transition")}clone(){const t=new n({from:this.from.clone(),to:this.to.clone(),duration:this.duration});return t._lastTime=this._lastTime,t._currentStep=this._currentStep,t}};t([o()],p.prototype,"from",void 0),t([o()],p.prototype,"to",void 0),t([o({type:Number})],p.prototype,"duration",void 0),t([o({type:Boolean})],p.prototype,"repeat",void 0),p=n=t([e("esri.views.layers.support.Transition")],p);const a=p;export{a as default};
