/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/asyncUtils","../../core/maybe","../../core/promiseUtils","../../core/reactiveUtils"],(function(e,o,n,t,i,l){"use strict";function a(e,a){e.interactive=!0;const{tool:c,view:s}=e;s.activeTool=c;let r=i.onAbort(a,(()=>{s.activeTool===c&&(s.activeTool=null)}));return n.createTask(function(){var e=o._asyncToGenerator((function*(e){yield l.whenOnce((()=>t.isNone(c)||!c.active),e),r=t.removeMaybe(r)}));return function(o){return e.apply(this,arguments)}}(),a)}function c(e,o){return l.watch((()=>e.interactive),(()=>s(e,o)),l.syncAndInitial)}function s(e,o){e.interactive?r(e,o):u(e)}function r(e,o){u(e);const{view:n,analysis:t}=e,i=new o({view:n,analysis:t,analysisViewData:e});return e.tool=i,n.tools.add(i),i}function u(e){const{view:o,tool:n}=e;t.isNone(n)||(o.tools.remove(n),e.tool=null)}e.activateAnalysisViewTool=a,e.connectAnalysisViewToTool=c,e.removeAnalysisViewTool=u,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
