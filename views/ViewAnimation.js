/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../core/has","../core/Logger","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/subclass","../core/Error","../core/urlUtils","../core/uuid","../portal/support/resourceExtension","../core/promiseUtils","../core/Promise"],(function(e,t,s,r,i,o,n,a,p,c,d,u,h){"use strict";let l=function(t){function s(e){var s;return(s=t.call(this,e)||this).state="running",s.target=null,s}e._inheritsLoose(s,t);var r=s.prototype;return r.initialize=function(){this.addResolvingPromise(u.create(((e,t)=>this._dfd={resolve:e,reject:t})))},r.stop=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._dfd.reject(new a("ViewAnimation stopped")))},r.finish=function(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._dfd.resolve())},r.update=function(e,t){t||(t=u.isPromiseLike(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",t)},e._createClass(s,[{key:"done",get:function(){return"finished"===this.state||"stopped"===this.state}}]),s}(h.EsriPromise);return t.__decorate([o.property({readOnly:!0,dependsOn:["state"]})],l.prototype,"done",null),t.__decorate([o.property({readOnly:!0,type:String})],l.prototype,"state",void 0),t.__decorate([o.property()],l.prototype,"target",void 0),l=t.__decorate([n.subclass("esri.views.ViewAnimation")],l),function(e){e.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(l||(l={})),l}));
