/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/Accessor","../../core/accessorSupport/decorators/property","../../core/arrayUtils","../../core/has","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/subclass","../../chunks/vec2","../../chunks/vec2f64","./viewpointUtils","./ViewState"],(function(t,e,o,i,r,n,s,p,a,c,d,l){"use strict";var u,h;let _=u=function(e){function o(){var t;return(t=e.apply(this,arguments)||this).left=0,t.top=0,t.right=0,t.bottom=0,t}return t._inheritsLoose(o,e),o.prototype.clone=function(){return new u({left:this.left,top:this.top,right:this.right,bottom:this.bottom})},o}(o);e.__decorate([i.property()],_.prototype,"left",void 0),e.__decorate([i.property()],_.prototype,"top",void 0),e.__decorate([i.property()],_.prototype,"right",void 0),e.__decorate([i.property()],_.prototype,"bottom",void 0),_=u=e.__decorate([p.subclass("esri.views.2d.PaddedViewState.Padding")],_);let y=h=function(e){function o(...t){var o;return(o=e.call(this,...t)||this).paddedViewState=new l,o._updateContent=(()=>{const t=c.create();return()=>{const e=o._get("size"),i=o._get("padding");if(!e||!i)return;const r=o.paddedViewState;a.set(t,i.left+i.right,i.top+i.bottom),a.subtract(t,e,t),a.copy(r.size,t);const n=r.viewpoint;n&&(o.viewpoint=n)}})(),o.watch(["size","padding"],o._updateContent,!0),o.padding=new _,o.size=[0,0],o}return t._inheritsLoose(o,e),o.prototype.clone=function(){return new h({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})},t._createClass(o,[{key:"padding",set:function(t){this._set("padding",t||new _)}},{key:"viewpoint",set:function(t){if(t){const e=t.clone();this.paddedViewState.viewpoint=t,d.addPadding(e,t,this._get("size"),this._get("padding"));const o=this._viewpoint2D,i=e.targetGeometry;o.center[0]=i.x,o.center[1]=i.y,o.rotation=e.rotation,o.scale=e.scale,o.spatialReference=i.spatialReference,this._update()}}}]),o}(l);e.__decorate([i.property()],y.prototype,"paddedViewState",void 0),e.__decorate([i.property({type:_})],y.prototype,"padding",null),e.__decorate([i.property()],y.prototype,"viewpoint",null),y=h=e.__decorate([p.subclass("esri.views.2d.PaddedViewState")],y);return y}));
