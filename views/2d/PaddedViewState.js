/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../../core/Accessor","../../chunks/vec2f64","../../chunks/vec2","./viewpointUtils","./ViewState"],(function(e,t,o,r,i,s,p,n,a,c,d,u,l,_,y){"use strict";let h=function(t){function o(){var e;return(e=t.apply(this,arguments)||this).left=0,e.top=0,e.right=0,e.bottom=0,e}return e._inheritsLoose(o,t),o}(d);t.__decorate([s.property()],h.prototype,"left",void 0),t.__decorate([s.property()],h.prototype,"top",void 0),t.__decorate([s.property()],h.prototype,"right",void 0),t.__decorate([s.property()],h.prototype,"bottom",void 0),h=t.__decorate([p.subclass("esri.views.2d.PaddedViewState.Padding")],h);let g=function(t){function o(...e){var o;return(o=t.call(this,...e)||this).paddedViewState=new y,o._updateContent=(()=>{const e=u.create();return()=>{const t=o._get("size"),r=o._get("padding");if(!t||!r)return;const i=o.paddedViewState;l.set(e,r.left+r.right,r.top+r.bottom),l.subtract(e,t,e),l.copy(i.size,e);const s=i.viewpoint;s&&(o.viewpoint=s)}})(),o.watch(["size","padding"],o._updateContent,!0),o.padding=new h,o.size=[0,0],o}return e._inheritsLoose(o,t),e._createClass(o,[{key:"padding",set:function(e){this._set("padding",e||new h)}},{key:"viewpoint",set:function(e){if(e){const t=e.clone();this.paddedViewState.viewpoint=e,_.addPadding(t,e,this._get("size"),this._get("padding"));const o=this._viewpoint2D,r=t.targetGeometry;o.center[0]=r.x,o.center[1]=r.y,o.rotation=t.rotation,o.scale=t.scale,o.spatialReference=r.spatialReference,this._update()}}}]),o}(y);return t.__decorate([s.property()],g.prototype,"paddedViewState",void 0),t.__decorate([s.property({type:h})],g.prototype,"padding",null),t.__decorate([s.property()],g.prototype,"viewpoint",null),g=t.__decorate([p.subclass("esri.views.2d.PaddedViewState")],g),g}));
