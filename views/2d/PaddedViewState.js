/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/Accessor","../../core/accessorSupport/decorators/property","../../core/arrayUtils","../../core/has","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/subclass","../../chunks/vec2","../../chunks/vec2f64","./viewpointUtils","./ViewState"],(function(e,t,o,r,i,s,p,n,a,c,d,u){"use strict";let _=function(t){function o(){var e;return(e=t.apply(this,arguments)||this).left=0,e.top=0,e.right=0,e.bottom=0,e}return e._inheritsLoose(o,t),o}(o);t.__decorate([r.property()],_.prototype,"left",void 0),t.__decorate([r.property()],_.prototype,"top",void 0),t.__decorate([r.property()],_.prototype,"right",void 0),t.__decorate([r.property()],_.prototype,"bottom",void 0),_=t.__decorate([n.subclass("esri.views.2d.PaddedViewState.Padding")],_);let l=function(t){function o(...e){var o;return(o=t.call(this,...e)||this).paddedViewState=new u,o._updateContent=(()=>{const e=c.create();return()=>{const t=o._get("size"),r=o._get("padding");if(!t||!r)return;const i=o.paddedViewState;a.set(e,r.left+r.right,r.top+r.bottom),a.subtract(e,t,e),a.copy(i.size,e);const s=i.viewpoint;s&&(o.viewpoint=s)}})(),o.watch(["size","padding"],o._updateContent,!0),o.padding=new _,o.size=[0,0],o}return e._inheritsLoose(o,t),e._createClass(o,[{key:"padding",set:function(e){this._set("padding",e||new _)}},{key:"viewpoint",set:function(e){if(e){const t=e.clone();this.paddedViewState.viewpoint=e,d.addPadding(t,e,this._get("size"),this._get("padding"));const o=this._viewpoint2D,r=t.targetGeometry;o.center[0]=r.x,o.center[1]=r.y,o.rotation=t.rotation,o.scale=t.scale,o.spatialReference=r.spatialReference,this._update()}}}]),o}(u);t.__decorate([r.property()],l.prototype,"paddedViewState",void 0),t.__decorate([r.property({type:_})],l.prototype,"padding",null),t.__decorate([r.property()],l.prototype,"viewpoint",null),l=t.__decorate([n.subclass("esri.views.2d.PaddedViewState")],l);return l}));
