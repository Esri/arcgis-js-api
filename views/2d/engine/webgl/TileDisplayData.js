/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","./WGLDisplayList","./util/serializationUtils","./WGLDisplayObject"],(function(t,s,e,i,n){"use strict";function l(t){const s=[[],[],[],[],[]],e=t;for(const t of e)for(const e of t.displayRecords)s[e.geometryType].push(e);return s}let o=function(){function t(){}var o=t.prototype;return o.computeDisplayList=function(t){if(this._displayList=new e(t),t)for(const t of this.displayObjects)for(const s of t.displayRecords)this._displayList.addToList(s);else{const t=l(this.displayObjects),s=t.length;for(let e=0;e<s;++e){const s=t[e];this._displayList.addToList(s)}}},o.clone=function(){const s=new t;return this.displayObjects&&(s.displayObjects=this.displayObjects.map((t=>t.clone()))),s},o.serialize=function(t){return i.serializeList(t,this.displayObjects),t},o._deserializeObjects=function(t){const s=t.readInt32(),e=new Array(s),i=new Map;for(let s=0;s<e.length;++s){const l=n.deserialize(t);e[s]=l,i.set(l.id,l)}this.displayObjects=e,this._displayList=null,this._displayObjectRegistry=i},t.deserialize=function(s){const e=new t;return e._deserializeObjects(s),e},s._createClass(t,[{key:"displayObjectRegistry",get:function(){if(!this._displayObjectRegistry){this._displayObjectRegistry=new Map;for(const t of this.displayObjects)this._displayObjectRegistry.set(t.id,t)}return this._displayObjectRegistry}},{key:"displayList",get:function(){return this._displayList}}]),t}();t.default=o,t.groupRecordsByGeometryType=l,Object.defineProperty(t,"__esModule",{value:!0})}));
