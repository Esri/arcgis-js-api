/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["../../../../chunks/_rollupPluginBabelHelpers","./GraphicDisplayList","./WGLDisplayObject","./util/serializationUtils"],(function(i,s,t,e){"use strict";return function(){function n(){this.displayObjects=[],this._displayList=null}var l=n.prototype;return l.computeDisplayList=function(){this._displayList=new s;for(const i of this.displayObjects)for(const s of i.displayRecords)this._displayList.addToList(s)},l.clone=function(){const i=new n;return this.displayObjects&&(i.displayObjects=this.displayObjects.map((i=>i.clone()))),i},l.serialize=function(i){return e.serializeList(i,this.displayObjects),i},l._deserializeObjects=function(i){const s=i.readInt32(),e=new Array(s),n=new Map;for(let l=0;l<e.length;++l){const s=t.deserialize(i);e[l]=s,n.set(s.id,s)}this.displayObjects=e,this._displayList=null,this._displayObjectRegistry=n},n.deserialize=function(i){const s=new n;return s._deserializeObjects(i),s},i._createClass(n,[{key:"displayObjectRegistry",get:function(){if(!this._displayObjectRegistry){this._displayObjectRegistry=new Map;for(const i of this.displayObjects)this._displayObjectRegistry.set(i.id,i)}return this._displayObjectRegistry}},{key:"displayList",get:function(){return this._displayList}}]),n}()}));
