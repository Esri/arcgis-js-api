/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../../../core/maybe","../../../../../webgl/enums","../../../../../webgl/Texture"],(function(e,t,r,i){"use strict";let s=function(){function e(){this._size=[0,0],this._layerFBOTexture=null}var s=e.prototype;return s.dispose=function(){this._layerFBOTexture=t.disposeMaybe(this._layerFBOTexture)},s.draw=function(e,t,i){const{width:s,height:a}=t;this._createOrResizeResources(e,s,a);const{context:n,painter:o}=e,{amount:l}=i,u=n.gl,T=this._layerFBOTexture;n.bindFramebuffer(t),t.copyToTexture(0,0,s,a,0,0,T),n.setBlendingEnabled(!0),n.setStencilTestEnabled(!1),n.setDepthTestEnabled(!1),n.setClearColor(0,0,0,0),n.clear(u.COLOR_BUFFER_BIT),o.blitTexture(n,T,r.TextureSamplingMode.NEAREST,l)},s._createOrResizeResources=function(e,t,s){const{context:a}=e;this._layerFBOTexture&&this._size[0]===t&&this._size[1]===s||(this._size[0]=t,this._size[1]=s,this._layerFBOTexture?this._layerFBOTexture.resize(t,s):this._layerFBOTexture=new i.Texture(a,{target:r.TextureType.TEXTURE_2D,pixelFormat:r.PixelFormat.RGBA,internalFormat:r.PixelFormat.RGBA,dataType:r.PixelType.UNSIGNED_BYTE,wrapMode:r.TextureWrapMode.CLAMP_TO_EDGE,samplingMode:r.TextureSamplingMode.NEAREST,flipped:!1,width:t,height:s}))},e}();e.Opacity=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
