/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["require","exports"],(function(e,t){"use strict";function s(e){switch(e){case"bloom":case"blur":case"opacity":case"drop-shadow":return e;default:return"colorize"}}const o={colorize:async()=>new((await new Promise((function(t,s){e(["./Colorize"],t,s)}))).Colorize),blur:async()=>new((await new Promise((function(t,s){e(["./Blur"],t,s)}))).Blur),bloom:async()=>new((await new Promise((function(t,s){e(["./Bloom"],t,s)}))).Bloom),opacity:async()=>new((await new Promise((function(t,s){e(["./Opacity"],t,s)}))).Opacity),"drop-shadow":async()=>new((await new Promise((function(t,s){e(["./DropShadow"],t,s)}))).DropShadow)};let n=function(){function e(e){this._requestRender=e,this._effectMap=new Map,this._effectPromiseMap=new Map}var t=e.prototype;return t.dispose=function(){this._requestRender&&(this._requestRender=null),this._effectMap.forEach((e=>e.dispose())),this._effectMap.clear(),this._effectPromiseMap.clear()},t.getPostProcessingEffects=function(e){if(!e||0===e.length)return[];const t=[];for(const o of e){const e=s(o.type),n=this._effectMap.get(e);n?t.push({postProcessingEffect:n,effect:o}):this._enablePostProcessingEffect(e)}return t},t._enablePostProcessingEffect=async function(e){const t=await this._loadPostProcessingEffect(e);this._requestRender&&(this._effectMap.set(e,t),this._requestRender.requestRender())},t._loadPostProcessingEffect=async function(e){return this._effectPromiseMap.has(e)||this._effectPromiseMap.set(e,o[e]()),this._effectPromiseMap.get(e)},e}();t.EffectManager=n,Object.defineProperty(t,"__esModule",{value:!0})}));
