/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
define(["require","exports","../../../../../../chunks/_rollupPluginBabelHelpers"],(function(e,t,n){"use strict";function r(e){switch(e){case"bloom":case"blur":case"opacity":case"drop-shadow":return e;default:return"colorize"}}const o={colorize:(u=n._asyncToGenerator((function*(){return new((yield new Promise((function(t,n){e(["./Colorize"],t,n)}))).Colorize)})),function(){return u.apply(this,arguments)}),blur:(f=n._asyncToGenerator((function*(){return new((yield new Promise((function(t,n){e(["./Blur"],t,n)}))).Blur)})),function(){return f.apply(this,arguments)}),bloom:(c=n._asyncToGenerator((function*(){return new((yield new Promise((function(t,n){e(["./Bloom"],t,n)}))).Bloom)})),function(){return c.apply(this,arguments)}),opacity:(i=n._asyncToGenerator((function*(){return new((yield new Promise((function(t,n){e(["./Opacity"],t,n)}))).Opacity)})),function(){return i.apply(this,arguments)}),"drop-shadow":(s=n._asyncToGenerator((function*(){return new((yield new Promise((function(t,n){e(["./DropShadow"],t,n)}))).DropShadow)})),function(){return s.apply(this,arguments)})};var s,i,c,f,u;let a=function(){function e(e){this._requestRender=e,this._effectMap=new Map,this._effectPromiseMap=new Map}var t=e.prototype;return t.dispose=function(){this._requestRender&&(this._requestRender=null),this._effectMap.forEach((e=>e.dispose())),this._effectMap.clear(),this._effectPromiseMap.clear()},t.getPostProcessingEffects=function(e){if(!e||0===e.length)return[];const t=[];for(const n of e){const e=r(n.type),o=this._effectMap.get(e);o?t.push({postProcessingEffect:o,effect:n}):this._enablePostProcessingEffect(e)}return t},t._enablePostProcessingEffect=function(){var e=n._asyncToGenerator((function*(e){const t=yield this._loadPostProcessingEffect(e);this._requestRender&&(this._effectMap.set(e,t),this._requestRender.requestRender())}));function t(t){return e.apply(this,arguments)}return t}(),t._loadPostProcessingEffect=function(){var e=n._asyncToGenerator((function*(e){return this._effectPromiseMap.has(e)||this._effectPromiseMap.set(e,o[e]()),this._effectPromiseMap.get(e)}));function t(t){return e.apply(this,arguments)}return t}(),e}();t.EffectManager=a,Object.defineProperty(t,"__esModule",{value:!0})}));
