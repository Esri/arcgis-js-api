/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../Utils","../util/Writer","./VertexBuffer"],(function(t,e,r,n,s){"use strict";let i=function(){function t(t,e){this.data=t,this.stride=e}return t.prototype.transfer=function(t,e){const r=this.data.buffer();t.vertexCount=this.vertexCount,t.data=r,t.stride=this.stride,e.push(r)},e._createClass(t,[{key:"vertexCount",get:function(){const t=this.stride/4,e=this.data.length/t;return e!==(0|e)&&console.debug("Corrupted stride"),e}}]),t}(),o=function(){function t(t,e,s=!1){this.geometryType=t,this.indexVector=new n(Uint32Array,6*e),this.namedVectors={};const o=r.getStrides(t,s);for(const t in o){const r=o[t];let s;switch(r%4){case 0:case 2:s=new n(Uint32Array,r*e);break;case 1:case 3:s=new n(Uint8Array,r*e)}this.namedVectors[t]=new i(s,r)}}var e=t.prototype;return e.get=function(t){return this.namedVectors[t].data},e.getVector=function(t){return this.namedVectors[t]},e.transfer=function(t,e){const r=this.indexVector.buffer(),n={};e.push(r);for(const t in this.namedVectors){const r=this.namedVectors[t];n[t]={},r.transfer(n[t],e)}t.geometryType=this.geometryType,t.indexBuffer=r,t.namedBuffers=n,this.destroy()},e.intoBuffers=function(){const t=s.VertexBuffers.fromVertexVectors(this);return this.destroy(),t},e.destroy=function(){this.indexVector=null,this.namedVectors=null},t}();t.VertexVectors=o,t.default=i,Object.defineProperty(t,"__esModule",{value:!0})}));
