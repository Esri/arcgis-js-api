/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../../core/mathUtils","../../../../../renderers/support/lengthUtils","../../../../../renderers/visualVariables/support/sizeVariableUtils"],(function(e,n,t,r){"use strict";const a=Math.PI;function i(e,n){switch(n.transformationType){case r.TransformationType.Additive:return s(e,n);case r.TransformationType.Constant:return u(n,e);case r.TransformationType.ClampedLinear:return l(e,n);case r.TransformationType.Proportional:return c(e,n);case r.TransformationType.Stops:return m(e,n);case r.TransformationType.RealWorldSize:return p(e,n);case r.TransformationType.Identity:return e;case r.TransformationType.Unknown:return null}}function o(e,n){return"number"==typeof e?e:i(n,e)}function s(e,n){return e+(o(n.minSize,e)||n.minDataValue)}function u(e,n){const t=e.stops;let r=t&&t.length&&t[0].size;return null==r&&(r=e.minSize),o(r,n)}function l(e,n){const t=n.minDataValue,r=n.maxDataValue,a=(e-t)/(r-t),i=o(n.minSize,e),s=o(n.maxSize,e);return e<=t?i:e>=r?s:i+a*(s-i)}function c(e,t){const r=e/t.minDataValue,a=o(t.minSize,e),i=o(t.maxSize,e);let s=null;return s=r*a,n.clamp(s,a,i)}function m(e,n){const[t,r,a]=f(e,n.cache.ipData);if(t===r)return o(n.stops[t].size,e);{const i=o(n.stops[t].size,e);return i+(o(n.stops[r].size,e)-i)*a}}function p(e,r){const i=t.meterIn[r.valueUnit],s=o(r.minSize,e),u=o(r.maxSize,e),{valueRepresentation:l}=r;let c=null;return c="area"===l?2*Math.sqrt(e/a)/i:"radius"===l||"distance"===l?2*e/i:e/i,n.clamp(c,s,u)}function f(e,n){if(!n)return;let t=0,r=n.length-1;return n.some(((n,a)=>e<n?(r=a,!0):(t=a,!1))),[t,r,(e-n[t])/(n[r]-n[t])]}e.getSizeForValueSimple=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
