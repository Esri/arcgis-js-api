/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../core/maybe","./DefaultVertexAttributeLayouts","./shaders/BitBlitPrograms","../../../webgl/BufferObject","../../../webgl/enums","../../../webgl/ProgramTemplate","../../../webgl/VertexArrayObject"],(function(e,t,r,i,n,a,o,s){"use strict";let c=function(){function e(){this._initialized=!1}var c=e.prototype;return c.dispose=function(){this._program=t.disposeMaybe(this._program),this._vertexArrayObject=t.disposeMaybe(this._vertexArrayObject)},c.render=function(e,t,r,i){e&&(this._initialized||this._initialize(e),e.setBlendFunctionSeparate(a.BlendFactor.ONE,a.BlendFactor.ONE_MINUS_SRC_ALPHA,a.BlendFactor.ONE,a.BlendFactor.ONE_MINUS_SRC_ALPHA),e.bindVAO(this._vertexArrayObject),e.useProgram(this._program),t.setSamplingMode(r),e.bindTexture(t,0),this._program.setUniform1i("u_tex",0),this._program.setUniform1f("u_opacity",i),e.drawArrays(a.PrimitiveType.TRIANGLE_STRIP,0,4),e.bindTexture(null,0),e.bindVAO())},c._initialize=function(e){if(this._initialized)return!0;const t=o.createProgram(e,i.bitBlit);if(!t)return!1;const c=new Int8Array(16);c[0]=-1,c[1]=-1,c[2]=0,c[3]=0,c[4]=1,c[5]=-1,c[6]=1,c[7]=0,c[8]=-1,c[9]=1,c[10]=0,c[11]=1,c[12]=1,c[13]=1,c[14]=1,c[15]=1;const l=i.bitBlit.attributes,u=new s.VertexArrayObject(e,l,r.PosTex2b,{geometry:n.BufferObject.createVertex(e,a.Usage.STATIC_DRAW,c)});return this._program=t,this._vertexArrayObject=u,this._initialized=!0,!0},e}();e.BitBlitRenderer=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
