/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../../../../chunks/_rollupPluginBabelHelpers"],(function(t){"use strict";return function(){function r(t,r){this._pos=0;const s=r?this._roundToNearest(r,t.BYTES_PER_ELEMENT):40;this._array=new ArrayBuffer(s),this._buffer=new t(this._array),this._ctor=t}var s=r.prototype;return s._roundToNearest=function(t,r){const s=Math.round(t);return s+(r-s%r)},s._ensureSize=function(t){if(this._pos+t>=this._buffer.length){const r=this._roundToNearest(1.5*(this._array.byteLength+t*this._buffer.BYTES_PER_ELEMENT),this._buffer.BYTES_PER_ELEMENT),s=new ArrayBuffer(r),e=new this._ctor(s);e.set(this._buffer,0),this._array=s,this._buffer=e}},s.writeF32=function(t){this._ensureSize(1);const r=this._pos;return new Float32Array(this._array,4*this._pos,1)[0]=t,this._pos++,r},s.push=function(t){this._ensureSize(1);const r=this._pos;return this._buffer[this._pos++]=t,r},s.writeFixed=function(t){this._buffer[this._pos++]=t},s.setValue=function(t,r){this._buffer[t]=r},s.getValue=function(t){return this._buffer[t]},s.incr=function(t){this._buffer[t]++},s.decr=function(t){this._buffer[t]--},s.writeRegion=function(t){this._ensureSize(t.length);const r=this._pos;return this._buffer.set(t,this._pos),this._pos+=t.length,r},s.buffer=function(){const t=this._array.slice(0,4*this._pos);return this.destroy(),t},s.toArray=function(){const t=this._array,r=[];for(let s=0;s<t.byteLength/4;s++)r.push(t[s]);return r},s.seek=function(t){this._pos=t},s.destroy=function(){this._array=null,this._buffer=null},t._createClass(r,[{key:"length",get:function(){return this._pos}}]),r}()}));
