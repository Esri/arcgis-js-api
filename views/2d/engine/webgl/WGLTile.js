/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/mat2d","../../../../chunks/mat2df32","../../../../chunks/mat3","../../../../chunks/mat3f32","./definitions","./TiledDisplayObject"],(function(t,e,s,i,r,n,o,a){"use strict";let l=function(){function t(){}var e=t.prototype;return e.acquire=function(t){return{refCount:1,version:-1,labelMat2d:n.create(),tileMat3:n.create(),dvs:n.create()}},e.release=function(t){},t}(),c=function(t){function n(e,s,i,r){return t.call(this,e,s,i,r,o.TILE_SIZE,o.TILE_SIZE)||this}e._inheritsLoose(n,t);var a=n.prototype;return a.destroy=function(){t.prototype.destroy.call(this),this._transforms&&n.TransformCache.release(this.key.hash)},a.setTransform=function(t){const e=this.resolution/t.resolution,n=this.transforms.tileMat3,[o,a]=t.toScreenNoRotation([0,0],[this.x,this.y]),l=this.width/this.rangeX*e,c=this.height/this.rangeY*e;r.set(n,l,0,0,0,c,0,o,a,1),r.multiply(this.transforms.dvs,t.displayViewMat3,n);const u=this.transforms.labelMat2d,h=window.devicePixelRatio,f=s.set(i.create(),l*h,0,0,c*h,o*h,a*h);s.multiply(u,t.viewMat2d,f)},a._createTransforms=function(){return n.TransformCache.acquire(this.key.hash)},n}(a.TiledDisplayObject);c.TransformCache=new l,t.WGLTile=c,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
