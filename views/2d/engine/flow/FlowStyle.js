/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../core/promiseUtils","./animatedFlowRendererUtils","./FlowGLResources"],(function(e,t,r,n){"use strict";let i=function(){function i(e,t,n){this._loadImagery=e,this._createStreamlinesMesh=t,this._rendererSettings=r.createAnimatedFlowRendererSettings(n)}var s=i.prototype;return s.areResourcesCompatible=function(e){let t=!0;return t=t&&e._loadImagery===this._loadImagery,t=t&&e._createStreamlinesMesh===this._createStreamlinesMesh,t=t&&e._rendererSettings.verticesPerLine===this._rendererSettings.verticesPerLine,t=t&&e._rendererSettings.segmentLength===this._rendererSettings.segmentLength,t=t&&e._rendererSettings.lineSpacing===this._rendererSettings.lineSpacing,t=t&&e._rendererSettings.density===this._rendererSettings.density,t=t&&e._rendererSettings.smoothing===this._rendererSettings.smoothing,t=t&&e._rendererSettings.velocityScale===this._rendererSettings.velocityScale,t=t&&e._rendererSettings.minWeightThreshold===this._rendererSettings.minWeightThreshold,t=t&&e._rendererSettings.minSpeedThreshold===this._rendererSettings.minSpeedThreshold,t=t&&e._rendererSettings.mergeLines===this._rendererSettings.mergeLines,t=t&&e._rendererSettings.interpolate===this._rendererSettings.interpolate,t&&this._rendererSettings.mergeLines&&(t=e._rendererSettings.lineCollisionWidth===this._rendererSettings.lineCollisionWidth),!!t},s.loadResources=function(){var r=e._asyncToGenerator((function*(e,r){const{extent:i,size:s}=e;t.throwIfAborted(r);const d=yield this._loadImagery(i,s[0],s[1],r),{vertexData:g,indexData:o}=yield this._createStreamlinesMesh(this._rendererSettings,d,r);return new n(g,o)}));function i(e,t){return r.apply(this,arguments)}return i}(),e._createClass(i,[{key:"animated",get:function(){return this._rendererSettings.lineSpeed>0}},{key:"renderSettings",get:function(){return this._rendererSettings}}]),i}();return i}));
