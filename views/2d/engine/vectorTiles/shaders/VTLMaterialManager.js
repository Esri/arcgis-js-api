/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
define(["../../../../webgl/BufferObject","../../../../webgl/FramebufferObject","../../../../webgl/Program","../../../../../chunks/_rollupPluginBabelHelpers","../../../../webgl/enums","../../../../webgl/RenderingContext","../../../../webgl/Texture","../../../../webgl/VertexArrayObject","./Programs"],(function(e,r,t,a,n,s,i,c,u){"use strict";return function(){function e(){this._programByKey=new Map}var r=e.prototype;return r.dispose=function(){this._programByKey.forEach((e=>e.dispose())),this._programByKey.clear()},r.getMaterialProgram=function(e,r,a){const n=r.key<<3|this._getMaterialOptionsValue(r.type,a);if(this._programByKey.has(n))return this._programByKey.get(n);const s=this._getProgramTemplate(r.type),{shaders:i}=s,{vertexShader:c,fragmentShader:u}=i(a),o=r.getShaderHeader(),g=r.getShaderMain(),l=c.replace("#pragma header",o).replace("#pragma main",g),p=new t.Program(e,l,u,r.getAttributeLocations());return this._programByKey.set(n,p),p},r._getMaterialOptionsValue=function(e,r){switch(e){case 0:{const e=r;return(e.pattern?1:0)<<1|(e.id?1:0)}case 1:{const e=r;return(e.pattern?1:0)<<1|(e.id?1:0)}case 2:return r.id?1:0;case 3:{const e=r;return(e.sdf?1:0)<<2|(e.pattern?1:0)<<1|(e.id?1:0)}case 4:{const e=r;return(e.sdf?1:0)<<1|(e.id?1:0)}case 5:return r.id?1:0;case 6:return r.id?1:0;default:return 0}},r._getProgramTemplate=function(e){switch(e){case 0:return u.background;case 5:return u.circle;case 1:return u.fill;case 4:return u.icon;case 3:return u.line;case 2:return u.outline;case 6:return u.text;default:return null}},e}()}));
