/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["../../../../../chunks/vec2f64","../../../../webgl/rasterUtils"],(function(t,e){"use strict";const r={vsPath:"raster/common",fsPath:"raster/reproject",attributes:new Map([["a_position",0],["a_texcoord",1]])};function i(t,e){const{painter:i}=t,n=[],o=!t.context.capabilities.textureFloat?.textureFloatLinear,{interpolation:s,transformGrid:a}=e;return"cubic"===s?n.push("bicubic"):"bilinear"===s&&o&&n.push("bilinear"),a&&(n.push("applyProjection"),1===a.spacing[0]&&n.push("lookupProjection")),i.materialManager.getProgram(r,n)}function n(r,i,n){const{names:o,textures:s}=n.getTextures({forProcessing:!0});e.setTextures(r.context,i,o,s),i.setUniform1f("u_scale",1),i.setUniform2fv("u_offset",[0,0]),i.setUniform2fv("u_coordScale",[1,1]),i.setUniformMatrix3fv("u_dvsMat3",[2,0,0,0,2,0,-1,-1,0]),i.setUniform1i("u_flipY",0),i.setUniform1f("u_opacity",1);const{width:a,height:f,source:c,transformGrid:u}=n;i.setUniform2fv("u_srcImageSize",[c.width,c.height]),i.setUniform2fv("u_targetImageSize",[a,f]),i.setUniform2fv("u_transformSpacing",u?u.spacing:t.ZEROS),i.setUniform2fv("u_transformGridSize",u?u.size:t.ZEROS)}return{createProgram:i,bindTextureAndUniforms:n}}));
