/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/tslib.es6","../../../../geometry","../../../../Viewpoint","../../../../core/Accessor","../../../../core/accessorSupport/decorators/property","../../../../core/accessorSupport/ensureType","../../../../core/arrayUtils","../../../../core/accessorSupport/decorators/subclass","../../../../chunks/vec2","../../../../chunks/vec2f64","../../viewpointUtils","../../../../geometry/Point"],(function(e,t,o,r,n,i,s,c,a,p,u,v,d){"use strict";const l=u.create(),y=u.create();let h=function(t){function o(e){var o;return(o=t.call(this,e)||this)._previousCenter=u.create(),o.viewpoint=new r({targetGeometry:new d,scale:0,rotation:0}),o}e._inheritsLoose(o,t);var n=o.prototype;return n.begin=function(e,t){this.navigation.begin(),p.set(this._previousCenter,t.center.x,t.center.y)},n.update=function(e,t){const{state:{size:o,padding:r}}=e;p.set(l,t.center.x,t.center.y),v.getAnchor(y,o,r),e.viewpoint=v.rotateBy(this.viewpoint,e.state.paddedViewState.viewpoint,v.angleBetween(y,this._previousCenter,l)),p.copy(this._previousCenter,l)},n.end=function(){this.navigation.end()},o}(n);t.__decorate([i.property()],h.prototype,"viewpoint",void 0),t.__decorate([i.property()],h.prototype,"navigation",void 0),h=t.__decorate([a.subclass("esri.views.2d.actions.Rotate")],h);return h}));
