/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../engine/Bitmap","../../engine/BitmapContainer"],(function(t,e,i,n){"use strict";let a=function(t){function n(n){var a;return(a=t.call(this)||this).requestRender=a.requestRender.bind(e._assertThisInitialized(a)),a._layerView=n,a._canvas=document.createElement("canvas"),a._context=a._canvas.getContext("2d"),a._bitmap=new i.Bitmap(null,"standard",!1),a.addChild(a._bitmap),a}e._inheritsLoose(n,t);var a=n.prototype;return a.doRender=function(e){const i=e.state,n=this._createCustomRenderParams(e),a=this._canvas,o=this._bitmap,r=window.devicePixelRatio;a.width=i.size[0]*r,a.height=i.size[1]*r,o.resolution=i.resolution;const s=i.clone();s.pixelRatio=r,o.pixelRatio=r,n.state=s,o.x=i.viewpoint.targetGeometry.x-i.extent.width/2,o.y=i.viewpoint.targetGeometry.y+i.extent.height/2,this._layerView.render(n),o.source=a,o.rotation=i.rotation,t.prototype.doRender.call(this,{...e,state:s})},a._createCustomRenderParams=function(t){return{globalOpacity:t.globalOpacity,state:t.state,stationary:t.stationary,pixelRatio:window.devicePixelRatio,context:this._context}},n}(n.BitmapContainer);t.Display=a,t.default=a,Object.defineProperty(t,"__esModule",{value:!0})}));
