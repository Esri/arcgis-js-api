/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../engine/Bitmap","../../engine/BitmapContainer"],(function(e,t,i,n){"use strict";let a=function(e){function n(n){var a;return(a=e.call(this)||this).requestRender=a.requestRender.bind(t._assertThisInitialized(a)),a._layerView=n,a._canvas=document.createElement("canvas"),a._context=a._canvas.getContext("2d"),a._bitmap=new i.Bitmap(null,{immutable:!1,requestRenderOnSourceChangedEnabled:!1}),a.addChild(a._bitmap),a}t._inheritsLoose(n,e);var a=n.prototype;return a.doRender=function(t){const i=t.state,n=this._createCustomRenderParams(t),a=this._canvas,o=this._bitmap,r=window.devicePixelRatio;a.width=i.size[0]*r,a.height=i.size[1]*r,o.resolution=i.resolution;const s=i.clone();s.pixelRatio=r,o.pixelRatio=r,n.state=s,o.x=i.viewpoint.targetGeometry.x-Math.abs(i.extent.xmax-i.extent.xmin)/2,o.y=i.viewpoint.targetGeometry.y+Math.abs(i.extent.ymax-i.extent.ymin)/2,this._layerView.render(n),o.source=a,o.rotation=i.rotation,e.prototype.doRender.call(this,{...t,state:s})},a._createCustomRenderParams=function(e){return{globalOpacity:e.globalOpacity,state:e.state,stationary:e.stationary,pixelRatio:window.devicePixelRatio,context:this._context}},n}(n.BitmapContainer);e.Display=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
