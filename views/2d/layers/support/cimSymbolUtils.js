/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{analyzeCIMSymbol as e}from"../../../../symbols/cim/cimAnalyzer.js";import{ExpandedCIM as t}from"../../../../symbols/cim/ExpandedCIM.js";import{fetchCIMSymbolReference as a}from"./webStyleUtils.js";const r=async(e,t,a,r)=>Promise.all(e.map((e=>n(e,t,a,r)))),l=async(a,r,l)=>new t(await e(a.data,r,l),a.data,a.rendererKey,a.maxVVSize),n=async(e,t,r,n)=>{if(!e)return null;if("cim"===e.type)return l(e,t,r);if("web-style"===e.type){const i={type:"cim",data:await a(e,null,n),rendererKey:e.rendererKey,maxVVSize:e.maxVVSize};return l(i,t,r)}return e};function i(e){if(!e)return null;const{type:t,cim:a,url:r,materialHash:l}=e,n={cim:a,type:t,mosaicHash:l,url:r,size:null,dashTemplate:null,path:null,text:null,fontName:null,animatedSymbolProperties:null};switch(t){case"marker":n.size=e.size,n.path=e.path,n.animatedSymbolProperties=e.animatedSymbolProperties;break;case"line":n.dashTemplate=e.dashTemplate;break;case"text":n.text=e.text,n.fontName=e.fontName}return n}export{i as cimLayerToRasterizationInfo,n as expandSymbol,r as expandSymbols};
