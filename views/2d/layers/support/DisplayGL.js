/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../ViewState","../../engine/webgl/enums","../../engine/Container"],(function(e,t,r,i,n){"use strict";let a=function(e){function n(i){var n;return(n=e.call(this)||this).layerView=i,n._childrenRenderParameters={context:null,pixelRatio:1,state:new r,stationary:!0,painter:null},n._name=n.constructor.name,n.requestRender=n.requestRender.bind(t._assertThisInitialized(n)),n}t._inheritsLoose(n,e);var a=n.prototype;return a.doRender=function(e){if(e.drawPhase!==i.WGLDrawPhase.MAP)return;const t=window.devicePixelRatio,{state:r,stationary:n,context:a,painter:o,profiler:s}=e,l=this._childrenRenderParameters;l.context=a.gl,l.state.copy(r),l.state.pixelRatio=t,l.stationary=n,l.painter=o;const d=this.createRenderParams(e);o.beforeRenderLayer(d,this.clips?255:0,d.globalOpacity),s.recordContainerStart(this._name);const c=a.getBoundFramebufferObject(),h=a.getViewport();a.resetState(),a.bindFramebuffer(c),a.setViewport(h.x,h.y,h.width,h.height),this.layerView._renderTarget.framebufferObject=c.glName,this.layerView._renderTarget.viewport[0]=h.x,this.layerView._renderTarget.viewport[1]=h.y,this.layerView._renderTarget.viewport[2]=h.width,this.layerView._renderTarget.viewport[3]=h.height,this.layerView.render(l),a.enforceState(),o.compositeLayer(d,d.globalOpacity),s.recordContainerEnd()},a.createRenderParams=function(e){return{...e,blendMode:this.blendMode,globalOpacity:e.globalOpacity*this.opacity,inFadeTransition:this.inFadeTransition}},n}(n.Container);e.DisplayGL=a,e.default=a,Object.defineProperty(e,"__esModule",{value:!0})}));
