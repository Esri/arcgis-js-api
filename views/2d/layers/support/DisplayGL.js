/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../ViewState","../../engine/Container","../../engine/webgl/enums"],(function(e,t,r,i,a){"use strict";let n=function(e){function i(i){var a;return(a=e.call(this)||this).layerView=i,a._childrenRenderParameters={context:null,pixelRatio:1,state:new r,stationary:!0,painter:null},a._name=a.constructor.name,a.requestRender=a.requestRender.bind(t._assertThisInitialized(a)),a}t._inheritsLoose(i,e);var n=i.prototype;return n.doRender=function(e){if(e.drawPhase!==a.WGLDrawPhase.MAP)return;const t=window.devicePixelRatio,{stationary:r,context:i,painter:n,profiler:o}=e,s=this._childrenRenderParameters;s.context=i.gl,s.state.copy(e.state),s.state.pixelRatio=t,s.stationary=r,s.painter=n;const l=this.createRenderParams(e);n.beforeRenderLayer(l,this.clips?255:0,l.globalOpacity),o.recordContainerStart(this._name);const d=i.getBoundFramebufferObject(),c=i.getViewport();i.resetState(),i.bindFramebuffer(d),i.setViewport(c.x,c.y,c.width,c.height),this.layerView._renderTarget.framebuffer=d.glName,this.layerView._renderTarget.viewport[0]=c.x,this.layerView._renderTarget.viewport[1]=c.y,this.layerView._renderTarget.viewport[2]=c.width,this.layerView._renderTarget.viewport[3]=c.height,this.layerView.render(s),i.enforceState(),n.compositeLayer(l,l.globalOpacity),o.recordContainerEnd()},n.createRenderParams=function(e){return{...e,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.opacity,inFadeTransition:this.inFadeTransition}},i}(i.Container);e.DisplayGL=n,e.default=n,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
