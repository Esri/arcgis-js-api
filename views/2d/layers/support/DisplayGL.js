/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../ViewState","../../engine/Container","../../engine/webgl/enums"],(function(e,t,r,i,n){"use strict";let a=function(e){function i(i){var n;return(n=e.call(this)||this).layerView=i,n._childrenRenderParameters={context:null,pixelRatio:1,state:new r,stationary:!0,painter:null},n._name=n.constructor.name,n.requestRender=n.requestRender.bind(t._assertThisInitialized(n)),n}t._inheritsLoose(i,e);var a=i.prototype;return a.doRender=function(e){if(e.drawPhase!==n.WGLDrawPhase.MAP)return;const t=window.devicePixelRatio,{stationary:r,context:i,painter:a,profiler:o}=e,s=this._childrenRenderParameters;s.context=i.gl,s.state.copy(e.state),s.state.pixelRatio=t,s.stationary=r,s.painter=a;const l=this.createRenderParams(e);a.beforeRenderLayer(l,this.clips?255:0,l.globalOpacity),o.recordContainerStart(this._name);const d=i.getBoundFramebufferObject(),c=i.getViewport();i.resetState(),i.bindFramebuffer(d),i.setViewport(c.x,c.y,c.width,c.height),this.layerView._renderTarget.framebuffer=d.glName,this.layerView._renderTarget.viewport[0]=c.x,this.layerView._renderTarget.viewport[1]=c.y,this.layerView._renderTarget.viewport[2]=c.width,this.layerView._renderTarget.viewport[3]=c.height,this.layerView.render(s),i.enforceState(),a.compositeLayer(l,l.globalOpacity),o.recordContainerEnd()},a.createRenderParams=function(e){return{...e,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:e.globalOpacity*this.opacity,inFadeTransition:this.inFadeTransition}},i}(i.Container);e.DisplayGL=a,e.default=a,Object.defineProperty(e,"__esModule",{value:!0})}));
