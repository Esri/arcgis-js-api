/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../../../core/maybe","../../../../../layers/support/arcgisLayerUrl","./DrillDownFeatureSource","./GeoEventSource","./PagedFeatureSource","./SnapshotFeatureSource"],(function(e,t,r,n,o,a,s){"use strict";function c(e,t,r,c,i,p){const f=u(e,t,r,c,i,p);switch(f.type){case"feature":switch(f.origin){case"hosted":case"local":return new a.PagedFeatureSource(f);case"snapshot":return new s.SnapshotFeatureSource(f);case"unknown":return new n.DrillDownFeatureSource(f)}case"geoevent":return new o.GeoEventSource(f)}}function u(e,n,o,a,s,c){switch(e.type){case"snapshot":return{type:"feature",origin:"snapshot",featureCount:t.unwrapOr(e.featureCount,0),serviceInfo:e,onMessage:a,outSR:n,tileInfoView:o,canAcceptRequest:s,store:c};case"stream":return{type:"geoevent",serviceInfo:e,onMessage:a,outSR:n,canAcceptRequest:s};case"memory":case"on-demand":return{type:"feature",serviceInfo:e,onMessage:a,outSR:n,origin:u(e.source),tileInfoView:o,canAcceptRequest:s}}function u(e){return Array.isArray(e)?"local":"path"in e&&r.isHostedAgolService(e.path)?"hosted":"unknown"}}e.createSource=c,Object.defineProperty(e,"__esModule",{value:!0})}));
