/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/maybe","../../../../../core/Evented","../../../../../core/accessorSupport/diffUtils"],(function(e,t,n,r,s){"use strict";let o=function(){function e(e){this._abortController=new AbortController,this.requests={pending:new Array,done:new Array},this.tile=e}var n=e.prototype;return n.add=function(e){this.requests.done.push(e),e.request.end&&(this.resolved=!0)},n.abort=function(){this._abortController.abort()},t._createClass(e,[{key:"signal",get:function(){return this._abortController.signal}}]),e}(),i=function(){function e(e){this.events=new r,this._subscriptions=new Map,this._serviceQueryInfo={outSpatialReference:e.outSR},this._serviceInfo=e.serviceInfo,this._onRequest=e.onRequest}var i=e.prototype;return i.queryLastEditDate=async function(){throw new Error("Service does not support query type")},i.query=async function(e,t){throw new Error("Service does not support query")},i.update=function(e){s.diff(e,this._sourceQueryInfo)&&(this._sourceQueryInfo=e)},i.updateSubscriptions=function(){},i.setViewState=function(e){},i.subscribe=function(e){const t=new o(e);this._subscriptions.set(e.id,t)},i.unsubscribe=function(e){const t=this.get(e.id);n.isSome(t)&&t.abort(),this._subscriptions.delete(e.id)},i.pause=function(){},i.resume=function(){},i.get=function(e){return this._subscriptions.has(e)?this._subscriptions.get(e):null},i.enableEvent=function(e,t){},t._createClass(e,[{key:"geometryType",get:function(){return this._serviceInfo.geometryType}}]),e}();e.DataTileSource=i,e.DataTileSubscription=o,Object.defineProperty(e,"__esModule",{value:!0})}));
