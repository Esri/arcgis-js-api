/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../core/has","../core/Logger","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/subclass","../core/urlUtils","../core/uuid","../portal/support/resourceExtension","../core/ArrayPool","../core/Handles","../core/watchUtils"],(function(e,i,s,t,r,a,l,n,h,o,m,g,u,w){"use strict";const d={widthBreakpoint:{getValue(e){const i=e.viewSize[0],s=e.breakpoints,t=this.values;return i<=s.xsmall?t.xsmall:i<=s.small?t.small:i<=s.medium?t.medium:i<=s.large?t.large:t.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const i=e.viewSize[1],s=e.breakpoints,t=this.values;return i<=s.xsmall?t.xsmall:i<=s.small?t.small:i<=s.medium?t.medium:i<=s.large?t.large:t.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const i=e.viewSize,s=i[0],t=i[1],r=this.values;return t>=s?r.portrait:r.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},v={xsmall:544,small:768,medium:992,large:1200};function c(e){const i=e;return i&&i.xsmall<i.small&&i.small<i.medium&&i.medium<i.large}function p(e,i){return i?d[e].valueToClassName[i].split(" "):[]}const x=e=>{let t=function(e){function s(...i){var s;return(s=e.call(this,...i)||this)._breakpointsHandles=new u,s.orientation=null,s.widthBreakpoint=null,s.heightBreakpoint=null,s.breakpoints=v,s}i._inheritsLoose(s,e);var t=s.prototype;return t.initialize=function(){this._breakpointsHandles.add(w.init(this,["breakpoints","size"],this._updateClassNames))},t.destroy=function(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles.destroy(),this._breakpointsHandles=null)},t._updateClassNames=function(){if(!this.container)return;const e=g.acquire(),i=g.acquire();let s,t=!1;for(s in d){const r=this[s],a=d[s].getValue({viewSize:this.size,breakpoints:this.breakpoints});r!==a&&(t=!0,this[s]=a,p(s,r).forEach((e=>i.push(e))),p(s,a).forEach((i=>e.push(i))))}t&&(this._applyClassNameChanges(e,i),g.release(e),g.release(i))},t._applyClassNameChanges=function(e,i){const s=this.container;s&&(i.forEach((e=>s.classList.remove(e))),e.forEach((e=>s.classList.add(e))))},t._removeActiveClassNames=function(){const e=this.container;if(!e)return;let i;for(i in d)p(i,this[i]).forEach((i=>e.classList.remove(i)))},i._createClass(s,[{key:"breakpoints",set:function(e){if(e===this._get("breakpoints"))return;const i=c(e);if(!i){const e=JSON.stringify(v,null,2);console.warn("provided breakpoints are not valid, using defaults:"+e)}e=i?e:v,this._set("breakpoints",{...e})}}]),s}(e);return s.__decorate([l.property()],t.prototype,"breakpoints",null),s.__decorate([l.property()],t.prototype,"orientation",void 0),s.__decorate([l.property()],t.prototype,"widthBreakpoint",void 0),s.__decorate([l.property()],t.prototype,"heightBreakpoint",void 0),t=s.__decorate([n.subclass("esri.views.BreakpointsOwner")],t),t};e.BreakpointsOwner=x,Object.defineProperty(e,"__esModule",{value:!0})}));
