/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../Color","../../../core/Accessor","../../../core/maybe","../../../core/ObjectPool","../../../core/accessorSupport/decorators/property","../../../core/arrayUtils","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/decorators/subclass","../../../chunks/mat4f64","../../../chunks/vec3","../../../chunks/vec3f64","../../../chunks/vec4f64","../../../geometry/support/aaBoundingBox","../../../geometry/support/buffer/BufferView","../../ViewingMode","./interfaces","./LayerClass","./Overlay","./OverlayRenderer","./PatchGeometry","./PatchRenderData","./RenderOrder","./ScaleRangeQueries","./terrainUtils","./TileRenderer","./TileUpdate","./tileUtils","../webgl-engine/collections/Component/ComponentIntersectionData","../webgl-engine/core/shaderLibrary/ShaderOutput","../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl","../../../chunks/Terrain.glsl","../webgl-engine/core/shaderLibrary/terrain/TileBlendInput","../webgl-engine/lib/basicInterfaces","../webgl-engine/lib/glUtil3D","../webgl-engine/lib/Intersector","../webgl-engine/lib/IntersectorInterfaces","../webgl-engine/lib/Material","../webgl-engine/lib/RenderSlot","../webgl-engine/lib/screenSizePerspectiveUtils","../webgl-engine/lib/VertexAttribute","../webgl-engine/lib/verticalOffsetUtils","../webgl-engine/materials/DrawParameters","../webgl-engine/materials/internal/MaterialUtil","../webgl-engine/shaders/TerrainTechnique","../webgl-engine/shaders/TerrainTechniqueConfiguration","../../webgl/enums"],(function(e,t,r,i,n,s,a,o,l,u,c,d,h,p,_,g,f,y,T,R,b,O,m,S,v,C,x,D,P,q,E,A,N,w,I,k,G,L,U,M,F,B,V,z,H,Q,j,W,Y){"use strict";const Z=7,K=10,X=g.create();var J;e.TransparencyMode=void 0,(J=e.TransparencyMode||(e.TransparencyMode={}))[J.Opaque=0]="Opaque",J[J.Semitransparent=1]="Semitransparent",J[J.Invisible=2]="Invisible",e.TerrainRenderer=function(r){function n(t){var i;return(i=r.call(this,t)||this).type=U.IntersectorType.TERRAIN,i.isGround=!0,i._tileSize=256,i._techniqueConfiguration=new W.TerrainTechniqueConfiguration,i._passParameters=new w.TerrainPassParameters,i._rctx=null,i._scaleRangeQueries=new C.ScaleRangeQueries,i._renderDataPool=new a(S.PatchRenderData),i._patchGroups=new Map,i._patchGroupsDirty=!0,i._patchSortingDirty=!0,i._tileIterator=new q.IteratorPreorder,i._highestVisibleLODTile=null,i._visible=!0,i._transparencyState=e.TransparencyMode.Opaque,i._velvetOverground=!0,i._castShadows=!0,i._emptyTex=null,i._tileRenderer=null,i._stencilEnabledLayerExtents=new Array,i._numTilesRendered=0,i._numTilesCulled=0,i._numOriginsRendered=0,i.needsHighlight=!1,i.renderOccludedFlags=M.RenderOccludedFlag.Occlude,i}t._inheritsLoose(n,r);var o=n.prototype;return o.initialize=function(){const e=[F.RenderSlot.OPAQUE_TERRAIN,F.RenderSlot.TRANSPARENT_TERRAIN,F.RenderSlot.OCCLUDED_TERRAIN];this._stage.addRenderPlugin(e,this)},o.destroy=function(){this._stage.removeRenderPlugin(this),m.clearCaches()},o.setDebugScreenSizePerspective=function(e){this._techniqueConfiguration.screenSizePerspective!==e&&(this._techniqueConfiguration.screenSizePerspective=e,this.setNeedsRender())},o.setRootTiles=function(e){this._rootTiles=e,this.setDirty()},o.setNeedsHighlight=function(e){this.needsHighlight=e,this.setNeedsRender()},o.setRenderOccludedOverlay=function(e){this.renderOccludedFlags=e?O.overlayRenderOccludedFlag:M.RenderOccludedFlag.Occlude,this.setNeedsRender()},o.setStencilEnabledLayerExtents=function(e){this._stencilEnabledLayerExtents=e,this._setSortingDirty()},o.setTileSize=function(e){this._tileSize=e,s.isSome(this._tileRenderer)&&(this._tileRenderer.tileSize=e),this.setDirty()},o._prepareTileForLoading=function(e){e.renderData||(e.renderData=this._renderDataPool.acquire(),e.renderData.init(e),e.renderData.localOrigin=this._getLocalOriginOfTile(e))},o.loadTile=function(e){this._prepareTileForLoading(e),this.updateTileGeometryState(e),this.updateTileTexture(e,P.TileUpdate.TEXTURE_FADING)},o.queryVisibleLevelRange=function(e,t,r,i){this._scaleRangeQueries.queryVisibleLevelRange(e,t,r,i),this.setNeedsRender()},o.updateTileTexture=function(e,t){s.isSome(this._tileRenderer)&&(this._tileRenderer.updateTileTexture(e,t===P.TileUpdate.TEXTURE_FADING?T.TextureUpdate.FADING:T.TextureUpdate.UNFADED),this.setNeedsRender(),e.resetPendingUpdate(t))},o.updateTileGeometryState=function(e){for(const r of e.layerInfo[R.LayerClass.ELEVATION])r.pendingUpdates&=~P.TileUpdate.GEOMETRY;e.resetPendingUpdate(P.TileUpdate.GEOMETRY);const t=e.renderData.updateGeometryState();return t&&this.setDirty(),t},o.updateGeometryIfNeeded=function(e){e.isLoaded&&e.renderData.updateGeometryIfNeeded(this._rctx)},o.unloadTile=function(e){const t=e.renderData;t&&(t.releaseGeometry(),this._renderDataPool.release(t),t.clear(),e.renderData=null,e.setMemoryDirty(),this.setDirty())},o._getLocalOriginOfTile=function(e){const t=K-Z,r=Math.max(0,Math.floor((e.level-t)/Z)*Z);if(this._isGlobal&&0===r)return p.ZEROS;for(;e.parent&&e.level>r;)e=e.parent;return e.centerAtSeaLevel},o.setVisibility=function(e){this._visible=e,this.setDirty()},o.getStats=function(){return{numTilesRendered:this._numTilesRendered,numTilesCulled:this._numTilesCulled,numOriginsRendered:this._numOriginsRendered}},o.setDirty=function(e=k.RenderRequestType.UPDATE){this._patchGroupsDirty=!0,this._context.requestRender(e)},o._setSortingDirty=function(e=k.RenderRequestType.UPDATE){this._patchSortingDirty=!0,this._context.requestRender(e)},o.setNeedsRender=function(e=k.RenderRequestType.UPDATE){this._context.requestRender(e)},o.initializeRenderContext=function(e){this._context=e,this._rctx=e.renderContext.rctx,this._techniqueRepository=e.shaderTechniqueRepository,this._tileRenderer=new D.TileRenderer(this._rctx,this._tileSize,this._techniqueRepository),this.updateTileBackground(),this._emptyTex=G.createEmptyTexture(this._rctx)},o.uninitializeRenderContext=function(){this._emptyTex=s.disposeMaybe(this._emptyTex),this._tileRenderer=s.disposeMaybe(this._tileRenderer)},o.intersect=function(t,r,i,n){if(!this._rootTiles||t.options.selectOpaqueTerrainOnly&&t.options.selectionMode&&this.transparency!==e.TransparencyMode.Opaque)return;const a=$,o=ee;h.subtract(a,n,i),h.set(o,1/a[0],1/a[1],1/a[2]);const l=t.results.min,u=t.results.max,c=t.results.ground,p=t.options.store===U.StoreResults.MIN,_=!!t.results.ground.target,y=z.getVerticalOffsetTerrain(t.verticalOffset),T=t.tolerance;let R,b=p&&s.isSome(l.dist)?l.dist:1/0;const O=e=>{const _=e.renderData;if(!_?.vao)return;const O=_.geometryInfo;g.set(X,O.boundingBox);const m=_.localOrigin;s.isSome(y)&&(y.localOrigin=m,y.applyToAabb(X));const S=X;if(te[0]=i[0]-m[0],te[1]=i[1]-m[1],te[2]=i[2]-m[2],!Q.intersectAabbInvDirBefore(S,te,o,T,b))return;const v=(t,r,i)=>{t.set(this.type,e,r,i,d.IDENTITY),b=p&&s.isSome(l.dist)?l.dist:1/0},C=(e,o)=>{if(s.isSome(o)&&e>=0&&(t.options.backfacesTerrain||h.dot(o,a)<0)&&(t.options.invisibleTerrain||!t.options.selectionMode||null==r||r(i,n,e))){if((null==c.dist||e<c.dist)&&v(c,e,o),t.options.isFiltered)return;t.options.store===U.StoreResults.ALL&&(s.isNone(R)?(R=L.newIntersectorResult(t.ray),v(R,e,o),t.results.all.push(R)):e<R.dist&&v(R,e,o)),(null==l.dist||e<l.dist)&&v(l,e,o),t.options.store!==U.StoreResults.MIN&&(null==u.dist||e>u.dist)&&v(u,e,o)}},x=re;h.subtract(x,n,m);const D=O.indices,P=O.vertexAttributes,q={data:P.getField(V.VertexAttribute.POSITION,f.BufferViewVec3f).typedBuffer,size:3,stride:P.stride/4},A=O.indexCount/3;if(s.isNone(y)&&A>E.componentMinimalSizeForIntersectionData){const t=e.renderData;s.isNone(t.intersectionData)&&(t.intersectionData=new E.ComponentIntersectionData(D,0,A,q)),t.intersectionData.intersectRay({r0:te,r1:x},C)}else Q.intersectTriangles(te,x,0,A,D,q,null,y,C)},m=this._rootTiles;if(s.isSome(m)){(()=>{const e=this._tileIterator;e.reset(m);const r=t.options.invisibleTerrain;for(;!e.done;){const t=e.next();!(t.visible||r&&t.intersectsClippingArea)||!s.isSome(y)&&!t.intersectsRay(i,a,T,b)||_&&this._useStencilForTile(t)?e.skipSubtree():O(t)}})()}},o.prepareTechnique=function(t){if(t.bindParameters.slot===F.RenderSlot.OCCLUDED_TERRAIN){if(0==(t.renderOccludedMask&O.overlayRenderOccludedFlag))return null}else{const r=this.transparency===e.TransparencyMode.Opaque?F.RenderSlot.OPAQUE_TERRAIN:F.RenderSlot.TRANSPARENT_TERRAIN;if(t.bindParameters.slot!==r)return null}switch(t.output){case A.ShaderOutput.Color:{this._techniqueConfiguration.hasScreenSpaceReflections=t.bindParameters.ssr.enabled,this._techniqueConfiguration.hasCloudsReflections=s.isSome(t.bindParameters.cloudsFade.data),this._techniqueConfiguration.receiveShadows=t.bindParameters.shadowMap.ready,this._techniqueConfiguration.receiveAmbientOcclusion=t.bindParameters.ssaoHelper.ready,this._techniqueConfiguration.overlayMode=this._overlayRenderer.isEmpty()?N.OverlayMode.Disabled:this._overlayRenderer.hasWater?N.OverlayMode.EnabledWithWater:N.OverlayMode.Enabled;const e=t.bindParameters.slot===F.RenderSlot.OCCLUDED_TERRAIN?b.OverlaySource.Occluded:b.OverlaySource.ColorAndWater;return this._updateTechnique(A.ShaderOutput.Color,e===b.OverlaySource.Occluded)}case A.ShaderOutput.Shadow:case A.ShaderOutput.ShadowExludeHighlight:return this._castShadows&&1===t.bindParameters.lighting.globalFactor?(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(A.ShaderOutput.Shadow,!1)):null;case A.ShaderOutput.Depth:return this.transparency===e.TransparencyMode.Invisible&&this._overlayRenderer.isEmpty()?null:(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(A.ShaderOutput.Depth,!1));case A.ShaderOutput.Normal:return this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(A.ShaderOutput.Normal,!1);case A.ShaderOutput.ObjectAndLayerIdColor:return this._updateTechnique(A.ShaderOutput.ObjectAndLayerIdColor,!1);case A.ShaderOutput.Highlight:return this.needsHighlight?(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(A.ShaderOutput.Highlight,!1)):null}return null},o.render=function(t,r){const i=1===t.bindParameters.lighting.globalFactor;switch(this._updatePatchGroups(),r.useStencil=!1,t.output){case A.ShaderOutput.Color:{const i=t.bindParameters.slot===F.RenderSlot.OCCLUDED_TERRAIN?b.OverlaySource.Occluded:b.OverlaySource.ColorAndWater;this.transparency===e.TransparencyMode.Opaque?this._renderMaterialPass(t,r,i):t.offscreenRenderingHelper.renderToTargets((()=>this._renderMaterialPass(t,r,i)),t.offscreenRenderingHelper.tmpColor,t.offscreenRenderingHelper.mainDepth,[0,0,0,0]);break}case A.ShaderOutput.Shadow:case A.ShaderOutput.ShadowExludeHighlight:this._castShadows&&i&&this._renderAuxiliaryPass(t,r,b.OverlaySource.None);break;case A.ShaderOutput.Depth:this.transparency===e.TransparencyMode.Invisible&&this._overlayRenderer.isEmpty()||this._renderAuxiliaryPass(t,r,b.OverlaySource.None);break;case A.ShaderOutput.Normal:this._renderAuxiliaryPass(t,r,b.OverlaySource.None);break;case A.ShaderOutput.ObjectAndLayerIdColor:this._renderAuxiliaryPass(t,r,b.OverlaySource.ObjectAndLayerIdColor);break;case A.ShaderOutput.Highlight:this.needsHighlight&&this._renderAuxiliaryPass(t,r,b.OverlaySource.Highlight)}this._scaleRangeQueries.hasPendingQueries()&&this.setNeedsRender()},o._renderMaterialPass=function(e,t,r){const{rctx:i}=e;this._passParameters.overlaySource=r,i.bindTechnique(t,this._passParameters,e.bindParameters),this._numTilesRendered=0,this._numTilesCulled=0,this._numOriginsRendered=0,this._scaleRangeQueries.prepareQueries(),this._renderPatchGroups(e,t,r),this._scaleRangeQueries.processQueries()},o._renderAuxiliaryPass=function(e,t,r){const i=e.rctx;this._passParameters.overlaySource=r,i.bindTechnique(t,this._passParameters,e.bindParameters),this._renderPatchGroupsAuxiliary(e,t,r)},o.updateTileBackground=function(e=null){if(s.isNone(this._tileRenderer))return;const t=this._tileRenderer;let r=null;if(s.isSome(e)){const t=i.toUnitRGBA(e);r=p.fromValues(t[0]||0,t[1]||0,t[2]||0)}t.setBackground(r),this._allTiles.forAll((e=>t.updateTileTexture(e,T.TextureUpdate.FADING))),this._techniqueConfiguration.tileBlendInput=t.backgroundIsGrid?I.TileBlendInput.GridComposite:s.isSome(t.backgroundColor)?I.TileBlendInput.ColorComposite:I.TileBlendInput.LayerOnly,this.setNeedsRender()},o._updatePatchGroups=function(){if(this._patchGroupsDirty&&(this._highestVisibleLODTile=null,this._rebuildPatchGroups(),this._patchGroupsDirty=!1,this._patchSortingDirty=!0),this._patchSortingDirty&&this.renderOrder!==v.RenderOrder.NONE){const e=Array.from(this._patchGroups.values());e.forEach((e=>q.sortTiles(this.renderOrder,e,this._stencilEnabledLayerExtents))),e.sort(((e,t)=>q.compareTiles(e[0],t[0],this.renderOrder))),this._patchGroups=new Map(e.map((e=>[e[0].renderData.localOrigin,e]))),this._patchSortingDirty=!1}},o._rebuildPatchGroups=function(){const e=this._rootTiles;if(!s.isNone(e)){e[0]?.surface.checkAllTilesWaterproofness(),this._patchGroups.clear();for(const t of e)this._rebuildPatchGroupsForRootTile(t)}},o._rebuildPatchGroupsForRootTile=function(e){const t=this._tileIterator;for(t.resetOne(e);!t.done;){const e=t.next(),r=e.renderData;if(!r||e.visible)if(e.rendered){if(r){const i=this._patchGroups.get(r.localOrigin)||new Array;this._patchGroups.set(r.localOrigin,i),i.push(e),(!this._highestVisibleLODTile||e.vlevel>this._highestVisibleLODTile.vlevel)&&(this._highestVisibleLODTile=e),t.skipSubtree()}}else this._numTilesCulled++;else this._numTilesCulled++,t.skipSubtree()}},o._useStencilForTile=function(e){for(const t of this._stencilEnabledLayerExtents)if(e.intersectsExtent(t))return!0;return!1},o._renderPatchGroupsAuxiliary=function(e,t,r){const i=this._stencilEnabledLayerExtents.length>0;this._patchGroups.forEach((n=>{const s=n[0].renderData.localOrigin;t.program.bindDraw(new H.DrawParameters(s),e.bindParameters,this._passParameters);for(let a=0;a<n.length;a++)this._renderPatch(e,t,n[a],Y.PrimitiveType.TRIANGLES,i,r)})),e.rctx.bindVAO(null)},o._renderPatchGroups=function(e,t,r){const i=e.bindParameters.camera,n=t.program;if(this._techniqueConfiguration.screenSizePerspective&&this.pointsOfInterest){const e=B.getSettings(this._stage.viewingMode,this._ellipsoidRadius),t=this.pointsOfInterest.centerOnSurfaceFrequent.distance;e.update({distance:t,fovY:i.fovY})}const a=this._stencilEnabledLayerExtents.length>0,o=r===b.OverlaySource.Occluded;o&&(n.bindTexture("tex",this._emptyTex),n.setUniform1f("blend",1),n.setUniform4fv("texOffsetAndScale",_.ZEROS));const l=s.isSome(this._tileRenderer)&&s.isSome(this._tileRenderer.backgroundColor)?this._tileRenderer.backgroundColor:p.ZEROS;this._techniqueConfiguration.tileBlendInput===I.TileBlendInput.ColorComposite&&n.setUniform3fv("backgroundColor",l);const u=this.wireframe?Y.PrimitiveType.LINES:Y.PrimitiveType.TRIANGLES;this._techniqueConfiguration.textureFadingEnabled&&n.bindTexture("texNext",this._emptyTex),this._patchGroups.forEach((i=>{const l=i[0].renderData.localOrigin;t.program.bindDraw(new H.DrawParameters(l),e.bindParameters,this._passParameters),this._numOriginsRendered++;for(let c=0;c<i.length;c++){const l=i[c],d=l.renderData.textureReference;if(!s.isNone(d)){if(!o){this._scaleRangeQueries.scaleQueriesForTile(l),n.setUniform4fv("texOffsetAndScale",d.offsetAndScale),n.bindTexture("tex",d.texture.texture);const e=l.renderData.textureFadeFactor,t=e<1?l.renderData.nextTextureReference:null;this._techniqueConfiguration.textureFadingEnabled&&s.isSome(t)&&e<1?(n.setUniform1f("fadeFactor",e),n.setUniform4fv("nextTexOffsetAndScale",t.offsetAndScale),n.setUniform3fv("nextTexOpacities",t.opacities),n.bindTexture("texNext",t.texture.texture)):n.setUniform1f("fadeFactor",1),l.renderData.textureIsFading&&this.setNeedsRender(),n.setUniform3fv("textureOpacities",d.opacities)}this._renderPatch(e,t,l,u,a,r),l.renderOrder=this._numTilesRendered,this._numTilesRendered++}}})),e.rctx.bindVAO(null)},o._renderPatch=function(e,t,r,i,n,a){const o=r.renderData,l=o.vao,u=l.indexBuffer;if(s.isNone(u))return void(x.ENABLE_TERRAIN_INTERNAL_CHECKS&&console.error("Rendered tile with no indices: ",r.lij," : ",o));const c=t.program;a!==b.OverlaySource.None&&this._bindOverlayPatchData(c,o.overlay),n&&(t.useStencil=this._useStencilForTile(r),t.bindPipelineState(e.rctx,e.bindParameters.slot));const d=o.geometryInfo.indexCount;e.rctx.bindVAO(l),c.assertCompatibleVertexAttributeLocations(l),e.rctx.drawElements(i,d,u.indexType,0)},o._bindOverlayPatchData=function(e,t){e.setUniform4fv("overlayTexOffset",t.offsets),e.setUniform4fv("overlayTexScale",t.scales)},o._updateTechnique=function(e,t){return this._techniqueConfiguration.output=e,e===A.ShaderOutput.Color&&(this._techniqueConfiguration.atmosphere=this._isGlobal&&this._velvetOverground),this._techniqueConfiguration.renderOccluded=t,this._techniqueConfiguration.stencilEnabled=!1,this._shaderTechnique=this._techniqueRepository.releaseAndAcquire(j.TerrainTechnique,this._techniqueConfiguration,this._shaderTechnique),this._shaderTechnique},t._createClass(n,[{key:"_isGlobal",get:function(){return this._stage.viewingMode===y.ViewingMode.Global}},{key:"shading",get:function(){return this._techniqueConfiguration.shading},set:function(e){this._techniqueConfiguration.shading=e}},{key:"canRender",get:function(){return this._visible&&!!this._rootTiles&&!this.renderingDisabled}},{key:"renderingDisabled",set:function(e){this._set("renderingDisabled",!!e),this.setDirty()}},{key:"transparency",get:function(){return this._transparencyState},set:function(t){this._transparencyState!==t&&(this._techniqueConfiguration.transparent=t===e.TransparencyMode.Invisible,this._transparencyState=t,this.setNeedsRender())}},{key:"needsLinearDepth",get:function(){return this._overlayRenderer.hasWater}},{key:"renderPatchBorders",get:function(){return!!this._techniqueConfiguration.tileBorders},set:function(e){this._techniqueConfiguration.tileBorders!==e&&(this._techniqueConfiguration.tileBorders=e,this.setNeedsRender(),this.notifyChange("renderPatchBorders"))}},{key:"visualizeNormals",get:function(){return!!this._techniqueConfiguration.visualizeNormals},set:function(e){this._techniqueConfiguration.visualizeNormals!==e&&(this._techniqueConfiguration.visualizeNormals=e,this.setNeedsRender(),this.notifyChange("visualizeNormals"))}},{key:"cullBackFaces",get:function(){return this._techniqueConfiguration.backfaceCullingEnabled},set:function(e){this._techniqueConfiguration.backfaceCullingEnabled!==e&&(this._techniqueConfiguration.backfaceCullingEnabled=e,this.notifyChange("cullBackFaces"),this.setNeedsRender())}},{key:"renderOrder",set:function(e){this._set("renderOrder",e),this._setSortingDirty()}},{key:"velvetOverground",set:function(e){this._velvetOverground!==e&&(this._velvetOverground=e,this.setNeedsRender())}},{key:"layerUid",get:function(){return z.TERRAIN_ID}},{key:"slicePlaneEnabled",get:function(){return this._techniqueConfiguration.hasSlicePlane},set:function(e){this._techniqueConfiguration.hasSlicePlane!==e&&(this._techniqueConfiguration.hasSlicePlane=e,this.setNeedsRender())}},{key:"textureFadingEnabled",set:function(e){this._techniqueConfiguration.textureFadingEnabled!==e&&(this._techniqueConfiguration.textureFadingEnabled=e,this.setNeedsRender())}},{key:"wireframe",set:function(e){this._get("wireframe")!==e&&(this._set("wireframe",e),this.setNeedsRender())}},{key:"test",get:function(){return{tileRenderer:this._tileRenderer}}}]),n}(n),r.__decorate([o.property({constructOnly:!0})],e.TerrainRenderer.prototype,"_overlayRenderer",void 0),r.__decorate([o.property({constructOnly:!0})],e.TerrainRenderer.prototype,"_stage",void 0),r.__decorate([o.property({readOnly:!0})],e.TerrainRenderer.prototype,"_isGlobal",null),r.__decorate([o.property({constructOnly:!0})],e.TerrainRenderer.prototype,"_allTiles",void 0),r.__decorate([o.property({constructOnly:!0})],e.TerrainRenderer.prototype,"_ellipsoidRadius",void 0),r.__decorate([o.property({value:!1})],e.TerrainRenderer.prototype,"renderingDisabled",null),r.__decorate([o.property()],e.TerrainRenderer.prototype,"renderPatchBorders",null),r.__decorate([o.property()],e.TerrainRenderer.prototype,"visualizeNormals",null),r.__decorate([o.property()],e.TerrainRenderer.prototype,"cullBackFaces",null),r.__decorate([o.property({value:v.RenderOrder.FRONT_TO_BACK})],e.TerrainRenderer.prototype,"renderOrder",null),r.__decorate([o.property()],e.TerrainRenderer.prototype,"wireframe",null),e.TerrainRenderer=r.__decorate([c.subclass("esri.views.3d.terrain.TerrainRenderer")],e.TerrainRenderer);const $=p.create(),ee=p.create(),te=p.create(),re=p.create();Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
