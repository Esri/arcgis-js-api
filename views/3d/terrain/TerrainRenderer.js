/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../Color","../../../core/Accessor","../../../core/maybe","../../../core/ObjectPool","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/ensureType","../../../core/arrayUtils","../../../core/accessorSupport/decorators/subclass","../../../chunks/mat4f64","../../../chunks/vec3","../../../chunks/vec3f64","../../../chunks/vec4f64","../../../geometry/support/aaBoundingBox","../../../geometry/support/buffer/BufferView","../../ViewingMode","./interfaces","./LayerClass","./Overlay","./OverlayRenderer","./PatchGeometry","./PatchRenderData","./RenderOrder","./terrainUtils","./TileRenderer","./TileUpdate","./tileUtils","../webgl-engine/collections/Component/ComponentIntersectionData","../webgl-engine/core/shaderLibrary/ShaderOutput","../webgl-engine/core/shaderLibrary/terrain/Overlay.glsl","../../../chunks/Terrain.glsl","../webgl-engine/core/shaderLibrary/terrain/TileBlendInput","../webgl-engine/lib/Attribute","../webgl-engine/lib/basicInterfaces","../webgl-engine/lib/glUtil3D","../webgl-engine/lib/Intersector","../webgl-engine/lib/IntersectorInterfaces","../webgl-engine/lib/Material","../webgl-engine/lib/RenderSlot","../webgl-engine/lib/screenSizePerspectiveUtils","../webgl-engine/lib/VertexAttribute","../webgl-engine/lib/verticalOffsetUtils","../webgl-engine/materials/DrawParameters","../webgl-engine/materials/internal/MaterialUtil","../webgl-engine/shaders/TerrainTechnique","../webgl-engine/shaders/TerrainTechniqueConfiguration","../../webgl/enums"],(function(e,t,r,i,n,s,a,o,l,u,c,d,h,p,_,f,g,y,T,b,R,m,O,S,v,C,x,D,P,E,q,A,N,w,I,k,G,M,L,U,F,B,z,V,H,W,j,Y,Z){"use strict";const Q=7,K=10,X=f.create();var J;e.TransparencyMode=void 0,(J=e.TransparencyMode||(e.TransparencyMode={}))[J.Opaque=0]="Opaque",J[J.Semitransparent=1]="Semitransparent",J[J.TransparentWithDraped=2]="TransparentWithDraped",J[J.Empty=3]="Empty",e.TerrainRenderer=function(r){function n(t){var i;return(i=r.call(this,t)||this).type=L.IntersectorType.TERRAIN,i.isGround=!0,i._tileSize=256,i._techniqueConfiguration=new Y.TerrainTechniqueConfiguration,i._passParameters=new N.TerrainPassParameters,i._rctx=null,i._renderDataPool=new a(S.PatchRenderData),i._patchGroups=new Map,i._patchGroupsDirty=!0,i._patchSortingDirty=!0,i._tileIterator=new P.IteratorPreorder,i._highestVisibleLODTile=null,i._visible=!0,i._transparencyState=e.TransparencyMode.Opaque,i._velvetOverground=!0,i._castShadows=!0,i._emptyTex=null,i._tileRenderer=null,i._stencilEnabledLayerExtents=new Array,i._numTilesRendered=0,i._numTilesCulled=0,i._numOriginsRendered=0,i.needsHighlight=!1,i.renderOccludedFlags=U.RenderOccludedFlag.Occlude,i}t._inheritsLoose(n,r);var o=n.prototype;return o.initialize=function(){const e=[F.RenderSlot.OPAQUE_TERRAIN,F.RenderSlot.TRANSPARENT_TERRAIN,F.RenderSlot.OCCLUDED_TERRAIN];this._stage.addRenderPlugin(e,this)},o.destroy=function(){this._stage.removeRenderPlugin(this),O.clearCaches()},o.setDebugScreenSizePerspective=function(e){this._techniqueConfiguration.screenSizePerspective!==e&&(this._techniqueConfiguration.screenSizePerspective=e,this.setNeedsRender())},o.setRootTiles=function(e){this._rootTiles=e,this.setDirty()},o.setNeedsHighlight=function(e){this.needsHighlight=e,this.setNeedsRender()},o.setRenderOccludedOverlay=function(e){this.renderOccludedFlags=e?m.overlayRenderOccludedFlag:U.RenderOccludedFlag.Occlude,this.setNeedsRender()},o.setStencilEnabledLayerExtents=function(e){this._stencilEnabledLayerExtents=e,this._setSortingDirty()},o.setTileSize=function(e){this._tileSize=e,s.isSome(this._tileRenderer)&&(this._tileRenderer.tileSize=e),this.setDirty()},o._prepareTileForLoading=function(e){e.renderData||(e.renderData=this._renderDataPool.acquire(),e.renderData.init(e),e.renderData.localOrigin=this._getLocalOriginOfTile(e))},o.loadTile=function(e){this._prepareTileForLoading(e),this.updateTileGeometryState(e),this.updateTileTexture(e,D.TileUpdate.TEXTURE_FADING)},o.updateTileTexture=function(e,t){s.isSome(this._tileRenderer)&&(this._tileRenderer.updateTileTexture(e,t===D.TileUpdate.TEXTURE_FADING?T.TextureUpdate.FADING:T.TextureUpdate.UNFADED),this.setNeedsRender(),e.resetPendingUpdate(t))},o.updateTileGeometryState=function(e){for(const r of e.layerInfo[b.LayerClass.ELEVATION])r.pendingUpdates&=~D.TileUpdate.GEOMETRY;e.resetPendingUpdate(D.TileUpdate.GEOMETRY);const t=e.renderData.updateGeometryState();return t&&this.setDirty(),t},o.updateGeometryIfNeeded=function(e){e.isLoaded&&e.renderData.updateGeometryIfNeeded(this._rctx)},o.unloadTile=function(e){const t=e.renderData;t&&(t.releaseGeometry(),this._renderDataPool.release(t),t.clear(),e.renderData=null,e.setMemoryDirty(),this.setDirty())},o._getLocalOriginOfTile=function(e){const t=K-Q,r=Math.max(0,Math.floor((e.level-t)/Q)*Q);if(this._isGlobal&&0===r)return p.ZEROS;for(;e.parent&&e.level>r;)e=e.parent;return e.centerAtSeaLevel},o.setVisibility=function(e){this._visible=e,this.setDirty()},o.getStats=function(){return{numTilesRendered:this._numTilesRendered,numTilesCulled:this._numTilesCulled,numOriginsRendered:this._numOriginsRendered}},o.setDirty=function(e=k.RenderRequestType.UPDATE){this._patchGroupsDirty=!0,this._context.requestRender(e)},o._setSortingDirty=function(e=k.RenderRequestType.UPDATE){this._patchSortingDirty=!0,this._context.requestRender(e)},o.setNeedsRender=function(e=k.RenderRequestType.UPDATE){this._context.requestRender(e)},o.initializeRenderContext=function(e){this._context=e,this._rctx=e.renderContext.rctx,this._techniqueRepository=e.techniqueRepository,this._tileRenderer=new x.TileRenderer(this._rctx,this._tileSize,this._techniqueRepository),this.updateTileBackground(),this._emptyTex=G.createEmptyTexture(this._rctx)},o.uninitializeRenderContext=function(){this._emptyTex=s.disposeMaybe(this._emptyTex),this._tileRenderer=s.disposeMaybe(this._tileRenderer)},o.intersect=function(t,r,i,n){if(!this._rootTiles||t.options.selectOpaqueTerrainOnly&&t.options.selectionMode&&this.transparency!==e.TransparencyMode.Opaque)return;const a=$,o=ee;h.subtract(a,n,i),h.set(o,1/a[0],1/a[1],1/a[2]);const l=t.results.min,u=t.results.max,c=t.results.ground,p=t.options.store===L.StoreResults.MIN,_=!!t.results.ground.target,y=V.getVerticalOffsetTerrain(t.verticalOffset),T=t.tolerance;let b,R=p&&s.isSome(l.dist)?l.dist:1/0;const m=e=>{const _=e.renderData;if(!_?.vao)return;const m=_.geometryInfo;f.set(X,m.boundingBox);const O=_.localOrigin;s.isSome(y)&&(y.localOrigin=O,y.applyToAabb(X));const S=X;if(te[0]=i[0]-O[0],te[1]=i[1]-O[1],te[2]=i[2]-O[2],!W.intersectAabbInvDirBefore(S,te,o,T,R))return;const v=(t,r,i)=>{t.set(this.type,e,r,i,d.IDENTITY),R=p&&s.isSome(l.dist)?l.dist:1/0},C=(e,o)=>{if(s.isSome(o)&&e>=0&&(t.options.backfacesTerrain||h.dot(o,a)<0)&&(t.options.invisibleTerrain||!t.options.selectionMode||null==r||r(i,n,e))){if((null==c.dist||e<c.dist)&&v(c,e,o),t.options.isFiltered)return;t.options.store===L.StoreResults.ALL&&(s.isNone(b)?(b=M.newIntersectorResult(t.ray),v(b,e,o),t.results.all.push(b)):e<b.dist&&v(b,e,o)),(null==l.dist||e<l.dist)&&v(l,e,o),t.options.store!==L.StoreResults.MIN&&(null==u.dist||e>u.dist)&&v(u,e,o)}},x=re;h.subtract(x,n,O);const D=m.indices,P=m.vertexAttributes,q=P.getField(z.VertexAttribute.POSITION,g.BufferViewVec3f),A=new I.Attribute(q.typedBuffer,3,!1,P.stride/4),N=m.indexCount/3;if(s.isNone(y)&&N>E.componentMinimalSizeForIntersectionData){const t=e.renderData;s.isNone(t.intersectionData)&&(t.intersectionData=new E.ComponentIntersectionData(D,0,N,A)),t.intersectionData.intersectRay({r0:te,r1:x},C)}else W.intersectTriangles(te,x,0,N,D,A,null,y,C)},O=this._rootTiles;if(s.isSome(O)){(()=>{const e=this._tileIterator;e.reset(O);const r=t.options.invisibleTerrain;for(let t=e.next();t;t=e.next())!(t.visible||r&&t.intersectsClippingArea)||!s.isSome(y)&&!t.intersectsRay(i,a,T,R)||_&&this._useStencilForTile(t)?e.skipSubtree():m(t)})()}},o.processScaleRangeQueries=function(e,t){if(!t.done)for(this._updatePatchGroups();e.updating&&!t.done;){e.prepare();for(const t of this._patchGroups.values())for(const r of t)s.isSome(r.renderData?.textureReference)&&e.queriesForTile(r);e.process(),t.madeProgress()}},o.prepareTechnique=function(t){if(t.bindParameters.slot===F.RenderSlot.OCCLUDED_TERRAIN){if(0==(t.renderOccludedMask&m.overlayRenderOccludedFlag))return null}else{const r=this.transparency===e.TransparencyMode.Opaque?F.RenderSlot.OPAQUE_TERRAIN:F.RenderSlot.TRANSPARENT_TERRAIN;if(t.bindParameters.slot!==r)return null}switch(t.output){case q.ShaderOutput.Color:return this.transparency===e.TransparencyMode.Empty?null:(this._techniqueConfiguration.hasScreenSpaceReflections=t.bindParameters.ssr.enabled,this._techniqueConfiguration.hasCloudsReflections=s.isSome(t.bindParameters.cloudsFade.data),this._techniqueConfiguration.receiveShadows=t.bindParameters.shadowMap.ready,this._techniqueConfiguration.receiveAmbientOcclusion=t.bindParameters.ssaoHelper.active,this._techniqueConfiguration.overlayMode=this._overlayRenderer.isEmpty?A.OverlayMode.Disabled:this._overlayRenderer.hasWater?A.OverlayMode.EnabledWithWater:A.OverlayMode.Enabled,this._updateTechnique(q.ShaderOutput.Color,t.bindParameters.slot===F.RenderSlot.OCCLUDED_TERRAIN));case q.ShaderOutput.Shadow:case q.ShaderOutput.ShadowExcludeHighlight:return this._castShadows&&1===t.bindParameters.lighting.globalFactor?(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(q.ShaderOutput.Shadow,!1)):null;case q.ShaderOutput.Depth:return this.transparency===e.TransparencyMode.Empty?null:(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(q.ShaderOutput.Depth,!1));case q.ShaderOutput.Normal:return this.transparency===e.TransparencyMode.Empty?null:(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(q.ShaderOutput.Normal,!1));case q.ShaderOutput.ObjectAndLayerIdColor:return this.transparency===e.TransparencyMode.Empty?null:this._updateTechnique(q.ShaderOutput.ObjectAndLayerIdColor,!1);case q.ShaderOutput.Highlight:return this.transparency!==e.TransparencyMode.Empty&&this.needsHighlight?(this._techniqueConfiguration.receiveShadows=this._techniqueConfiguration.receiveAmbientOcclusion=!1,this._updateTechnique(q.ShaderOutput.Highlight,!1)):null}return null},o.render=function(t,r){const i=1===t.bindParameters.lighting.globalFactor;switch(this._updatePatchGroups(),r.useStencil=!1,t.output){case q.ShaderOutput.Color:{const i=t.bindParameters.slot===F.RenderSlot.OCCLUDED_TERRAIN?R.OverlaySource.Occluded:R.OverlaySource.ColorAndWater;this.transparency===e.TransparencyMode.Opaque?this._renderMaterialPass(t,r,i):t.offscreenRenderingHelper.renderToTargets((()=>this._renderMaterialPass(t,r,i)),t.offscreenRenderingHelper.tmpColor,t.offscreenRenderingHelper.mainDepth,[0,0,0,0]);break}case q.ShaderOutput.Depth:case q.ShaderOutput.Normal:this._renderAuxiliaryPass(t,r,R.OverlaySource.None);break;case q.ShaderOutput.Highlight:this.needsHighlight&&this._renderAuxiliaryPass(t,r,R.OverlaySource.Highlight);break;case q.ShaderOutput.Shadow:case q.ShaderOutput.ShadowExcludeHighlight:this._castShadows&&i&&this._renderAuxiliaryPass(t,r,R.OverlaySource.None);break;case q.ShaderOutput.ObjectAndLayerIdColor:this._renderAuxiliaryPass(t,r,R.OverlaySource.ObjectAndLayerIdColor)}},o._renderMaterialPass=function(e,t,r){const{rctx:i}=e;this._passParameters.overlaySource=r,i.bindTechnique(t,this._passParameters,e.bindParameters),this._numTilesRendered=0,this._numTilesCulled=0,this._numOriginsRendered=0,this._renderPatchGroups(e,t,r)},o._renderAuxiliaryPass=function(e,t,r){const i=e.rctx;this._passParameters.overlaySource=r,i.bindTechnique(t,this._passParameters,e.bindParameters),this._renderPatchGroupsAuxiliary(e,t,r)},o.updateTileBackground=function(e=null){if(s.isNone(this._tileRenderer))return;const t=this._tileRenderer;let r=null;if(s.isSome(e)){const t=i.toUnitRGBA(e);r=p.fromValues(t[0]||0,t[1]||0,t[2]||0)}t.setBackground(r),this._allTiles.forAll((e=>t.updateTileTexture(e,T.TextureUpdate.FADING))),this._techniqueConfiguration.tileBlendInput=t.backgroundIsGrid?w.TileBlendInput.GridComposite:s.isSome(t.backgroundColor)?w.TileBlendInput.ColorComposite:w.TileBlendInput.LayerOnly,this.setNeedsRender()},o._updatePatchGroups=function(){if(this._patchGroupsDirty&&(this._highestVisibleLODTile=null,this._rebuildPatchGroups(),this._patchGroupsDirty=!1,this._patchSortingDirty=!0),this._patchSortingDirty&&this.renderOrder!==v.RenderOrder.NONE){const e=Array.from(this._patchGroups.values()),t=this._stencilEnabledLayerExtents;for(const r of e)P.sortTiles(this.renderOrder,r,t);e.sort(((e,t)=>P.compareTiles(e[0],t[0],this.renderOrder))),this._patchGroups=new Map(e.map((e=>[e[0].renderData.localOrigin,e]))),this._patchSortingDirty=!1}},o._rebuildPatchGroups=function(){const e=this._rootTiles;if(!s.isNone(e)){e[0]?.surface.checkAllTilesWaterproofness(),this._patchGroups.clear();for(const t of e)this._rebuildPatchGroupsForRootTile(t)}},o._rebuildPatchGroupsForRootTile=function(e){const t=this._tileIterator;for(t.resetOne(e);!t.done;){const e=t.next(),r=e.renderData;if(!r){this._numTilesCulled++;continue}if(!e.visible){this._numTilesCulled++,t.skipSubtree();continue}const i=r.localOrigin;let n=this._patchGroups.get(i);n||(n=new Array,this._patchGroups.set(i,n)),n.push(e),(!this._highestVisibleLODTile||e.vlevel>this._highestVisibleLODTile.vlevel)&&(this._highestVisibleLODTile=e),t.skipSubtree()}},o._useStencilForTile=function(e){for(const t of this._stencilEnabledLayerExtents)if(e.intersectsExtent(t))return!0;return!1},o._renderPatchGroupsAuxiliary=function(e,t,r){const i=this._stencilEnabledLayerExtents.length>0;this._patchGroups.forEach((n=>{const s=n[0].renderData.localOrigin;t.program.bindDraw(new H.DrawParameters(s),e.bindParameters,this._passParameters);for(let a=0;a<n.length;a++)this._renderPatch(e,t,n[a],Z.PrimitiveType.TRIANGLES,i,r)})),e.rctx.bindVAO(null)},o._renderPatchGroups=function(e,t,r){const i=e.bindParameters.camera,n=t.program;if(this._techniqueConfiguration.screenSizePerspective&&this.pointsOfInterest){const e=B.getSettings(this._stage.viewingMode,this._ellipsoidRadius),t=this.pointsOfInterest.centerOnSurfaceFrequent.distance;e.update({distance:t,fovY:i.fovY})}const a=this._stencilEnabledLayerExtents.length>0,o=r===R.OverlaySource.Occluded;o&&(n.bindTexture("tex",this._emptyTex),n.setUniform3fv("textureOpacities",p.ZEROS),n.setUniform4fv("texOffsetAndScale",_.ZEROS));const l=s.isSome(this._tileRenderer)&&s.isSome(this._tileRenderer.backgroundColor)?this._tileRenderer.backgroundColor:p.ZEROS;this._techniqueConfiguration.tileBlendInput===w.TileBlendInput.ColorComposite&&n.setUniform3fv("backgroundColor",l);const u=this.wireframe?Z.PrimitiveType.LINES:Z.PrimitiveType.TRIANGLES;this._techniqueConfiguration.textureFadingEnabled&&n.bindTexture("texNext",this._emptyTex);const c=this._patchGroups;for(const d of c.values()){const i=d[0].renderData.localOrigin;t.program.bindDraw(new H.DrawParameters(i),e.bindParameters,this._passParameters),this._numOriginsRendered++;for(const l of d){const i=l.renderData,c=i.textureReference;if(!s.isNone(c)){if(!o){n.setUniform4fv("texOffsetAndScale",c.offsetAndScale),n.bindTexture("tex",c.texture.texture);const e=i.textureFadeFactor,t=e<1?i.nextTextureReference:null;this._techniqueConfiguration.textureFadingEnabled&&s.isSome(t)&&e<1?(n.setUniform1f("fadeFactor",e),n.setUniform4fv("nextTexOffsetAndScale",t.offsetAndScale),n.setUniform3fv("nextTexOpacities",t.opacities),n.bindTexture("texNext",t.texture.texture)):n.setUniform1f("fadeFactor",1),i.textureIsFading&&this.setNeedsRender(),n.setUniform3fv("textureOpacities",c.opacities)}this._renderPatch(e,t,l,u,a,r),l.renderOrder=this._numTilesRendered,this._numTilesRendered++}}}e.rctx.bindVAO(null)},o._renderPatch=function(e,t,r,i,n,a){const o=r.renderData,l=o.vao,u=l.indexBuffer;if(s.isNone(u))return void(C.ENABLE_TERRAIN_INTERNAL_CHECKS&&console.error("Rendered tile with no indices: ",r.lij," : ",o));const c=t.program;a===R.OverlaySource.None||this._overlayRenderer.isEmpty||this._bindOverlayPatchData(c,o.overlay),n&&(t.useStencil=this._useStencilForTile(r),t.bindPipelineState(e.rctx,e.bindParameters.slot));const d=o.geometryInfo.indexCount;e.rctx.bindVAO(l),c.assertCompatibleVertexAttributeLocations(l),e.rctx.drawElements(i,d,u.indexType,0)},o._bindOverlayPatchData=function(e,t){e.setUniform4fv("overlayTexOffset",t.offsets),e.setUniform4fv("overlayTexScale",t.scales)},o._updateTechnique=function(e,t){return this._techniqueConfiguration.output=e,e===q.ShaderOutput.Color&&(this._techniqueConfiguration.atmosphere=this._isGlobal&&this._velvetOverground),this._techniqueConfiguration.renderOccluded=t,this._techniqueConfiguration.stencilEnabled=!1,this._shaderTechnique=this._techniqueRepository.releaseAndAcquire(j.TerrainTechnique,this._techniqueConfiguration,this._shaderTechnique),this._shaderTechnique},t._createClass(n,[{key:"_isGlobal",get:function(){return this._stage.viewingMode===y.ViewingMode.Global}},{key:"shading",get:function(){return this._techniqueConfiguration.shading},set:function(e){this._techniqueConfiguration.shading=e}},{key:"canRender",get:function(){return this._visible&&!!this._rootTiles&&!this.renderingDisabled}},{key:"renderingDisabled",set:function(e){this._set("renderingDisabled",!!e),this.setDirty()}},{key:"transparency",get:function(){return this._transparencyState},set:function(t){this._transparencyState!==t&&(this._techniqueConfiguration.invisible=t===e.TransparencyMode.TransparentWithDraped||t===e.TransparencyMode.Empty,this._transparencyState=t,this.setNeedsRender())}},{key:"needsLinearDepth",get:function(){return this._overlayRenderer.hasWater}},{key:"renderPatchBorders",get:function(){return!!this._techniqueConfiguration.tileBorders},set:function(e){this._techniqueConfiguration.tileBorders!==e&&(this._techniqueConfiguration.tileBorders=e,this.setNeedsRender(),this.notifyChange("renderPatchBorders"))}},{key:"visualizeNormals",get:function(){return!!this._techniqueConfiguration.visualizeNormals},set:function(e){this._techniqueConfiguration.visualizeNormals!==e&&(this._techniqueConfiguration.visualizeNormals=e,this.setNeedsRender(),this.notifyChange("visualizeNormals"))}},{key:"cullBackFaces",get:function(){return this._techniqueConfiguration.backfaceCullingEnabled},set:function(e){this._techniqueConfiguration.backfaceCullingEnabled!==e&&(this._techniqueConfiguration.backfaceCullingEnabled=e,this.notifyChange("cullBackFaces"),this.setNeedsRender())}},{key:"renderOrder",set:function(e){this._set("renderOrder",e),this._setSortingDirty()}},{key:"velvetOverground",set:function(e){this._velvetOverground!==e&&(this._velvetOverground=e,this.setNeedsRender())}},{key:"layerUid",get:function(){return V.TERRAIN_ID}},{key:"slicePlaneEnabled",get:function(){return this._techniqueConfiguration.hasSlicePlane},set:function(e){this._techniqueConfiguration.hasSlicePlane!==e&&(this._techniqueConfiguration.hasSlicePlane=e,this.setNeedsRender())}},{key:"textureFadingEnabled",set:function(e){this._techniqueConfiguration.textureFadingEnabled!==e&&(this._techniqueConfiguration.textureFadingEnabled=e,this.setNeedsRender())}},{key:"pbrMode",set:function(e){this._techniqueConfiguration.pbrMode!==e&&(this._techniqueConfiguration.pbrMode=e,this.setNeedsRender())}},{key:"wireframe",set:function(e){this._get("wireframe")!==e&&(this._set("wireframe",e),this.setNeedsRender())}},{key:"test",get:function(){return{tileRenderer:this._tileRenderer}}}]),n}(n),r.__decorate([o.property({constructOnly:!0})],e.TerrainRenderer.prototype,"_overlayRenderer",void 0),r.__decorate([o.property({constructOnly:!0})],e.TerrainRenderer.prototype,"_stage",void 0),r.__decorate([o.property({readOnly:!0})],e.TerrainRenderer.prototype,"_isGlobal",null),r.__decorate([o.property({constructOnly:!0})],e.TerrainRenderer.prototype,"_allTiles",void 0),r.__decorate([o.property({constructOnly:!0})],e.TerrainRenderer.prototype,"_ellipsoidRadius",void 0),r.__decorate([o.property({value:!1})],e.TerrainRenderer.prototype,"renderingDisabled",null),r.__decorate([o.property()],e.TerrainRenderer.prototype,"renderPatchBorders",null),r.__decorate([o.property()],e.TerrainRenderer.prototype,"visualizeNormals",null),r.__decorate([o.property()],e.TerrainRenderer.prototype,"cullBackFaces",null),r.__decorate([o.property({value:v.RenderOrder.FRONT_TO_BACK})],e.TerrainRenderer.prototype,"renderOrder",null),r.__decorate([o.property()],e.TerrainRenderer.prototype,"wireframe",null),e.TerrainRenderer=r.__decorate([c.subclass("esri.views.3d.terrain.TerrainRenderer")],e.TerrainRenderer);const $=p.create(),ee=p.create(),te=p.create(),re=p.create();Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
