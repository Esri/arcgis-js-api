/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{_ as e}from"../../../chunks/tslib.es6.js";import{Z as r}from"../../../chunks/vec3f64.js";import{BlendModeTechniqueConfiguration as o}from"./BlendModeTechniqueConfiguration.js";import{LayerBlendMode as i}from"../webgl-engine/core/shaderLibrary/output/BlendOptions.js";import{TileCompositePassParameters as t}from"../webgl-engine/core/shaderLibrary/terrain/TileComposite.glsl.js";import{B as s,a as n,b as l}from"../../../chunks/BlendLayers.glsl.js";import{ReloadableShaderModule as a}from"../webgl-engine/core/shaderTechnique/ReloadableShaderModule.js";import{ShaderTechnique as u}from"../webgl-engine/core/shaderTechnique/ShaderTechnique.js";import{parameter as p}from"../webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js";import{Default3D as c}from"../webgl-engine/lib/DefaultVertexAttributeLocations.js";import{Program as m}from"../webgl-engine/lib/Program.js";import{BlendFactor as d}from"../../webgl/enums.js";import{makePipelineState as h,simpleBlendingParams as g,defaultColorWriteParams as b}from"../../webgl/renderState.js";class f extends t{constructor(){super(...arguments),this.opacity=1,this.baseOpacity=1,this.texture=null,this.fboTexture=null,this.blendMode=i.Normal,this.backgroundColor=r}}class j extends u{initializeProgram(e){const r=j.shader.get().build(this.configuration);return new m(e.rctx,r,c)}initializePipeline(){return h({blending:g(d.ONE,d.ONE_MINUS_SRC_ALPHA),colorWrite:b})}}j.shader=new a(l,(()=>import("../webgl-engine/core/shaderLibrary/util/BlendLayers.glsl.js")));class w extends o{constructor(){super(...arguments),this.output=s.Composite,this.baseOpacityMode=n.One,this.premultipliedSource=!1}}e([p({count:s.COUNT})],w.prototype,"output",void 0),e([p({count:n.COUNT})],w.prototype,"baseOpacityMode",void 0),e([p()],w.prototype,"premultipliedSource",void 0);export{f as BlendLayersPassParameters,j as BlendLayersTechnique,w as BlendLayersTechniqueConfiguration};
