/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{_ as o}from"../../../../chunks/tslib.es6.js";import i from"../../../../core/Accessor.js";import{isNone as s}from"../../../../core/maybe.js";import{property as t}from"../../../../core/accessorSupport/decorators/property.js";import"../../../../core/arrayUtils.js";import"../../../../core/has.js";import"../../../../core/accessorSupport/ensureType.js";import{subclass as n}from"../../../../core/accessorSupport/decorators/subclass.js";import{LengthDimensionVisualization as e}from"./LengthDimensionVisualization.js";let r=class extends i{constructor(o){super(o),this._dimensionVisualizations=new Map}initialize(){for(const o of this.computations)this._addComputation(o);this.own(this.computations.on("change",(({added:o,removed:i})=>{for(const s of i)this._removeComputation(s);for(const s of o)this._addComputation(s)})))}destroy(){this._dimensionVisualizations.forEach((o=>{o.destroy()})),this._dimensionVisualizations.clear()}get testInfo(){return{visualizations:Array.from(this._dimensionVisualizations.values())}}_addComputation(o){this._dimensionVisualizations.has(o)||this._dimensionVisualizations.set(o,new e({computation:o,view:this.view}))}_removeComputation(o){const i=this._dimensionVisualizations.get(o);s(i)||(i.destroy(),this._dimensionVisualizations.delete(o))}};o([t({constructOnly:!0,nonNullable:!0})],r.prototype,"view",void 0),o([t({constructOnly:!0,nonNullable:!0})],r.prototype,"computations",void 0),r=o([n("esri.views.3d.analysis.Dimensioning.DimensioningVisualization")],r);export{r as DimensioningVisualization};
