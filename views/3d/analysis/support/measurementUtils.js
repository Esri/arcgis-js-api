/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/vec3","../../../../chunks/vec3f64","../../../../geometry/geometryEngine","../../../../geometry/Polygon","../../../../geometry/projection","../../../../geometry/SpatialReference","../../../../geometry/support/geodesicUtils","../../support/mathUtils"],(function(e,t,n,o,r,i,a,c,s){"use strict";function l(e,n){const o=n.center;t.set(o,0,0,0);for(let i=0;i<e.length;++i)t.add(o,o,e[i]);t.scale(o,o,1/e.length);let r=0;for(let i=0;i<e.length;++i)r=Math.max(r,t.squaredDistance(o,e[i]));n.radius=Math.sqrt(r)}function u(e,t){if(e.length<3)throw new Error("need at least 3 points to fit a plane");s.planeFromPoints(e[0],e[1],e[2],t)}function f(e,n){return t.dot(e,n)+e[3]}function g(e,n,o){return i.projectPointToVector(e,L,o)&&i.projectPointToVector(n,S,o)?t.distance(L,S):0}function p(e,t){if(!i.projectPointToWGS84ComparableLonLat(e,L)||!i.projectPointToWGS84ComparableLonLat(t,S))return 0;const n={distance:null};return c.inverseGeodeticSolver(n,[L[0],L[1]],[S[0],S[1]]),n.distance}function d(e,t,n){const o={distance:null};return c.inverseGeodeticSolver(o,[e[0],e[1]],[t[0],t[1]],n),o.distance}function m(e,t,n){const o=t[0]-e[0],r=t[1]-e[1],i=n[0]-e[0],a=n[1]-e[1];return.5*Math.abs(o*a-r*i)}function h(e,t,n,r){const a=j;return i.projectVectorToWGS84ComparableLonLat(e,r,L)&&i.projectVectorToWGS84ComparableLonLat(t,r,S)&&i.projectVectorToWGS84ComparableLonLat(n,r,G)?(a.setPoint(0,0,L),a.setPoint(0,1,S),a.setPoint(0,2,G),Math.abs(o.geodesicArea(a,"square-meters"))):0}function b(e,n,o){Math.abs(e[0])>Math.abs(e[1])?t.set(n,0,1,0):t.set(n,1,0,0),t.cross(o,e,n),t.normalize(n,n),t.cross(n,o,e),t.normalize(o,o)}function P(e,n=null,o=!0){const r=1e-6,i=(e,n)=>{if(0===n[0]&&0===n[1]&&0===n[2])return!1;for(let o=0;o<e.length;++o)if(t.dot(n,e[o])<-r)return!1;return!0};if(0===e.length)return!1;if(1===e.length)return n&&t.copy(n,e[0]),!0;t.set(T,0,0,0);for(let a=0;a<e.length;++a)t.add(T,T,e[a]);if(t.normalize(T,T),i(e,T))return n&&t.copy(n,T),!0;if(!o)return!1;for(let a=0;a<e.length;++a)for(let o=0;o<e.length;++o)if(a!==o&&(t.cross(T,e[a],e[o]),t.normalize(T,T),i(e,T)))return n&&t.copy(n,T),!0;return!1}function y(e){return"mouse"!==e.pointerType||0===e.button}const L=n.create(),S=n.create(),G=n.create(),j=new r({rings:[[L,S,G]],spatialReference:a.WGS84}),T=n.create();e.bestFitPlane=u,e.boundingSphere=l,e.fitHemisphere=P,e.isPrimaryPointerAction=y,e.planePointDistance=f,e.segmentLengthEuclidean=g,e.segmentLengthGeodesic=p,e.segmentLengthGeodesicVector=d,e.tangentFrame=b,e.triangleAreaEuclidean=m,e.triangleAreaGeodesic=h,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
