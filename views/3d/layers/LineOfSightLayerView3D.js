/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/maybe","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/accessorSupport/ensureType","../../../core/Logger","../../../core/accessorSupport/decorators/subclass","./LayerView3D","./analysis/LineOfSight/LineOfSightController","./analysis/LineOfSight/LineOfSightLayerViewData","./analysis/LineOfSight/LineOfSightView","../../layers/LayerView"],(function(e,i,r,t,a,o,s,n,y,l,p,h,c,u){"use strict";e.LineOfSightLayerView3D=function(e){function r(){var i;return(i=e.apply(this,arguments)||this).type="line-of-sight-3d",i._layerViewData=new h.LineOfSightLayerViewData,i}i._inheritsLoose(r,e);var a=r.prototype;return a.initialize=function(){const e=this.view,i=this.layer,r=this._layerViewData;this._analysisController=new p.LineOfSightController({layer:i,layerViewData:r,view:e}),this._analysisView=new c.LineOfSightView({layer:i,layerViewData:r,view:e})},a.destroy=function(){this._analysisController=t.destroyMaybe(this._analysisController),this._analysisView=t.destroyMaybe(this._analysisView)},a.getResultForTarget=function(e){const i=this._layerViewData.analyses.find((i=>i.target===e)),r=t.applySome(i,(e=>e.result));return t.unwrapOr(r,null)},a.isUpdating=function(){return t.mapOr(this._analysisController,!1,(e=>e.updating))},i._createClass(r,[{key:"results",get:function(){return this._layerViewData.analyses.map((e=>e.result))}},{key:"priority",get:function(){return this._analysisController.priority},set:function(e){this._analysisController.priority=e}}]),r}(l.LayerView3D(u)),r.__decorate([a.property({readOnly:!0})],e.LineOfSightLayerView3D.prototype,"type",void 0),r.__decorate([a.property()],e.LineOfSightLayerView3D.prototype,"layer",void 0),r.__decorate([a.property({readOnly:!0})],e.LineOfSightLayerView3D.prototype,"results",null),r.__decorate([a.property()],e.LineOfSightLayerView3D.prototype,"priority",null),r.__decorate([a.property()],e.LineOfSightLayerView3D.prototype,"_layerViewData",void 0),r.__decorate([a.property()],e.LineOfSightLayerView3D.prototype,"_analysisController",void 0),r.__decorate([a.property()],e.LineOfSightLayerView3D.prototype,"_analysisView",void 0),e.LineOfSightLayerView3D=r.__decorate([y.subclass("esri.views.3d.layers.LineOfSightLayerView3D")],e.LineOfSightLayerView3D);var L=e.LineOfSightLayerView3D;e.default=L,Object.defineProperty(e,"__esModule",{value:!0})}));
