/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
define(["../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/maybe","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/accessorSupport/ensureType","../../../core/Logger","../../../core/accessorSupport/decorators/subclass","../../../properties/defaultUnit","./LayerView3D","./analysis/DirectLineMeasurement/DirectLineMeasurementController","./analysis/DirectLineMeasurement/DirectLineMeasurementView","../../layers/LayerView"],(function(e,t,r,i,n,a,o,l,s,u,y,p,c){"use strict";let d=function(t){function i(e){var r;return(r=t.call(this,e)||this)._userUnit=null,r.type="direct-line-measurement-3d",r.result=null,r.elevationAlignedStartPoint=null,r.elevationAlignedEndPoint=null,r}e._inheritsLoose(i,t);var n=i.prototype;return n.initialize=function(){const e=this.view,t=this.layer;this._analysisView=new p.DirectLineMeasurementView({view:e,layer:t,layerView:this}),this._analysisController=new y.DirectLineMeasurementController({view:e,layer:t,viewData:this})},n.destroy=function(){r.destroyMaybe(this._analysisController),r.destroyMaybe(this._analysisView)},n.whenReady=function(){return this._analysisView.whenReady()},n.isUpdating=function(){var e;return!(null==(e=this._analysisView)||!e.loadingMessages)},e._createClass(i,[{key:"unit",get:function(){return r.unwrapOr(this._userUnit,this._defaultUnit)},set:function(e){this._userUnit=e}},{key:"viewMode",get:function(){return this._analysisView.viewMode}},{key:"visualizedMeasurement",get:function(){return this._analysisView.visualizedMeasurement},set:function(e){this._analysisView.visualizedMeasurement=e}},{key:"actualVisualizedMeasurement",get:function(){return this._analysisView.actualVisualizedMeasurement}},{key:"visualElementOrientation",get:function(){return this._analysisView.visualElementOrientation},set:function(e){this._analysisView.visualElementOrientation=e}},{key:"allowVisualElementsOrientationChange",get:function(){return this._analysisView.allowVisualElementsOrientationChange},set:function(e){this._analysisView.allowVisualElementsOrientationChange=e}},{key:"triangleCollapseRatioThreshold",get:function(){return this._analysisView.triangleCollapseRatioThreshold},set:function(e){this._analysisView.triangleCollapseRatioThreshold=e}},{key:"directLabelText",get:function(){return this._analysisView.labels.direct.text}},{key:"horizontalLabelText",get:function(){return this._analysisView.labels.horizontal.text}},{key:"verticalLabelText",get:function(){return this._analysisView.labels.vertical.text}},{key:"testData",get:function(){var e;return this.destroyed?{labels:null,stripeLength:null,view:null,controller:null}:{...null==(e=this._analysisView)?void 0:e.testData,view:this._analysisView,controller:this._analysisController}}}]),i}(u.LayerView3D(c));return t.__decorate([i.property(s.defaultUnitPropertyMetadata)],d.prototype,"_defaultUnit",void 0),t.__decorate([i.property()],d.prototype,"_userUnit",void 0),t.__decorate([i.property()],d.prototype,"_analysisView",void 0),t.__decorate([i.property()],d.prototype,"_analysisController",void 0),t.__decorate([i.property()],d.prototype,"type",void 0),t.__decorate([i.property()],d.prototype,"unit",null),t.__decorate([i.property()],d.prototype,"layer",void 0),t.__decorate([i.property()],d.prototype,"result",void 0),t.__decorate([i.property()],d.prototype,"elevationAlignedStartPoint",void 0),t.__decorate([i.property()],d.prototype,"elevationAlignedEndPoint",void 0),t.__decorate([i.property({readOnly:!0})],d.prototype,"viewMode",null),t.__decorate([i.property()],d.prototype,"visualizedMeasurement",null),t.__decorate([i.property({readOnly:!0})],d.prototype,"actualVisualizedMeasurement",null),t.__decorate([i.property()],d.prototype,"visualElementOrientation",null),t.__decorate([i.property()],d.prototype,"allowVisualElementsOrientationChange",null),t.__decorate([i.property()],d.prototype,"triangleCollapseRatioThreshold",null),t.__decorate([i.property({readOnly:!0})],d.prototype,"directLabelText",null),t.__decorate([i.property({readOnly:!0})],d.prototype,"horizontalLabelText",null),t.__decorate([i.property({readOnly:!0})],d.prototype,"verticalLabelText",null),t.__decorate([i.property()],d.prototype,"testData",null),d=t.__decorate([l.subclass("esri.views.3d.layers.DirectLineMeasurementLayerView3D")],d),d}));
