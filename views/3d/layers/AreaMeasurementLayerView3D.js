/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
define(["../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/maybe","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/accessorSupport/ensureType","../../../core/Logger","../../../core/accessorSupport/decorators/subclass","../../../properties/defaultUnit","./LayerView3D","./analysis/AreaMeasurement/AreaMeasurementController","./analysis/AreaMeasurement/AreaMeasurementLayerViewData","./analysis/AreaMeasurement/AreaMeasurementView","../../layers/LayerView"],(function(e,t,r,a,s,i,o,n,l,y,p,u,c,h){"use strict";let d=function(t){function a(e){var r;return(r=t.call(this,e)||this).type="area-measurement-3d",r.layerViewData=new u.AreaMeasurementLayerViewData,r._userUnit=null,r}e._inheritsLoose(a,t);var s=a.prototype;return s.initialize=function(){this.layerViewData.path.view=this.view,this.layerViewData.path.areaMeasurement=this.layer,this.analysisView=new c.AreaMeasurementView({view:this.view,analysis:this.layer,layerView:this}),this.analysisController=new p.AreaMeasurementController({view:this.view,analysis:this.layer,layerViewData:this.layerViewData})},s.destroy=function(){this.analysisController=r.destroyMaybe(this.analysisController),this.analysisView=r.destroyMaybe(this.analysisView)},e._createClass(a,[{key:"unit",get:function(){return r.unwrapOr(this._userUnit,this._defaultUnit)},set:function(e){this._userUnit=e}},{key:"result",get:function(){if(r.isSome(this.layerViewData.measurementData)){const e=this.layerViewData.measurementData;return{area:e.area,geodesicArea:e.geodesicArea,pathLength:e.pathLength,geodesicPathLength:e.geodesicPathLength,perimeterLength:e.perimeterLength}}return{area:null,geodesicArea:null,pathLength:null,geodesicPathLength:null,perimeterLength:null}}},{key:"testData",get:function(){return{view:this.analysisView,controller:this.analysisController}}}]),a}(y.LayerView3D(h));return t.__decorate([a.property()],d.prototype,"type",void 0),t.__decorate([a.property()],d.prototype,"analysisView",void 0),t.__decorate([a.property()],d.prototype,"analysisController",void 0),t.__decorate([a.property()],d.prototype,"unit",null),t.__decorate([a.property()],d.prototype,"layer",void 0),t.__decorate([a.property()],d.prototype,"result",null),t.__decorate([a.property()],d.prototype,"layerViewData",void 0),t.__decorate([a.property(l.defaultUnitPropertyMetadata)],d.prototype,"_defaultUnit",void 0),t.__decorate([a.property()],d.prototype,"_userUnit",void 0),d=t.__decorate([n.subclass("esri.views.3d.layers.AreaMeasurementLayerView3D")],d),d}));
