/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["exports","../../support/debugFlags"],(function(e,t){"use strict";let i,n,l=!1,o=!1,a=!1,s=!1,c=null;function r(e,t){if(!o||!n)return;h();const i=n;let l=0;for(let n=0;n<e.accBinsNumX;n++)for(let t=0;t<e.accBinsNumY;t++){const o=e.accBins[n][e.accBinsNumY-1-t];l+=o.length;const a=n*e.accBinsSizeX,s=(n+1)*e.accBinsSizeX,c=t*e.accBinsSizeY,r=(t+1)*e.accBinsSizeY;i.fillText(o.length.toFixed(),a+5,c+15),d(a,s,c,r,"blue")}i.fillText("total totalShownLabels: "+l,70,40),i.fillText("total visible labels: "+t.size,70,50),i.fillText("total numTests: "+e.accNumTests,70,30)}function u(e){a=t.DECONFLICTOR_SHOW_VISIBLE,s=t.DECONFLICTOR_SHOW_INVISIBLE,l=a||s,o=t.DECONFLICTOR_SHOW_GRID,c=null,l||o?c=()=>p(e):i&&(i.parentElement.removeChild(i),i=null)}function h(){c&&(c(),c=null)}function p(e){null==i&&(i=document.createElement("canvas"),i.setAttribute("id","canvas2d"),e.surface.parentElement.style.position="relative",e.surface.parentElement.appendChild(i));const t=e.width*e.pixelRatio,l=e.height*e.pixelRatio;i.setAttribute("width",`${t}px`),i.setAttribute("height",`${l}px`),i.setAttribute("style",`position:absolute;left:0px;top:0px;display:block;pointer-events:none;width:${e.width}px;height:${e.height}px`),n=i.getContext("2d"),n.clearRect(0,0,e.width,e.height),n.font="12px Arial"}function d(e,t,l,o,a){h();const s=i.height,c=n;c.beginPath(),c.lineWidth=1,c.strokeStyle=a,c.moveTo(e,s-l),c.lineTo(t,s-l),c.stroke(),c.lineTo(t,s-o),c.stroke(),c.lineTo(t,s-l),c.stroke(),c.lineTo(e,s-l),c.stroke(),c.lineTo(e,s-l),c.stroke(),c.closePath()}function f(e,t){l&&(t&&a||!t&&s)&&d(e.aabr[0],e.aabr[2],e.aabr[1],e.aabr[3],t?"green":"red")}e.drawAccelerationStruct=r,e.drawPoly=f,e.prepare=u,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
