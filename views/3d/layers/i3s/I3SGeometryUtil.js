/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../core/maybe","../../../../chunks/vec3","../../../../chunks/vec3f64","../../../../geometry/projection","../../../../geometry/support/aaBoundingBox","../../webgl-engine/lib/DoubleArray"],(function(e,t,n,o,r,a,u){"use strict";function c(e,t,o,r){const a=t.getComponentAabb(o,e,s),u=t.getObjectTransform(o);for(let c=0;c<8;++c)b[0]=1&c?a[0]:a[3],b[1]=2&c?a[1]:a[4],b[2]=4&c?a[2]:a[5],n.transformMat3(b,b,u.rotationScale),n.add(b,b,u.position),r[3*c]=b[0],r[3*c+1]=b[1],r[3*c+2]=b[2];return r}function i(e,n,o){const i=u.newDoubleArray(24);return u=>{let f=u.meta.featureExtents;if(t.isNone(f)){f=new Float64Array(6*u.meta.featureIds.length),u.meta.featureExtents=f;for(let e=0;e<f.length;e+=6)f[e]=Number.POSITIVE_INFINITY}const s=new Float64Array(f.buffer,6*u.index*Float64Array.BYTES_PER_ELEMENT,6);return s[0]===Number.POSITIVE_INFINITY&&(c(u.index,o,u.meta.objectHandle,i),r.projectBuffer(i,n,0,i,e,0,8)?(a.set(s,a.NEGATIVE_INFINITY),a.expandWithBuffer(s,i,0,8)):a.set(s,a.ZERO)),s}}function f(e,t,o,r){const a=t.getComponentAabb(o,e,s),u=t.getObjectTransform(o);r[0]=0,r[1]=0,r[2]=0;for(let c=0;c<8;++c)b[0]=1&c?a[0]:a[3],b[1]=2&c?a[1]:a[4],b[2]=a[5],n.transformMat3(b,b,u.rotationScale),n.add(b,b,u.position),r[0]+=b[0],r[1]+=b[1],r[2]+=b[2];return r[0]/=8,r[1]/=8,r[2]/=8,r}const s=a.create(),b=o.create();e.boundingBoxCornerPoints=c,e.boundingBoxTop=f,e.createGetFeatureExtent=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
