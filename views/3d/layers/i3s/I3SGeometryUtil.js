/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../../core/maybe","../../../../chunks/vec3f64","../../../../chunks/vec3","../../../../geometry/projection","../../../../geometry/support/aaBoundingBox"],(function(e,t,n,o,r,a){"use strict";function c(e,t,n,r){const a=t.getComponentAabb(n,e,f),c=t.getObjectTransform(n);for(let u=0;u<8;++u)i[0]=1&u?a[0]:a[3],i[1]=2&u?a[1]:a[4],i[2]=4&u?a[2]:a[5],o.transformMat3(i,i,c.rotationScale),o.add(i,i,c.position),r[3*u]=i[0],r[3*u+1]=i[1],r[3*u+2]=i[2];return r}function u(e,n,o){const u=new Float64Array(24);return s=>{let f=s.meta.featureExtents;if(t.isNone(f)){f=new Float64Array(6*s.meta.featureIds.length),s.meta.featureExtents=f;for(let e=0;e<f.length;e+=6)f[e]=Number.POSITIVE_INFINITY}const i=new Float64Array(f.buffer,6*s.index*Float64Array.BYTES_PER_ELEMENT,6);return i[0]===Number.POSITIVE_INFINITY&&(c(s.index,o,s.meta.objectHandle,u),r.projectBuffer(u,n,0,u,e,0,8)?(a.set(i,a.NEGATIVE_INFINITY),a.expandWithBuffer(i,u,0,8)):a.set(i,a.ZERO)),i}}function s(e,t,n,r){const a=t.getComponentAabb(n,e,f),c=t.getObjectTransform(n);r[0]=0,r[1]=0,r[2]=0;for(let u=0;u<8;++u)i[0]=1&u?a[0]:a[3],i[1]=2&u?a[1]:a[4],i[2]=a[5],o.transformMat3(i,i,c.rotationScale),o.add(i,i,c.position),r[0]+=i[0],r[1]+=i[1],r[2]+=i[2];return r[0]/=8,r[1]/=8,r[2]/=8,r}const f=a.create(),i=n.create();e.boundingBoxCornerPoints=c,e.boundingBoxTop=s,e.createGetFeatureExtent=u,Object.defineProperty(e,"__esModule",{value:!0})}));
