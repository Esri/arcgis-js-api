/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../../core/maybe","../../../../layers/graphics/OptimizedGeometry","../../../../layers/graphics/centroid","../../../../geometry/support/aaBoundingBox","./I3SUtil"],(function(t,e,r,i,n,o){"use strict";let u=function(){function t(t){this.objectIdField=t.objectIdField,this.getFeatureExtent=t.getFeatureExtent}var n=t.prototype;return n.getObjectId=function(t){return t.id},n.getAttributes=function(t){const{meta:r,index:i}=t,n={};this.objectIdField&&(n[this.objectIdField]=t.id);const u=e.isSome(r.attributeInfo)&&r.attributeInfo.attributeData;if(e.isSome(u))for(const t of Object.keys(u))n[t]=o.getCachedAttributeValue(u[t],i);return n},n.getAttribute=function(t,r){if(r===this.objectIdField)return t.id;const{meta:i,index:n}=t,u=e.isSome(i.attributeInfo)&&i.attributeInfo.attributeData;return e.isSome(u)?o.getCachedAttributeValue(u[r],n):null},n.getGeometry=function(t){if(t.geometry)return t.geometry;const[e,i,n,o,u]=this.getFeatureExtent(t,a);return new r([5],[e,i,n,o,i,n,o,u,n,e,u,n,e,i,n])},n.getCentroid=function(t,e){if(t.geometry)return i.getCentroidOptimizedGeometry(new r,t.geometry,e.hasZ,e.hasM);const[n,o,u,c,d,s]=this.getFeatureExtent(t,a);return new r([0],[(n+c)/2,(o+d)/2,(u+s)/2])},n.cloneWithGeometry=function(t,e){const{id:r,index:i,meta:n}=t;return{id:r,index:i,meta:n,geometry:e}},t}();const a=n.create();t.I3SQueryFeatureAdapter=u,Object.defineProperty(t,"__esModule",{value:!0})}));
