/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["../../../../core/arrayUtils","../II3SMeshView3D"],(function(e,t){"use strict";let i=function(){this.ids=new Set,this.paused=!1};return function(){function s({collection:e,forAllFeatures:t,forAllFeaturesOfNode:i}){this._highlights=[],this._collection=e,this._forAllFeatures=t,this._forAllFeaturesOfNode=i}var o=s.prototype;return o.destroy=function(){this._highlights.forEach((e=>this._releaseSet(e))),this._highlights=null},o.acquireSet=function(){const t=new i;this._highlights.push(t);const s={remove:()=>{this._releaseSet(t),e.removeUnordered(this._highlights,t)},pause:()=>{this._releaseSet(t),t.paused=!0},resume:()=>{t.paused=!1,this._initializeSet(t)}};return{set:t,handle:s}},o.setFeatureIds=function(e,t){t.forEach((t=>e.ids.add(t))),this._initializeSet(e)},o._initializeSet=function(e){this._forAllFeatures(((i,s,o)=>(e.ids.has(i)&&this._collection.addComponentHighlight(o.objectHandle,s),t.ForAllFeaturesReturnType.CONTINUE)))},o._releaseSet=function(e){this._forAllFeatures(((i,s,o)=>(e.ids.has(i)&&this._collection.removeComponentHighlight(o.objectHandle,s),t.ForAllFeaturesReturnType.CONTINUE)))},o.objectCreated=function(e){this._highlights.forEach((i=>{i.paused||this._forAllFeaturesOfNode(e,((s,o)=>(i.ids.has(s)&&this._collection.addComponentHighlight(e.objectHandle,o),t.ForAllFeaturesReturnType.CONTINUE)))}))},o.objectDeleted=function(e){this._collection.clearHighlights(e.objectHandle)},s}()}));
