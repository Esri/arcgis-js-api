/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{createScreenPointArray as r}from"../../../../core/screenUtils.js";import{ZoomController as t}from"../../state/controllers/global/ZoomController.js";import{ZoomController as e}from"../../state/controllers/local/ZoomController.js";import{InputHandler as o}from"../../../input/InputHandler.js";import{eventMatchesMousePointerAction as a}from"../../../input/handlers/support.js";class s extends o{constructor(r,t,e){super(!0),this.view=r,this.pointerAction=t,this.registerIncoming("drag",e,(r=>this._handleDrag(r)))}_handleDrag(o){const s=o.data;if(s.pointers.size>1)return;if(!a(o.data,this.pointerAction))return;const i=r(s.center.x,s.center.y);switch(s.action){case"start":this.cameraController&&(this.cameraController.end(),this.cameraController=null),this.view.state.isGlobal?this.cameraController=new t({view:this.view}):this.cameraController=new e({view:this.view}),this.view.state.switchCameraController(this.cameraController),this.cameraController.begin(i);break;case"update":this.cameraController&&this.cameraController.update(i);break;case"end":this.cameraController&&(this.cameraController.end(),this.cameraController=null)}o.stopPropagation()}}export{s as DragZoom};
