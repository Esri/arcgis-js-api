/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec3f64","../../../../chunks/vec3","./Camera","../../webgl-engine/lib/Camera","../../../animation/pointToPoint/Animation"],(function(t,e,i,n,r,o,a){"use strict";const c=i.create();let s=function(){function t(t){this.currentTime=0,this.animation=new a.Animation((()=>new r(t))),this._current=new r(t)}var i=t.prototype;return i.update=function(t,e,i){const r=this.animation.definition.source,o=this.animation.definition.target,a=n.subtract(c,e.center,t.center),s=n.length(a);s>=1e-5?(a[0]/=s,a[1]/=s,a[2]/=s):(a[0]=0,a[1]=1,a[0]=0),n.copy(r.lookAtDirection,a),n.copy(o.lookAtDirection,a),r.copyFromRenderCamera(t),o.copyFromRenderCamera(e),this._current.copyFrom(r),this.animation.update(r,o,i),this.currentTime=0,t.almostEquals(e)&&(this.currentTime=this.animation.time)},i.cameraAt=function(t,e){return this.animation.cameraAt(t,this._current),e=e||new o,this._current.copyToRenderCamera(e),e},i.step=function(t,e){return this.finished||(this.currentTime+=t,this.currentTime>=this.time&&(this.currentTime=this.time)),this.cameraAt(this.currentTime/this.time,e)},e._createClass(t,[{key:"finished",get:function(){return this.currentTime>=this.animation.time}},{key:"time",get:function(){return this.animation.time}}]),t}();t.Animation=s,t.default=s,Object.defineProperty(t,"__esModule",{value:!0})}));
