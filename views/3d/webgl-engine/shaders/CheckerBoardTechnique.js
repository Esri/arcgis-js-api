/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{ReloadableShaderModule as e}from"../core/shaderTechnique/ReloadableShaderModule.js";import{ShaderTechnique as r}from"../core/shaderTechnique/ShaderTechnique.js";import{TransparencyPassType as t}from"../lib/basicInterfaces.js";import{Default3D as i}from"../lib/DefaultVertexAttributeLocations.js";import{oitBlending as o,oitDepthTest as n,oitDepthWrite as s}from"../lib/OrderIndependentTransparency.js";import{Program as a}from"../lib/Program.js";import{C as l}from"../../../../chunks/CheckerBoard.glsl.js";import{BlendFactor as c}from"../../../webgl/enums.js";import{separateBlendingParams as p,makePipelineState as m,defaultDepthWriteParams as f,defaultColorWriteParams as d}from"../../../webgl/renderState.js";class h extends r{initializeProgram(e){const r=h.shader.get().build(this.configuration);return new a(e.rctx,r,i)}_setPipelineState(e){const r=this.configuration,i=e===t.NONE,a=e===t.FrontFace;return m({blending:r.transparent?i?g:o(e):null,depthTest:{func:n(e)},depthWrite:i?r.writeDepth&&f:s(e),colorWrite:d,polygonOffset:i||a?r.polygonOffset&&u:{factor:-1,units:-25}})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}h.shader=new e(l,(()=>import("./CheckerBoard.glsl.js")));const u={factor:0,units:-25},g=p(c.SRC_ALPHA,c.ONE,c.ONE_MINUS_SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA);export{h as CheckerBoardTechnique};
