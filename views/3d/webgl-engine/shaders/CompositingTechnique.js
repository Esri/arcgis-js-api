/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["require","exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/tslib.es6","../core/shaderTechnique/ReloadableShaderModule","../core/shaderTechnique/ShaderTechnique","../core/shaderTechnique/ShaderTechniqueConfiguration","../lib/DefaultVertexAttributeLocations","../lib/Program","../../../../chunks/Compositing.glsl","../../../webgl/enums","../../../webgl/renderState"],(function(e,i,t,o,r,a,n,l,u,c,d,s){"use strict";var p;i.AlphaMode=void 0,(p=i.AlphaMode||(i.AlphaMode={}))[p.None=0]="None",p[p.Alpha=1]="Alpha",p[p.PremultipliedAlpha=2]="PremultipliedAlpha",p[p.COUNT=3]="COUNT";let h=function(e){function o(){return e.apply(this,arguments)||this}t._inheritsLoose(o,e);var r=o.prototype;return r.initializeProgram=function(e){const i=o.shader.get().build(this.configuration);return new u.Program(e.rctx,i,l.Default3D)},r.initializePipeline=function(){if(this.configuration.function===c.CompositingFunction.TransparentToHUDVisibility)return s.makePipelineState({colorWrite:{r:!1,g:!0,b:!1,a:!1}});switch(this.configuration.alphaMode){case i.AlphaMode.None:return s.makePipelineState({colorWrite:s.defaultColorWriteParams});case i.AlphaMode.Alpha:return s.makePipelineState({blending:s.separateBlendingParams(d.BlendFactor.SRC_ALPHA,d.BlendFactor.ONE,d.BlendFactor.ONE_MINUS_SRC_ALPHA,d.BlendFactor.ONE_MINUS_SRC_ALPHA),colorWrite:s.defaultColorWriteParams});default:return s.makePipelineState({blending:s.simpleBlendingParams(d.BlendFactor.ONE,d.BlendFactor.ONE_MINUS_SRC_ALPHA),colorWrite:s.defaultColorWriteParams})}},o}(a.ShaderTechnique);h.shader=new r.ReloadableShaderModule(c.CompositingShader,(()=>new Promise(((i,t)=>e(["./Compositing.glsl"],i,t)))));let g=function(e){function o(){var t;return(t=e.apply(this,arguments)||this).function=c.CompositingFunction.Standard,t.alphaMode=i.AlphaMode.None,t.hasOpacityFactor=!1,t}return t._inheritsLoose(o,e),o}(n.ShaderTechniqueConfiguration);o.__decorate([n.parameter({count:c.CompositingFunction.COUNT})],g.prototype,"function",void 0),o.__decorate([n.parameter({count:i.AlphaMode.COUNT})],g.prototype,"alphaMode",void 0),o.__decorate([n.parameter()],g.prototype,"hasOpacityFactor",void 0),i.CompositingTechnique=h,i.CompositingTechniqueConfiguration=g,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
