/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["require","exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/tslib.es6","../core/shaderTechnique/ReloadableShaderModule","../core/shaderTechnique/ShaderTechnique","../core/shaderTechnique/ShaderTechniqueConfiguration","../lib/DefaultVertexAttributeLocations","../../../webgl/Program","../../../webgl/renderState","../core/shaderLibrary/util/View.glsl","../../../../chunks/MeasurementArrow.glsl"],(function(e,r,t,i,n,o,a,s,u,l,h,c){"use strict";let f=function(e){function r(r,t){return e.call(this,r,t)||this}t._inheritsLoose(r,e);var i=r.prototype;return i.initializeProgram=function(e){const t=r.shader.get().build();return new u(e.rctx,t.generateSource("vertex"),t.generateSource("fragment"),s.Default3D)},i.bindPass=function(e,r,t){h.View.bindProjectionMatrix(this.program,t.camera.projectionMatrix),this.program.setUniform1f("width",r.width),this.program.setUniform1f("outlineSize",r.outlineSize),this.program.setUniform4fv("outlineColor",r.outlineColor),this.program.setUniform1f("stripeLength",r.stripeLength),this.program.setUniform4fv("stripeEvenColor",r.stripeEvenColor),this.program.setUniform4fv("stripeOddColor",r.stripeOddColor)},i.bindDraw=function(e){h.View.bindView(this.program,e)},i.initializePipeline=function(){return l.makePipelineState({polygonOffset:this.configuration.polygonOffsetEnabled&&{factor:0,units:-4},depthTest:{func:513},depthWrite:l.defaultDepthWriteParams,colorWrite:l.defaultColorWriteParams})},t._createClass(r,[{key:"primitiveType",get:function(){return 5}}]),r}(o.ShaderTechnique);f.shader=new n.ReloadableShaderModule(c.MeasurementArrowShader,(()=>new Promise((function(r,t){e(["./MeasurementArrow.glsl"],r,t)}))));let d=function(e){function r(){var r;return(r=e.apply(this,arguments)||this).polygonOffsetEnabled=!1,r}return t._inheritsLoose(r,e),r}(a.ShaderTechniqueConfiguration);i.__decorate([a.parameter()],d.prototype,"polygonOffsetEnabled",void 0),r.MeasurementArrowTechnique=f,r.MeasurementArrowTechniqueConfiguration=d,Object.defineProperty(r,"__esModule",{value:!0})}));
