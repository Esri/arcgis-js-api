/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
define(["require","exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/tslib.es6","../core/shaderLibrary/util/View.glsl","../core/shaderTechnique/ReloadableShaderModule","../core/shaderTechnique/ShaderTechnique","../core/shaderTechnique/ShaderTechniqueConfiguration","../lib/DefaultVertexAttributeLocations","../lib/Program","../../../../chunks/MeasurementArrow.glsl","../../../webgl/renderState"],(function(e,r,t,i,o,n,a,s,u,l,h,f){"use strict";let c=function(e){function r(r,t,i){return e.call(this,r,t,i)||this}t._inheritsLoose(r,e);var i=r.prototype;return i.initializeProgram=function(e){const t=r.shader.get().build();return new l.Program(e.rctx,t,u.Default3D)},i.bindPass=function(e,r){o.bindProjectionMatrix(this.program,r.camera.projectionMatrix),this.program.setUniform1f("width",e.width),this.program.setUniform1f("outlineSize",e.outlineSize),this.program.setUniform4fv("outlineColor",e.outlineColor),this.program.setUniform1f("stripeLength",e.stripeLength),this.program.setUniform4fv("stripeEvenColor",e.stripeEvenColor),this.program.setUniform4fv("stripeOddColor",e.stripeOddColor)},i.bindDraw=function(e){o.bindView(this.program,e),this.program.rebindTextures()},i.initializePipeline=function(){return f.makePipelineState({polygonOffset:this.configuration.polygonOffsetEnabled&&{factor:0,units:-4},depthTest:{func:513},depthWrite:f.defaultDepthWriteParams,colorWrite:f.defaultColorWriteParams})},t._createClass(r,[{key:"primitiveType",get:function(){return 5}}]),r}(a.ShaderTechnique);c.shader=new n.ReloadableShaderModule(h.MeasurementArrowShader,(()=>new Promise((function(r,t){e(["./MeasurementArrow.glsl"],r,t)}))));let d=function(e){function r(){var r;return(r=e.apply(this,arguments)||this).polygonOffsetEnabled=!1,r}return t._inheritsLoose(r,e),r}(s.ShaderTechniqueConfiguration);i.__decorate([s.parameter()],d.prototype,"polygonOffsetEnabled",void 0),r.MeasurementArrowTechnique=c,r.MeasurementArrowTechniqueConfiguration=d,Object.defineProperty(r,"__esModule",{value:!0})}));
