/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports"],(function(t){"use strict";function i(t=!0){return{isVisibleBit:!t,data:new Uint32Array(0)}}function n(t){return 8*t.BYTES_PER_ELEMENT}t.defaultVisibilities=i,t.getVisibility=function(t,i){if(null==t)return!0;const{isVisibleBit:e,data:r}=t,u=n(r);return i<r.length*u?function(t,i,n,e){const r=n/e|0,u=n-r*e;return function(t,i){return 0!=(t&1<<i)}(i[r],u)===t}(e,r,i,u):!t.isVisibleBit},t.updateVisibilityWithCount=function(t,e,r,u){if(r>=e)return t;null==t&&(t=i());const s=t.isVisibleBit;let l=t.data;const a=n(l),o=r/a|0,c=r-a*o,f=(e-1)/a|0,d=l,b=u===s;if(!(r<d.length*a)&&b){const t=1.5,i=o+1,n=Math.ceil(d.length*t),e=f+1;let r=Math.max(i,n);r=Math.min(r,e),l=new Uint32Array(r),l.set(d)}return o<l.length&&(l[o]=function(t,i,n){return t&~(1<<i)|(n?1:0)<<i}(l[o],c,b)),t.data=l,t},Object.defineProperty(t,"__esModule",{value:!0})}));
