/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/vec2","../../../../chunks/vec2f64","../../../../chunks/vec4","../../../../chunks/vec4f64"],(function(t,n,e,r,o){"use strict";const a=o.create();let s=function(){function t(t){this.message=t}return t.prototype.toString=function(){return`AssertException: ${this.message}`},t}();function i(t,n){if(!t)throw n=n||"assert",console.log(new Error(n).stack),new s(n)}function c(t,n){t||(n=n||"",console.warn("Verify failed: "+n+"\n"+new Error("verify").stack))}function f(t,n,e,r){let o,a=(e[0]-t[0])/n[0],s=(r[0]-t[0])/n[0];a>s&&(o=a,a=s,s=o);let i=(e[1]-t[1])/n[1],c=(r[1]-t[1])/n[1];if(i>c&&(o=i,i=c,c=o),a>c||i>s)return!1;i>a&&(a=i),c<s&&(s=c);let f=(e[2]-t[2])/n[2],u=(r[2]-t[2])/n[2];return f>u&&(o=f,f=u,u=o),!(a>u||f>s)&&(u<s&&(s=u),!(s<0))}function u(t,n,r,o,a,s=e.create()){const i=(o[a]-r[a])*(n[0]-t[0])-(o[0]-r[0])*(n[a]-t[a]),c=(o[0]-r[0])*(t[a]-r[a])-(o[a]-r[a])*(t[0]-r[0]);if(0===i)return!1;const f=c/i;return s[0]=t[0]+f*(n[0]-t[0]),s[1]=t[a]+f*(n[a]-t[a]),!0}function h(t,n,e,o,s){s||(s=t),a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=1,r.transformMat4(a,a,n),s.length>2&&(s[2]=-a[2]),r.transformMat4(a,a,e),i(0!==a[3]),s[0]=a[0]/a[3],s[1]=a[1]/a[3],s[2]=a[2]/a[3],s[0]=(.5*s[0]+.5)*o[2]+o[0],s[1]=(.5*s[1]+.5)*o[3]+o[1]}function M(t,n){return Math.log(t)/Math.log(n)}function l(t,n,e,r){t[12]=n,t[13]=e,t[14]=r}function v(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}function g(t,n,e){return 2*Math.atan(Math.sqrt(n*n+e*e)*Math.tan(.5*t)/n)}function y(t,n,e){return 2*Math.atan(Math.sqrt(n*n+e*e)*Math.tan(.5*t)/e)}function d(t,n,e){return 2*Math.atan(n*Math.tan(.5*t)/Math.sqrt(n*n+e*e))}function x(t,n,e){return 2*Math.atan(e*Math.tan(.5*t)/Math.sqrt(n*n+e*e))}function k(t,e,r,o,a){const s=t;0===t[11]?(o[0]=2/(e*s[0]),o[1]=2/(r*s[5]),o[2]=(1+s[12])/s[0],o[3]=(1+s[13])/s[5],n.set(a,0,1)):(o[0]=-2/(e*s[0]),o[1]=-2/(r*s[5]),o[2]=(1-s[8])/s[0],o[3]=(1-s[9])/s[5],n.set(a,1,0))}t.assert=i,t.fovd2fovx=d,t.fovd2fovy=x,t.fovx2fovd=g,t.fovy2fovd=y,t.inverseProjectionInfo=k,t.isTranslationMatrix=v,t.logWithBase=M,t.project=h,t.rayBoxTest=f,t.rayRay2D=u,t.setMatrixTranslation3=l,t.verify=c,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
