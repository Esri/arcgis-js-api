/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{isSome as r}from"../../../../core/maybe.js";import{ShaderOutput as e}from"../core/shaderLibrary/ShaderOutputOptions.js";import{ResourceState as t}from"./basicInterfaces.js";import{RenderPass as s}from"./RenderPass.js";class a{constructor(r,e){this._material=r,this._repository=e,this._map=new Map}destroy(){this._map.forEach(((e,t)=>{r(e)&&this._repository.release(this._material,i(t))}))}load(e,s){this._map.has(s)||this._map.set(s,this._repository.acquire(this._material,i(s)));const a=this._map.get(s);if(r(a)){if(a.ensureResources(e)===t.LOADED)return a;this._repository.requestRender()}return null}}function i(r){switch(r){case s.MATERIAL:return e.Color;case s.MATERIAL_ALPHA:return e.Alpha;case s.MATERIAL_DEPTH:return e.Depth;case s.MATERIAL_NORMAL:return e.Normal;case s.MATERIAL_DEPTH_SHADOWMAP_ALL:return e.Shadow;case s.MATERIAL_HIGHLIGHT:return e.Highlight;case s.MATERIAL_DEPTH_SHADOWMAP_HIGHLIGHT:case s.MATERIAL_DEPTH_SHADOWMAP_DEFAULT:return e.Shadow}}export{a as GLMaterials,i as outputFromPass};
