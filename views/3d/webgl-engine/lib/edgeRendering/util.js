/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{binaryIndexOf as t}from"../../../../../core/arrayUtils.js";import{isNone as r,isSome as e}from"../../../../../core/maybe.js";import{Transparency as n}from"./interfaces.js";function o(t){let n=null;for(const e of t){const t=e.type;if(u(e))if(r(n))n=t;else if(n!==t)return"uber"}return e(n)?n:"uber"}function i(t){let r=n.INVISIBLE;for(const{material:e}of t)if(f(e)){if(e.color[3]*e.opacity<1)return n.TRANSPARENT;r=n.OPAQUE}return r}function c(t){let r=n.INVISIBLE;for(const{material:e}of t)if(f(e)){switch(e.objectTransparency){case n.TRANSPARENT:case n.INVISIBLE:return n.TRANSPARENT;case n.OPAQUE:if(e.opacity<1)return n.TRANSPARENT}r=n.OPAQUE}return r}function f(t){return t.size*t.color[3]*t.opacity>0}function u(t){return t.size*t.color[3]>0}function s(t,r,e,n){return e*(n/t)*2*Math.tan(.5*r)}function l(r,e){const n=t(r,e,!0);return-1===n?e<r[0]?0:r.length:n}function a(t,r,e){return t.length-l(t,r*e.minimumEdgeLength)}function m(t,r,e,n){for(let o=0;o<t.length;o++){const i=t[o].index,c=r[o],f=r[o+1];if(n)for(let t=c;t<f;t++){const r=n[t];e.set(r,i)}else for(let t=c;t<f;t++)e.set(t,i)}}export{a as computeEdgeCount,i as determineEdgeTransparency,c as determineObjectTransparency,o as determineRendererType,s as estimateLengthAtDistance,m as fillComponenBufferIndices};
