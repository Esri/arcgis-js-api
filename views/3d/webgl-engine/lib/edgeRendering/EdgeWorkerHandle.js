/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/typedArrayUtil","../../../../../core/workers/WorkerHandle","../../../support/buffer/workerHelper","./EdgeProcessingWorker"],(function(e,r,t,n,i){"use strict";let a=function(t){function a(e){return t.call(this,"EdgeProcessingWorker","wrappedWork",e)||this}e._inheritsLoose(a,t);var s=a.prototype;return s.process=function(){var r=e._asyncToGenerator((function*(e,r,t){if(t)return i.work(e);const n=this._packInput(e),a=yield this.invoke(n,r);return this._unpackOutput(a)}));function t(e,t,n){return r.apply(this,arguments)}return t}(),s.getTransferList=function(e){return[e.dataBuffer]},s._packInput=function(e){return{dataBuffer:e.data.buffer,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate,indicesBuffer:e.indices.buffer,indicesType:r.isUint32Array(e.indices)?"Uint32Array":"Uint16Array",indicesLength:e.indicesLength}},s._unpackOutput=function(e){return{regular:{instancesData:n.unpackInterleavedBuffer(e.regular.instancesData),lodInfo:{lengths:new Float32Array(e.regular.lodInfo.lengths)}},silhouette:{instancesData:n.unpackInterleavedBuffer(e.silhouette.instancesData),lodInfo:{lengths:new Float32Array(e.silhouette.lodInfo.lengths)}},averageEdgeLength:e.averageEdgeLength}},a}(t.WorkerHandle);return a}));
