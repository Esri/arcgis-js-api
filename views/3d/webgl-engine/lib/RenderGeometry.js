/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/maybe","../../../../core/uid","../../../../chunks/mat4","../../../../chunks/mat4f64","../../../../chunks/vec3","../../../../chunks/vec4f64","../../support/mathUtils"],(function(t,e,r,n,i,s,o,a,h){"use strict";let u=function(){function t(t,e={}){this.geometry=t,this.boundingSphere=a.create(),this.screenToWorldRatio=1,this._transformation=s.create(),this._shaderTransformationDirty=!0,this.id=n.generateUID(),this.layerUid=e.layerUid,this.graphicUid=e.graphicUid,this.boundingInfo=e.boundingInfo,this.shaderTransformer=e.shaderTransformer,this.castShadow=!!e.castShadow&&e.castShadow}var u=t.prototype;return u.updateTransformation=function(t){t(this._transformation),this._shaderTransformationDirty=!0,this.computeBoundingSphere(this._transformation,this.boundingSphere)},u.shaderTransformationChanged=function(){this._shaderTransformationDirty=!0},u.computeBoundingSphere=function(t,e,n=h.maxScale(t)){r.isNone(this.boundingInfo)||(o.transformMat4(e,this.boundingInfo.center,t),e[3]=this.boundingInfo.radius*n)},e._createClass(t,[{key:"transformation",get:function(){return this._transformation}},{key:"hasShaderTransformation",get:function(){return r.isSome(this.shaderTransformer)}},{key:"material",get:function(){return this.geometry.material}},{key:"type",get:function(){return this.geometry.type}},{key:"shaderTransformation",get:function(){return r.isNone(this.shaderTransformer)?this.transformation:(this._shaderTransformationDirty&&(this._shaderTransformation||(this._shaderTransformation=s.create()),i.copy(this._shaderTransformation,this.shaderTransformer(this.transformation)),this._shaderTransformationDirty=!1),this._shaderTransformation)}},{key:"indices",get:function(){return this.geometry.indices}},{key:"vertexAttributes",get:function(){return this.geometry.vertexAttributes}},{key:"highlights",get:function(){return this.geometry.highlights}},{key:"occludees",get:function(){return this.geometry.occludees}},{key:"visible",get:function(){return this.geometry.visible},set:function(t){this.geometry.visible=t}}]),t}(),f=function(t){function r(){return t.apply(this,arguments)||this}return e._inheritsLoose(r,t),r}(u);t.RenderGeometry=u,t.ValidatedRenderGeometry=f,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
