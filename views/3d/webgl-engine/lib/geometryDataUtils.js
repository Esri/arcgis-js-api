/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/vec3","../../../../chunks/vec3f64","../../../../geometry/support/triangle"],(function(e,t,n,s){"use strict";function c(e,n,c){if(!e||!n)return!1;const{size:a,data:r}=e;t.set(c,0,0,0),t.set(l,0,0,0);let u=0,f=0;for(let g=0;g<n.length-2;g+=3){const e=n[g+0]*a,h=n[g+1]*a,m=n[g+2]*a;t.set(o,r[e+0],r[e+1],r[e+2]),t.set(d,r[h+0],r[h+1],r[h+2]),t.set(i,r[m+0],r[m+1],r[m+2]);const p=s.areaPoints3d(o,d,i);p?(t.add(o,o,d),t.add(o,o,i),t.scale(o,o,1/3*p),t.add(c,c,o),u+=p):(t.add(l,l,o),t.add(l,l,d),t.add(l,l,i),f+=3)}return(0!==f||0!==u)&&(0!==u?(t.scale(c,c,1/u),!0):0!==f&&(t.scale(c,l,1/f),!0))}function a(e,n,s){if(!e||!n)return!1;const{size:c,data:a}=e;t.set(s,0,0,0);let r=-1,o=0;for(let t=0;t<n.length;t++){const e=n[t]*c;r!==e&&(s[0]+=a[e+0],s[1]+=a[e+1],s[2]+=a[e+2],o++),r=e}return o>1&&t.scale(s,s,1/o),o>0}function r(e,n,s,c){if(!e)return!1;const{size:a,data:r}=e;t.set(c,0,0,0),t.set(l,0,0,0);let i=0,u=0;const f=n?n.length-1:r.length/a-1,g=f+(s?2:0);for(let h=0;h<g;h+=2){const e=h<f?h:f,s=h<f?h+1:0,g=(n?n[e]:e)*a,m=(n?n[s]:s)*a;o[0]=r[g+0],o[1]=r[g+1],o[2]=r[g+2],d[0]=r[m+0],d[1]=r[m+1],d[2]=r[m+2],t.scale(o,t.add(o,o,d),.5);const p=t.dist(o,d);p>0?(t.add(c,c,t.scale(o,o,p)),i+=p):(t.add(l,l,o),u++)}return 0!==i?(t.scale(c,c,1/i),!0):0!==u&&(t.scale(c,l,1/u),!0)}const o=n.create(),d=n.create(),i=n.create(),l=n.create();e.computeAttachmentOriginLines=r,e.computeAttachmentOriginPoints=a,e.computeAttachmentOriginTriangles=c,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
