/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../chunks/vec3f64","../../../../../chunks/vec3","../../../support/mathUtils","../../../../../chunks/mat4f64","../Octree"],(function(e,t,n,s,i,a,r){"use strict";let c=function(e){function r(t,s){var i;return(i=e.call(this,{getCenter:e=>{const t=i._instanceData.view.boundingSphere,n=i._tmpCenter;return n[0]=t.get(e,0),n[1]=t.get(e,1),n[2]=t.get(e,2),n},getRadius:e=>i._instanceData.view.boundingSphere.get(e,3)},{maximumDepth:25})||this)._tmpCenter=n.create(),i._tmpMat4=a.create(),i._instanceData=t,i._boundingSphere=s,i}t._inheritsLoose(r,e);var c=r.prototype;return c.addInstance=function(e){const t=this._instanceData.view.boundingSphere,n=this._instanceData.getCombinedModelTransform(e,this._tmpMat4),a=s.transformMat4(this._tmpCenter,this._boundingSphere.center,n),r=this._boundingSphere.radius*i.maxScale(n);t.set(e,0,a[0]),t.set(e,1,a[1]),t.set(e,2,a[2]),t.set(e,3,r),this.add(e)},c.removeInstance=function(e){this.remove(e)},r}(r);e.InstanceOctree=c,Object.defineProperty(e,"__esModule",{value:!0})}));
