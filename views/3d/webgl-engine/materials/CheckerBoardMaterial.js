/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{ShaderOutput as e}from"../core/shaderLibrary/ShaderOutputOptions.js";import{TransparencyPassType as t}from"../lib/basicInterfaces.js";import r from"../lib/GLMaterial.js";import{Material as i,MaterialParameters as s}from"../lib/Material.js";import{RenderSlot as n}from"../lib/RenderSlot.js";import{DefaultBufferWriter as o,PositionUVLayout as a}from"./internal/DefaultBufferWriter.js";import{intersectTriangleGeometry as h}from"./internal/MaterialUtil.js";import{CheckerBoardTechnique as u}from"../shaders/CheckerBoardTechnique.js";import{CheckerBoardTechniqueConfiguration as p}from"../shaders/CheckerBoardTechniqueConfiguration.js";class l extends i{constructor(e){super(e,new f),this.techniqueConfig=new p}dispose(){}getConfiguration(e,r){return this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.polygonOffset=this.parameters.polygonOffset,this.techniqueConfig.transparencyPassType=r?r.transparencyPassType:t.NONE,this.techniqueConfig.hasMultipassTerrain=!!r&&r.multipassTerrain.enabled,this.techniqueConfig.cullAboveGround=!!r&&r.multipassTerrain.cullAboveGround,this.techniqueConfig}intersect(e,t,r,i,s,n,o){return h(e,t,i,s,n,void 0,o)}requiresSlot(e){let t=n.OPAQUE_MATERIAL;return this.parameters.transparent&&(t=this.parameters.writeDepth?n.TRANSPARENT_MATERIAL:n.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),e===t||e===n.DRAPED_MATERIAL}createGLMaterial(t){return t.output===e.Color||t.output===e.Alpha?new c(t):null}createBufferWriter(){return new o(a)}}class c extends r{beginSlot(e){return this.ensureTechnique(u,e)}}class f extends s{constructor(){super(...arguments),this.size=[1,1],this.color1=[.75,.75,.75,1],this.color2=[.5,.5,.5,1],this.transparent=!1,this.writeDepth=!0,this.polygonOffset=!1}}export{l as CheckerBoardMaterial,f as Parameters};
