/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../lib/GLMaterial","./WaterTechnique"],(function(e,t,a,i){"use strict";let r=function(e){function a(){return e.apply(this,arguments)||this}t._inheritsLoose(a,e);var r=a.prototype;return r.updateParameters=function(e){return this.ensureTechnique(i.WaterTechnique,e)},r.setElapsedTimeUniform=function(e){const t=.001*this._material.animation.time;e.setUniform1f("timeElapsed",t*this._material.parameters.animationSpeed)},r._updateShadowState=function(e){e.shadowMappingEnabled!==this._material.parameters.receiveShadows&&this._material.setParameters({receiveShadows:e.shadowMappingEnabled})},r._updateSSRState=function(e){e.ssrEnabled!==this._material.parameters.ssrEnabled&&this._material.setParameters({ssrEnabled:e.ssrEnabled})},r.ensureResources=function(e){const t=this._techniqueRep.constructionContext.waterTextureRepository;return t.ready||t.updating||t.loadTextures(e),t.ready?2:1},r.beginSlot=function(e){return 0===this._output&&(this._updateShadowState(e),this._updateSSRState(e)),this.updateParameters(e)},r.bind=function(e,t){t.bindPass(this._material.parameters,e),2!==this._output&&0!==this._output||this.setElapsedTimeUniform(t.program)},a}(a);e.WaterGLMaterial=r,Object.defineProperty(e,"__esModule",{value:!0})}));
