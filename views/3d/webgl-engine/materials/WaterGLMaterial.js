/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/maybe","../core/shaderLibrary/ShaderOutput","../lib/GLMaterial","./WaterTechnique"],(function(e,t,a,r,s,i){"use strict";let o=function(e){function s(){return e.apply(this,arguments)||this}t._inheritsLoose(s,e);var o=s.prototype;return o._updateShadowState=function(e){e.shadowMap.enabled!==this._material.parameters.receiveShadows&&this._material.setParameters({receiveShadows:e.shadowMap.enabled})},o._updateSSRState=function(e){e.ssr.enabled!==this._material.parameters.hasScreenSpaceReflections&&this._material.setParameters({hasScreenSpaceReflections:e.ssr.enabled})},o._updateCloudsReflectionState=function(e){const t=a.isSome(e.cloudsFade.data);t!==this._material.parameters.hasCloudsReflections&&this._material.setParameters({hasCloudsReflections:t})},o.ensureResources=function(e){return this._techniqueRepository.constructionContext.waterTextureRepository.ensureResources(e)},o.beginSlot=function(e){return this._output===r.ShaderOutput.Color&&(this._updateShadowState(e),this._updateSSRState(e),this._updateCloudsReflectionState(e)),this._material.setParameters(this._techniqueRepository.constructionContext.waterTextureRepository.passParameters),this.ensureTechnique(i.WaterTechnique,e)},s}(s);e.WaterGLMaterial=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
