/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
define(["exports","../../../../../core/maybe","../../../../../chunks/mat4","../../../../../chunks/mat4f64","../../lib/doublePrecisionUtils","../../lib/Util"],(function(e,t,r,n,s,i){"use strict";function a(e,r){return t.isNone(e)&&(e=[]),e.push(r),e}function o(e,r){if(t.isNone(e))return e;const n=e.filter((e=>e!==r));return 0===n.length?null:n}function c(e){return!!t.isSome(e)&&!e.visible}function u(e,t){const r=new Map;return r.set(0,t.acquire(e,0)),r.set(1,t.acquire(e,7)),r.set(4,t.acquire(e,3)),r.set(3,t.acquire(e,2)),r.set(2,t.acquire(e,1)),r.set(5,t.acquire(e,4)),r.set(7,t.acquire(e,3)),r.set(6,t.acquire(e,3)),r}function l(e,t){t.release(e,0),t.release(e,7),t.release(e,3),t.release(e,2),t.release(e,1),t.release(e,4)}function f(e,n,s){const a=e.origin.vec3;i.setMatrixTranslation3(q,-a[0],-a[1],-a[2]),t.isSome(e.transformation)?r.multiply(n,q,e.transformation):r.copy(n,q),s&&(r.invert(s,n),r.transpose(s,s))}function b(e,t,r,n,i){d[0]=e.get(t,0),d[1]=e.get(t,1),d[2]=e.get(t,2),s.encodeDoubleArray(d,m,3),r.set(i,0,m[0]),n.set(i,0,m[1]),r.set(i,1,m[2]),n.set(i,1,m[3]),r.set(i,2,m[4]),n.set(i,2,m[5])}const d=new Float64Array(3),m=new Float32Array(6),q=n.create();e.acquireMaterials=u,e.addObject3DStateID=a,e.calculateTransformRelativeToOrigin=f,e.encodeDoubleVec3=b,e.isInstanceHidden=c,e.releaseMaterials=l,e.removeObject3DStateID=o,Object.defineProperty(e,"__esModule",{value:!0})}));
