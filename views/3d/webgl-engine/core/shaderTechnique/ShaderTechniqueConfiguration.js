/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/mathUtils"],(function(e,t,r){"use strict";let s=function(){function e(){this._key="",this._keyDirty=!1,this._parameterBits=this._parameterBits.map((()=>0))}return e.prototype.snapshot=function(){const e=this._parameterNames,t={key:this.key};for(const r of e)t[r]=this[r];return t},t._createClass(e,[{key:"key",get:function(){return this._keyDirty&&(this._keyDirty=!1,this._key=String.fromCharCode.apply(String,this._parameterBits)),this._key}}]),e}();e.ShaderTechniqueConfiguration=s,e.parameter=function(e={}){return(t,s)=>{var i,a;t._parameterNames=null!=(i=t._parameterNames)?i:[],t._parameterNames.push(s);const n=t._parameterNames.length-1,o=e.count||2,h=Math.ceil(r.log2(o)),u=null!=(a=t._parameterBits)?a:[0];let p=0;for(;u[p]+h>16;)p++,p>=u.length&&u.push(0);t._parameterBits=u;const m=u[p],l=(1<<h)-1<<m;u[p]+=h,Object.defineProperty(t,s,{get(){return this[n]},set(e){if(this[n]!==e&&(this[n]=e,this._keyDirty=!0,this._parameterBits[p]=this._parameterBits[p]&~l|+e<<m&l,"number"!=typeof e&&"boolean"!=typeof e))throw"Configuration values must be booleans or numbers!"}})}},Object.defineProperty(e,"__esModule",{value:!0})}));
