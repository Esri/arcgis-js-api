/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../shaderModules/interfaces"],(function(e,t,r){"use strict";let a=function(e){function r(){var t;return(t=e.call(this)||this)._key="",t._keyDirty=!1,t._parameterBits=t._parameterBits?t._parameterBits.map((()=>0)):[],t._parameterNames||(t._parameterNames=[]),t}return t._inheritsLoose(r,e),r.prototype.snapshot=function(){const e=this._parameterNames,t={key:this.key};for(const r of e)t[r]=this[r];return t},t._createClass(r,[{key:"key",get:function(){return this._keyDirty&&(this._keyDirty=!1,this._key=String.fromCharCode.apply(String,this._parameterBits)),this._key}}]),r}(r.NoParameters);function s(e={}){return(t,r)=>{if(t._parameterNames=t._parameterNames??[],t._parameterNames.push(r),null!=e.constValue)Object.defineProperty(t,r,{get:()=>e.constValue});else{const a=t._parameterNames.length-1,s=e.count||2,i=Math.ceil(Math.log2(s)),n=t._parameterBits??[0];let o=0;for(;n[o]+i>16;)o++,o>=n.length&&n.push(0);t._parameterBits=n;const p=n[o],u=(1<<i)-1<<p;n[o]+=i,Object.defineProperty(t,r,{get(){return this[a]},set(e){if(this[a]!==e&&(this[a]=e,this._keyDirty=!0,this._parameterBits[o]=this._parameterBits[o]&~u|+e<<p&u,"number"!=typeof e&&"boolean"!=typeof e))throw new Error("Configuration value for "+r+" must be boolean or number, got "+typeof e)}})}}}e.ShaderTechniqueConfiguration=a,e.parameter=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
