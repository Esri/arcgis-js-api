/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../request","../../../core/asyncUtils","../../../core/Error","../../../core/maybe","../../../core/promiseUtils","../../../core/urlUtils"],(function(r,e,t,n,o,a,i,u){"use strict";let s=function(){function r(r){this._streamDataRequester=r}var s=r.prototype;return s.loadJSON=function(){var r=e._asyncToGenerator((function*(r,e){return this._load("json",r,e)}));function t(e,t){return r.apply(this,arguments)}return t}(),s.loadBinary=function(){var r=e._asyncToGenerator((function*(r,e){return u.isDataProtocol(r)?(i.throwIfAborted(e),u.dataToArrayBuffer(r)):this._load("binary",r,e)}));function t(e,t){return r.apply(this,arguments)}return t}(),s.loadImage=function(){var r=e._asyncToGenerator((function*(r,e){return this._load("image",r,e)}));function t(e,t){return r.apply(this,arguments)}return t}(),s._load=function(){var r=e._asyncToGenerator((function*(r,e,u){if(a.isNone(this._streamDataRequester))return(yield t(e,{responseType:c[r]})).data;const s=yield n.result(this._streamDataRequester.request(e,r,u));if(!0===s.ok)return s.value;throw i.throwIfAbortError(s.error),new o("",`Request for resource failed: ${s.error}`)}));function u(e,t,n){return r.apply(this,arguments)}return u}(),r}();const c={image:"image",binary:"array-buffer",json:"json"};r.DefaultLoadingContext=s,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})}));
