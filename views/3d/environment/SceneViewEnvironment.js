/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{_ as t}from"../../../chunks/tslib.es6.js";import{clone as i}from"../../../core/lang.js";import{property as e}from"../../../core/accessorSupport/decorators/property.js";import{cast as n}from"../../../core/accessorSupport/decorators/cast.js";import{subclass as r}from"../../../core/accessorSupport/decorators/subclass.js";import{ensureOneOfType as s}from"../../../core/accessorSupport/ensureType.js";import{lightingTypes as o}from"./lightingUtils.js";import{SceneViewAtmosphere as g}from"./SceneViewAtmosphere.js";import h from"./SunLighting.js";import l from"./VirtualLighting.js";import c from"../../../webscene/Environment.js";import a from"../../../webscene/SunLighting.js";import p from"../../../webscene/VirtualLighting.js";var m;let u=m=class extends c{constructor(t){super(t),this.atmosphere=new g,this.lighting=new h}static fromWebsceneEnvironment(t){const i=t.cloneConstructProperties();return new m({...i,lighting:"virtual"===i.lighting.type?l.fromWebsceneLighting(i.lighting):h.fromWebsceneLighting(i.lighting)})}castLighting(t){return this._convertLighting(t)}applyLighting(t){this.lighting=this._convertLighting(t)}_convertLighting(t){return t?t instanceof h||t instanceof l?t:t instanceof a?this.lighting&&"sun"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t):new h(t.cloneConstructProperties()):t instanceof p?this.lighting&&"virtual"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t):new l(t.cloneConstructProperties()):s(o,t):new h}clone(){return new m({lighting:this.lighting.clone(),atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:i(this.background)})}cloneWithWebsceneEnvironment(t){return new m({atmosphere:this.atmosphere.clone(),weather:this.weather.clone(),atmosphereEnabled:this.atmosphereEnabled,starsEnabled:this.starsEnabled,background:i(this.background),...t.cloneConstructProperties(),lighting:this._getLighting(t)})}_getLighting(t){return"sun"===t.lighting.type?this.lighting&&"sun"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t.lighting):h.fromWebsceneLighting(t.lighting):"virtual"===t.lighting.type?this.lighting&&"virtual"===this.lighting.type?this.lighting.cloneWithWebsceneLighting(t.lighting):l.fromWebsceneLighting(t.lighting):h.fromWebsceneLighting(t.lighting)}};t([e({type:g,json:{read:!1},nonNullable:!0})],u.prototype,"atmosphere",void 0),t([e({nonNullable:!0})],u.prototype,"lighting",void 0),t([n("lighting")],u.prototype,"castLighting",null),u=m=t([r("esri.views.3d.environment.SceneViewEnvironment")],u);const b=u;export{b as default};
