/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../../../../geometry/projection","../../../../geometry/support/triangulationUtils","../../layers/graphics/elevationAlignmentUtils","../../terrain/OverlayRenderer"],(function(e,o,n,t,r){"use strict";function i(e,o,r,i){const s="polygon"===e.type?n.CounterClockwiseMode.CCW_IS_HOLE:n.CounterClockwiseMode.NONE,a="polygon"===e.type?e.rings:e.paths,{position:p,outlines:u}=n.pathsToTriangulationInfo(a,e.hasZ,s),c=new Float64Array(p.length),g=t.applyPerVertexElevationAlignment(p,e.spatialReference,0,c,0,p,0,p.length/3,o,r,i),y=null!=g;return{lines:y?l(u,p,c):[],projectionSuccess:y,sampledElevation:g}}function s(e,t){const i="polygon"===e.type?n.CounterClockwiseMode.CCW_IS_HOLE:n.CounterClockwiseMode.NONE,s="polygon"===e.type?e.rings:e.paths,{position:a,outlines:p}=n.pathsToTriangulationInfo(s,!1,i),u=o.projectBuffer(a,e.spatialReference,0,a,t,0,a.length/3);for(let o=2;o<a.length;o+=3)a[o]=r.DRAPED_Z;return{lines:u?l(p,a):[],projectionSuccess:u}}function l(e,o,n){const t=new Array;for(const{index:r,count:i}of e){if(i<=1)continue;const e=3*r,s=e+3*i;t.push({position:o.subarray(e,s),mapPosition:n?n.subarray(e,s):void 0})}return t}e.geometryToRenderInfo=i,e.geometryToRenderInfoDraped=s,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
