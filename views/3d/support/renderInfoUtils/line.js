/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../core/maybe","../../../../geometry/projection","../../../../geometry/support/triangulationUtils","../../layers/graphics/elevationAlignmentUtils","../../terrain/OverlayRenderer","../../webgl-engine/lib/DoubleArray"],(function(e,o,n,t,r,i,l){"use strict";function s(e,o,n,i){const s="polygon"===e.type?t.CounterClockwiseMode.CCW_IS_HOLE:t.CounterClockwiseMode.NONE,a="polygon"===e.type?e.rings:e.paths,{position:p,outlines:c}=t.pathsToTriangulationInfo(a,!!e.hasZ,s),g=l.newDoubleArray(p.length),y=r.applyPerVertexElevationAlignment(p,e.spatialReference,0,g,0,p,0,p.length/3,o,n,i),f=null!=y;return{lines:f?u(c,p,g):[],projectionSuccess:f,sampledElevation:y}}function a(e,o){const r="polygon"===e.type?t.CounterClockwiseMode.CCW_IS_HOLE:t.CounterClockwiseMode.NONE,l="polygon"===e.type?e.rings:e.paths,{position:s,outlines:a}=t.pathsToTriangulationInfo(l,!1,r),p=n.projectBuffer(s,e.spatialReference,0,s,o,0,s.length/3);for(let n=2;n<s.length;n+=3)s[n]=i.DRAPED_Z;return{lines:p?u(a,s):[],projectionSuccess:p}}function u(e,n,t=null){const r=new Array;for(const{index:i,count:s}of e){if(s<=1)continue;const e=3*i,a=3*s;r.push({position:l.doubleSubArray(n,3*i,3*s),mapPositions:o.isSome(t)?l.doubleSubArray(t,e,a):void 0})}return r}e.geometryToRenderInfo=s,e.geometryToRenderInfoDraped=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
