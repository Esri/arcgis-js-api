/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/Evented","../../../core/MapUtils"],(function(t,e,n,o){"use strict";let r=function(t){function n(){var e;return(e=t.apply(this,arguments)||this)._map=new Map,e}e._inheritsLoose(n,t);var r=n.prototype;return r.clear=function(){if(this._map.size>0){const t=this.toArray();this._map.clear(),this.emit("change",{added:[],removed:t})}},r.get=function(t){return this._map.get(t)},r.addMany=function(t){if(0===t.length)return;const e=new Set;for(let o=0;o<t.length;o++){const n=t[o],r=n.objectId,i=this._map.get(r);i?(e.add(r),n!==i&&(t[o]=i),i.refCount||(i.refCount=0),++i.refCount):(n.refCount=1,this._map.set(r,n))}const n=e.size>0?t.filter((t=>!e.has(t.objectId))):t;n.length>0&&this.emit("change",{added:n,removed:[]})},r.removeMany=function(t){const e=[];for(const n of t){const t=n.objectId,o=this._map.get(t);null!=o&&(!o.refCount||--o.refCount<=0)&&(this._map.delete(t),e.push(n))}e.length>0&&this.emit("change",{added:[],removed:e})},r.removeManyByObjectId=function(t){const e=[];for(const n of t){const t=this._map.get(n);null!=t&&(!t.refCount||--t.refCount<=0)&&(this._map.delete(n),e.push(t))}e.length>0&&this.emit("change",{added:[],removed:e})},r.toArray=function(){return[...this._map.values()]},r.find=function(t){let e;return o.someMap(this._map,(n=>!!t(n)&&(e=n,!0))),e},r.forEach=function(t){this._map.forEach((e=>t(e)))},e._createClass(n,[{key:"length",get:function(){return this._map.size}}]),n}(n);t.GraphicsMap=r,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
