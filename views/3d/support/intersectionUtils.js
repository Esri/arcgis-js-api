/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/vec2f64","../../../chunks/vec3","../../../chunks/vec3f64","../../../geometry/support/plane"],(function(n,e,t,r,c){"use strict";function i(n,e,t){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]<t}function u(n,e,t){const r=e[0],c=e[1],i=e[2];return!(n[0][0]*r+n[0][1]*c+n[0][2]*i+n[0][3]>t)&&(!(n[1][0]*r+n[1][1]*c+n[1][2]*i+n[1][3]>t)&&(!(n[2][0]*r+n[2][1]*c+n[2][2]*i+n[2][3]>t)&&(!(n[3][0]*r+n[3][1]*c+n[3][2]*i+n[3][3]>t)&&(!(n[4][0]*r+n[4][1]*c+n[4][2]*i+n[4][3]>t)&&!(n[5][0]*r+n[5][1]*c+n[5][2]*i+n[5][3]>t)))))}function o(n,e,t,r){return m(n,e,null,a(r,e,t,!1))}function s(n,e){for(let t=0;t<6;t++){if(c.signedDistance(n[t],e)>0)return!1}return!0}function l(n,e,t,r){return m(n,e,t,a(r,e,t,!0))}function f(n,e,r,c){const i=t.dot(r,t.subtract(n,c,e));return t.add(n,e,t.scale(n,r,i))}const d={dir:r.create(),len:0,clip:e.create()};function a(n,e,r,c){const i=d;return n?(r&&c&&(i.len=t.distance(e,r)),t.copy(i.dir,n)):c?(i.len=t.distance(e,r),t.subtract(i.dir,r,e),t.scale(i.dir,i.dir,1/i.len)):(t.subtract(i.dir,r,e),t.normalize(i.dir,i.dir)),i}function p(n,e,r){const i=t.dot(c.normal(n),r.dir),u=-c.signedDistance(n,e);if(u<0&&i>=0)return!1;if(i>-1e-6&&i<1e-6)return u>0;if((u<0||i<0)&&!(u<0&&i<0))return!0;const o=u/i;return i>0?o<r.clip[1]&&(r.clip[1]=o):o>r.clip[0]&&(r.clip[0]=o),r.clip[0]<=r.clip[1]}function m(n,e,t,r){r.clip[0]=0,r.clip[1]=t?r.len:Number.MAX_VALUE;for(let c=0;c<n.length;c++)if(!p(n[c],e,r))return!1;return!0}n.closestPointOnRay=f,n.frustumLineSegment=l,n.frustumPoint=s,n.frustumRay=o,n.frustumSphere=u,n.planeSphere=i,Object.defineProperty(n,"__esModule",{value:!0})}));
