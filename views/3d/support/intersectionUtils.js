/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/vec2f64","../../../chunks/vec3","../../../chunks/vec3f64","../../../geometry/support/plane"],(function(n,t,e,r,i){"use strict";function c(n,t,e){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]<e}function u(n,t,e){const r=t[0],i=t[1],c=t[2];return!(n[0][0]*r+n[0][1]*i+n[0][2]*c+n[0][3]>e)&&(!(n[1][0]*r+n[1][1]*i+n[1][2]*c+n[1][3]>e)&&(!(n[2][0]*r+n[2][1]*i+n[2][2]*c+n[2][3]>e)&&(!(n[3][0]*r+n[3][1]*i+n[3][2]*c+n[3][3]>e)&&(!(n[4][0]*r+n[4][1]*i+n[4][2]*c+n[4][3]>e)&&!(n[5][0]*r+n[5][1]*i+n[5][2]*c+n[5][3]>e)))))}function o(n,t,e,r){return m(n,t,null,d(r,t,e,!1))}function s(n,t){for(let e=0;e<6;e++){if(i.signedDistance(n[e],t)>0)return!1}return!0}function l(n,t,e,r){return m(n,t,e,d(r,t,e,!0))}function f(n,t,r,i){const c=e.dot(r,e.subtract(n,i,t));return e.add(n,t,e.scale(n,r,c))}const a={dir:r.create(),len:0,clip:t.create()};function d(n,t,r,i){const c=a;return n?(r&&i&&(c.len=e.distance(t,r)),e.copy(c.dir,n)):i?(c.len=e.distance(t,r),e.subtract(c.dir,r,t),e.scale(c.dir,c.dir,1/c.len)):(e.subtract(c.dir,r,t),e.normalize(c.dir,c.dir)),c}function p(n,t,r){const c=e.dot(i.normal(n),r.dir),u=-i.signedDistance(n,t);if(u<0&&c>=0)return!1;if(c>-1e-6&&c<1e-6)return u>0;if((u<0||c<0)&&!(u<0&&c<0))return!0;const o=u/c;return c>0?o<r.clip[1]&&(r.clip[1]=o):o>r.clip[0]&&(r.clip[0]=o),r.clip[0]<=r.clip[1]}function m(n,t,e,r){r.clip[0]=0,r.clip[1]=e?r.len:Number.MAX_VALUE;for(let i=0;i<n.length;i++)if(!p(n[i],t,r))return!1;return!0}n.closestPointOnRay=f,n.frustumLineSegment=l,n.frustumPoint=s,n.frustumRay=o,n.frustumSphere=u,n.planeSphere=c,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}));
