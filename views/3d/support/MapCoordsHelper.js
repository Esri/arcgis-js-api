/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../geometry","../../../core/Error","../../../core/unitUtils","../../../geometry/ellipsoidUtils","../../../portal/support/geometryServiceUtils","../../../rest/geometryService/project","../../../rest/support/ProjectParameters","../../../geometry/Point","../../../geometry/SpatialReference"],(function(e,t,r,i,o,n,s,c,p,a,l){"use strict";let y=function(){function e(e,t){this.spatialReference=t,this.unitInMeters=o.getMetersPerUnitForSR(this.spatialReference,n.getReferenceEllipsoid(this.spatialReference).metersPerDegree),this._geometryServiceURLPromise=s.getGeometryServiceURL(e&&e.get("portalItem")).catch((()=>{throw new i("mapcoordshelper:missing-geometry-service","Must specify geometryService in esri/config")}))}return e.prototype.toGeographic=function(){var e=t._asyncToGenerator((function*(e){const t=yield this._geometryServiceURLPromise;let r,i=!0;Array.isArray(e[0])&&"number"!=typeof e[0]?r=e:(r=[e],i=!1);const o=r.map((e=>e instanceof a?e:new a(e,this.spatialReference))),n=new p({geometries:o,outSpatialReference:l.WGS84}),s=(yield c.project(t,n)).map((e=>"point"===e.type?[e.x,e.y]:void 0)).filter((e=>!!e));return i?s:s[0]}));function r(t){return e.apply(this,arguments)}return r}(),e}();e.MapCoordsHelper=y,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
