/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../chunks/vec3f64","../../../chunks/vec3","../support/mathUtils","../../../chunks/frustum"],(function(t,e,i,n,s,r){"use strict";let o=function(){function t(t){this.renderCoordsHelper=t,this.frustum=r.create(),this._points=r.createPoints(),this.lines=new Array(12),this.origin=i.create(),this.direction=i.create(),this._altitude=null;for(let e=0;e<12;e++)this.lines[e]={origin:null,direction:i.create(),endpoint:null}}var s=t.prototype;return s.update=function(t){r.fromMatrix(t.viewMatrix,t.projectionMatrix,this.frustum,this._points),n.copy(this.origin,t.eye),n.copy(this.direction,t.viewForward),this._altitude=this.renderCoordsHelper.getAltitude(this.origin),this.updateLines()},s.updatePoints=function(t){for(let e=0;e<this._points.length;e++)n.copy(this._points[e],t[e]);r.computePlanes(this.frustum,this._points),this.updateLines()},s.intersectsSphere=function(t){return r.intersectsSphere(this.frustum,t)},s.intersectsRay=function(t){return r.intersectsRay(this.frustum,t)},s.intersectsLineSegment=function(t,e){return r.intersectsLineSegment(this.frustum,t,e)},s.intersectsPoint=function(t){return r.intersectsPoint(this.frustum,t)},s.updateLines=function(){const t=this._points;for(let e=0;e<4;e++){const i=e,n=e+4;u(this.lines[e],t[i],t[n]),u(this.lines[e+4],t[i],3===e?t[0]:t[i+1]),u(this.lines[e+8],t[n],3===e?t[4]:t[n+1])}},e._createClass(t,[{key:"planes",get:function(){return this.frustum}},{key:"points",get:function(){return this._points}},{key:"mutablePoints",get:function(){return this._points}},{key:"altitude",get:function(){return this._altitude}}]),t}();function u(t,e,i){t.origin=e,t.endpoint=i,s.directionFromTo(t.direction,e,i)}o.planePointIndices=r.planePointIndices,o.nearFarLineIndices=[[0,4],[1,5],[2,6],[3,7]],t.Frustum=o,Object.defineProperty(t,"__esModule",{value:!0})}));
