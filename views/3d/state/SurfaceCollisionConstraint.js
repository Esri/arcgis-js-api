/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/Accessor","../../../core/maybe","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/ensureType","../../../core/arrayUtils","../../../core/accessorSupport/decorators/subclass","../camera/intersectionUtils","../camera/constraintUtils/surfaceCollision"],(function(e,t,i,r,o,n,a,s,c,l,u){"use strict";e.SurfaceCollisionConstraint=function(e){function i(t){return e.call(this,t)||this}t._inheritsLoose(i,e);var r=i.prototype;return r.initialize=function(){this.addHandles(this.view.basemapTerrain.on("elevation-change",(e=>this._handleElevationChangeEvent(e))))},r._handleElevationChangeEvent=function(e){if(this.view.state.cameraController)return;const t=this.view.state.camera;o.isSome(e.spatialReference)&&l.eyeWithinExtent(this.view,t,e.extent,e.spatialReference)&&this._applyToCurrentCamera()},r._applyToCurrentCamera=function(){this.view.state.updateCamera((e=>u.applySurfaceCollisionConstraint(this.view,e,u.Mode.EYE_AND_CENTER)))},i}(r),i.__decorate([n.property({constructOnly:!0})],e.SurfaceCollisionConstraint.prototype,"view",void 0),e.SurfaceCollisionConstraint=i.__decorate([c.subclass("esri.views.3d.state.ElevationCollisionConstraint")],e.SurfaceCollisionConstraint),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
