/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../../../../chunks/_rollupPluginBabelHelpers","../../../../../chunks/tslib.es6","../../../../../core/has","../../../../../core/Logger","../../../../../core/accessorSupport/ensureType","../../../../../core/accessorSupport/decorators/property","../../../../../core/accessorSupport/decorators/aliasOf","../../../../../core/accessorSupport/decorators/subclass","../../../../../core/urlUtils","../../../../../core/uuid","../../../../../portal/support/resourceExtension","../../../../../core/Handles","../../../../../core/watchUtils","../../../../interactive/InteractiveToolBase","./AreaMeasurement3DView","./AreaMeasurement3DController","./AreaMeasurement3DModel"],(function(e,t,o,r,a,i,s,n,d,l,c,p,u,h,_,m,v){"use strict";let y=function(t){function o(e){var o;return(o=t.call(this,e)||this)._handles=new p,o.deferCreation=!0,o.model=new v({sceneView:e.view}),o}e._inheritsLoose(o,t);var r=o.prototype;return r.initialize=function(){this._view=new _(this.model,this.manipulators),this._controller=new m(this.model,this._view,this.manipulators),this._handles.add(u.init(this,"state",(e=>{switch(e){case"measured":return this.complete();case"ready":return;default:return this.create()}}),!0))},r.destroy=function(){this.detach(),this._view.destroy(),this._view=null,this._controller.destroy(),this._controller=null,this._handles.destroy(),this._handles=null},r.activate=function(){this.model.active=!0},r.deactivate=function(){this.model.active=!1},r.onShow=function(){this._view.show()},r.onHide=function(){this._view.hide()},r.onDetach=function(){this.model.reset()},r.onInputEvent=function(e){this._controller.handleInputEvent(e)},e._createClass(o,[{key:"state",get:function(){return this.model.isMeasuring?"measured"===this.model.state?"measured":"measuring":"ready"}},{key:"isSupported",get:function(){return"3d"===this.get("view.type")}},{key:"cursor",get:function(){return!this.model.active||"initial"!==this.model.state&&"drawing"!==this.model.state?null:"crosshair"}}]),o}(h.InteractiveToolBase);return t.__decorate([i.property({dependsOn:["model.isMeasuring","model.state"],readOnly:!0})],y.prototype,"state",null),t.__decorate([i.property({dependsOn:["view.type"],readOnly:!0})],y.prototype,"isSupported",null),t.__decorate([i.property({dependsOn:["model.active","state"],readOnly:!0})],y.prototype,"cursor",null),t.__decorate([i.property({constructOnly:!0})],y.prototype,"model",void 0),t.__decorate([s.aliasOf("model.mode")],y.prototype,"mode",void 0),t.__decorate([s.aliasOf("model.unit")],y.prototype,"unit",void 0),t.__decorate([s.aliasOf("model.areaLabel")],y.prototype,"areaLabel",void 0),t.__decorate([s.aliasOf("model.area")],y.prototype,"area",void 0),t.__decorate([s.aliasOf("model.geodesicArea")],y.prototype,"geodesicArea",void 0),t.__decorate([s.aliasOf("model.pathLengthLabel")],y.prototype,"pathLengthLabel",void 0),t.__decorate([s.aliasOf("model.pathLength")],y.prototype,"pathLength",void 0),t.__decorate([s.aliasOf("model.geodesicPathLength")],y.prototype,"geodesicPathLength",void 0),t.__decorate([s.aliasOf("model.perimeterLengthLabel")],y.prototype,"perimeterLengthLabel",void 0),t.__decorate([s.aliasOf("model.perimeterLength")],y.prototype,"perimeterLength",void 0),t.__decorate([s.aliasOf("model.geodesicPerimeterLength")],y.prototype,"geodesicPerimeterLength",void 0),t.__decorate([s.aliasOf("model.validMeasurement")],y.prototype,"validMeasurement",void 0),t.__decorate([s.aliasOf("model.viewData")],y.prototype,"viewData",void 0),y=t.__decorate([n.subclass("esri.views.3d.interactive.measurementTools.areaMeasurement3D.AreaMeasurement3DTool")],y),y}));
