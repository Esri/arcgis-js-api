/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../../../../chunks/_rollupPluginBabelHelpers","../../../../overlay/LineOverlayItem","../../../../overlay/TextOverlayItem"],(function(t,e,i){"use strict";return function(){function s(t){this._textItem=new i({visible:!1}),this._calloutItem=new e({visible:!1,width:2}),this._visible=!1,this._calloutVisible=!0,t&&(this.fontSize=t)}var o=s.prototype;return o.addToView=function(t){t.overlay.items.addMany([this._textItem,this._calloutItem])},o.removeFromView=function(t){t.overlay&&!t.overlay.destroyed&&t.overlay.items.removeMany([this._textItem,this._calloutItem])},o.updatePosition=function(t,e){if(e){const i=e[0]-t[0],s=e[1]-t[1];this._textItem.position=[e[0],e[1]],this._textItem.anchor=Math.abs(i)>Math.abs(s)?i>0?"left":"right":s>0?"top":"bottom",this._calloutItem.startPosition=[t[0],t[1]],this._calloutItem.endPosition=[e[0],e[1]],this._calloutVisible=!0}else this._textItem.position=[t[0],t[1]],this._textItem.anchor="center",this._calloutVisible=!1},o._updateVisibility=function(){this._textItem.visible=this._visible,this._calloutItem.visible=this._visible&&this._calloutVisible},t._createClass(s,[{key:"textItem",get:function(){return this._textItem}},{key:"calloutItem",get:function(){return this._calloutItem}},{key:"text",set:function(t){this._textItem.text=t},get:function(){return this._textItem.text}},{key:"fontSize",set:function(t){this._textItem.fontSize=t},get:function(){return this._textItem.fontSize}},{key:"visible",set:function(t){this._visible=t,this._updateVisibility()},get:function(){return this._visible}}]),s}()}));
