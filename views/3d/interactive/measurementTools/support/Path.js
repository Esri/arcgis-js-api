/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../../../../chunks/_rollupPluginBabelHelpers","../../../../../chunks/tslib.es6","../../../../../core/has","../../../../../core/Logger","../../../../../core/accessorSupport/ensureType","../../../../../core/accessorSupport/decorators/property","../../../../../core/accessorSupport/decorators/subclass","../../../../../core/urlUtils","../../../../../core/uuid","../../../../../portal/support/resourceExtension","../../../../../core/Accessor","../../../../../geometry/Polygon","../../../../../core/Evented","../../../../../core/Collection"],(function(e,t,r,o,i,s,n,c,a,u,l,p,h,d){"use strict";let v=function(t){function r(){var e;return(e=t.apply(this,arguments)||this).vertices=new d,e}e._inheritsLoose(r,t);var o=r.prototype;return o.clear=function(){this.vertices.removeAll(),this.emit("cleared",{}),this._notifyFrontBack()},o.vertex=function(e){return this.vertices.items[e]},o.add=function(e){this.vertices.add(e);const t=this.vertices.length-1;return this._notifyFrontBack(),this.emit("vertex-added",{index:t}),t},o.remove=function(e){this.vertices.removeAt(e),this._notifyFrontBack(),this.emit("vertex-removed",{index:e})},o.update=function(e,t){null!=t&&(this.vertices.splice(e,1,t),this._notifyFrontBack()),this.emit("vertex-updated",{index:e})},o._notifyFrontBack=function(){this.notifyChange("front"),this.notifyChange("back")},o.toPolygon=function(){const e=[];if(0===this.vertices.length)return null;this.vertices.forEach((t=>{e.push(t.hasZ?[t.x,t.y,t.z]:[t.x,t.y])}));const t=this.vertices.getItemAt(0);return e.push(t.hasZ?[t.x,t.y,t.z]:[t.x,t.y]),new p({rings:[e],spatialReference:t.spatialReference})},e._createClass(r,[{key:"front",get:function(){return this.vertices.items[0]||null}},{key:"back",get:function(){return this.vertices.items[this.vertices.length-1]||null}}]),r}(h.EventedMixin(l));return t.__decorate([s.property({readOnly:!0})],v.prototype,"vertices",void 0),t.__decorate([s.property({aliasOf:"vertices.length"})],v.prototype,"length",void 0),t.__decorate([s.property({readOnly:!0})],v.prototype,"front",null),t.__decorate([s.property({readOnly:!0})],v.prototype,"back",null),v=t.__decorate([n.subclass("esri.views.3d.interactive.measurementTools.support.Path")],v),v}));
