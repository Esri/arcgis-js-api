/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../../../core/screenUtils","../../../../../chunks/vec3f64","../../../../../chunks/vec3","../../../../../chunks/vec2","./viewUtils"],(function(e,r,n,t,o,c){"use strict";function a(e){switch(e){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right"}}function i(e,r,n){return e.projectToRenderScreen(r,m),!(m[2]<0||m[2]>1)&&(e.renderToScreen(m,n),!0)}function s(e,r,n){const t=i(n,r,R);return t&&e.updatePosition(R,null),t}function d(e,r,n,t,a,i){if(!r)return!1;c.screenSpaceTangent(r.start,r.end,b,e),o.set(f,-b[1],b[0]);let s=!1;switch(t){case"top":s=f[1]<0;break;case"bottom":s=f[1]>0;break;case"left":s=f[0]>0;break;case"right":s=f[0]<0}if(s&&o.negate(f,f),0===o.length(f))switch(t){case"top":f[1]=1;break;case"bottom":f[1]=-1;break;case"left":f[0]=-1;break;case"right":f[0]=1}return e.projectToRenderScreen(r.origin,m),!(m[2]<0||m[2]>1)&&(e.renderToScreen(m,a),o.scale(f,f,n*e.pixelRatio),o.add(f,f,m),e.renderToScreen(f,i),!0)}function u(e,r,n,t,o){const c=d(o,r,n,t,R,h);return c&&e.updatePosition(R,h),c}function l(e,r,n,t,a,i){return!(!r||!n)&&(c.screenSpaceTangent(r.end,r.start,b,e),c.screenSpaceTangent(n.start,n.end,P,e),o.add(f,b,P),o.negate(f,f),o.normalize(f,f),e.projectToRenderScreen(r.end,m),!(m[2]<0||m[2]>1)&&(e.renderToScreen(m,a),o.scale(f,f,t*e.pixelRatio),o.add(f,f,m),e.renderToScreen(f,i),!0))}function p(e,r,n,c,a,i){return e.projectToRenderScreen(r,m),t.add(g,r,n),e.projectToRenderScreen(g,T),!(m[2]<0||m[2]>1||T[2]<0||T[2]>1)&&(o.subtract(f,T,m),o.normalize(f,f),e.renderToScreen(m,a),o.scale(f,f,c*e.pixelRatio),o.add(f,f,m),e.renderToScreen(f,i),!0)}function S(e,r,n,t,o){const c=l(o,r,n,t,R,h);return c&&e.updatePosition(R,h),c}const b=r.createRenderScreenPointArray(),P=r.createRenderScreenPointArray(),f=r.createRenderScreenPointArray(),m=r.createRenderScreenPointArray3(),T=r.createRenderScreenPointArray3(),g=n.create(),R=r.createScreenPointArray(),h=r.createScreenPointArray();e.computeLabelPositionFromCorner=l,e.computeLabelPositionFromPlane=p,e.computeLabelPositionFromPoint=i,e.computeLabelPositionFromSegment=d,e.mirrorPosition=a,e.positionLabelOnCorner=S,e.positionLabelOnPoint=s,e.positionLabelOnSegment=u,Object.defineProperty(e,"__esModule",{value:!0})}));
