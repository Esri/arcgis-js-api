/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../../geometry/support/spatialReferenceUtils","../../../../geometry/Point","../../../../geometry","../../../../chunks/vec3f64","../../../../chunks/vec3","../../../../chunks/vec2f64","../../../../chunks/vec4f64","../../../../chunks/vec2","../../../../chunks/vec4"],(function(e,t,n,r,o,i,a,u,f,s){"use strict";let c=function(){function e(e,t){this.spatialReference=e,this.viewingMode=t,this._unnormalizationInfo=y(e,t)}var t=e.prototype;return t.tag=function(e){return e},t.createNew=function(){return this.tag(a.create())},t.fromPoint=function(e){return this.tag(a.fromValues(e.x,e.y))},t.fromArray=function(e){return this.tag(a.fromValues(e[0],e[1]))},t.toArray=function(e){return[e[0],e[1]]},t.clone=function(e){return this.tag(a.fromArray(e))},t.toPoint=function(e,t){return t.x=e[0],t.y=e[1],t.hasZ=!1,t.hasM=!1,t.spatialReference=this.spatialReference,t},t.createPoint=function(e){return new n({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})},t.createPointFromArray=function(e){return new n({x:e[0],y:e[1],z:void 0,m:void 0,spatialReference:this.spatialReference})},t.createDehydratedPoint=function(e){return{x:e[0],y:e[1],z:void 0,m:void 0,hasZ:!1,hasM:!1,spatialReference:this.spatialReference,type:"point"}},t.lerp=function(e,t,n,r){return f.lerp(r,e,t,n)},t.addDelta=function(e,t,n){e[0]+=t,e[1]+=n},t.pointToArray=function(e){return[e.x,e.y]},t.zFromArray=function(e){},t.hasZ=function(){return!1},t.unnormalize=function(e){h(e,this._unnormalizationInfo)},t.fromXYZ=function(e){return this.tag(a.fromValues(e[0],e[1]))},t.toXYZ=function(e,t=0){return o.fromValues(e[0],e[1],t)},e}(),l=function(){function e(e,t,n){this.valueType=e,this.spatialReference=t,this._unnormalizationInfo=y(t,n)}var t=e.prototype;return t.tag=function(e){return e},t.createNew=function(){return this.tag(o.create())},t.fromPoint=function(e){return this.tag(o.fromValues(e.x,e.y,0===this.valueType?e.z:e.m))},t.fromArray=function(e){return this.tag(o.fromValues(e[0],e[1],e[2]||0))},t.toArray=function(e){return[e[0],e[1],e[2]]},t.clone=function(e){return this.tag(o.fromArray(e))},t.toPoint=function(e,t){return t.x=e[0],t.y=e[1],0===this.valueType?(t.z=e[2],t.hasZ=!0,t.hasM=!1):(t.m=e[2],t.hasZ=!1,t.hasM=!0),t.spatialReference=this.spatialReference,t},t.createPoint=function(e){return new n({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})},t.createPointFromArray=function(e){return new n({x:e[0],y:e[1],z:0===this.valueType?e[2]:void 0,m:1===this.valueType?e[2]:void 0,spatialReference:this.spatialReference})},t.createDehydratedPoint=function(e){const t=0===this.valueType,n=1===this.valueType;return{x:e[0],y:e[1],z:t?e[2]:void 0,m:n?e[2]:void 0,hasZ:t,hasM:n,spatialReference:this.spatialReference,type:"point"}},t.lerp=function(e,t,n,r){return i.lerp(r,e,t,n)},t.addDelta=function(e,t,n,r){e[0]+=t,e[1]+=n,0===this.valueType&&(e[2]+=r)},t.pointToArray=function(e){return 0===this.valueType?[e.x,e.y,e.z]:[e.x,e.y,e.m]},t.zFromArray=function(e){return 0===this.valueType?e[2]:void 0},t.hasZ=function(){return 0===this.valueType},t.unnormalize=function(e){h(e,this._unnormalizationInfo)},t.fromXYZ=function(e,t=0,n=0){return this.tag(o.fromValues(e[0],e[1],0===this.valueType?e.length>2?e[2]:t:n))},t.toXYZ=function(e,t=0){return this.tag(o.fromValues(e[0],e[1],0===this.valueType?e[2]:t))},e}(),p=function(){function e(e,t){this.spatialReference=e,this._unnormalizationInfo=y(e,t)}var t=e.prototype;return t.tag=function(e){return e},t.createNew=function(){return this.tag(u.create())},t.fromPoint=function(e){return this.tag(u.fromValues(e.x,e.y,e.z,e.m))},t.fromArray=function(e){return this.tag(u.fromValues(e[0],e[1],e[2]||0,e[3]||0))},t.toArray=function(e){return[e[0],e[1],e[2],e[3]]},t.clone=function(e){return this.tag(u.fromArray(e))},t.toPoint=function(e,t){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.hasZ=!0,t.hasM=!0,t.spatialReference=this.spatialReference,t},t.createPoint=function(e){return new n({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})},t.createPointFromArray=function(e){return new n({x:e[0],y:e[1],z:e[2],m:e[3],spatialReference:this.spatialReference})},t.createDehydratedPoint=function(e){return{x:e[0],y:e[1],z:e[2],m:e[3],hasZ:!0,hasM:!0,spatialReference:this.spatialReference,type:"point"}},t.lerp=function(e,t,n,r){return s.lerp(r,e,t,n)},t.addDelta=function(e,t,n,r){e[0]+=t,e[1]+=n,e[2]+=r},t.pointToArray=function(e){return[e.x,e.y,e.z,e.m]},t.zFromArray=function(e){return e[2]},t.hasZ=function(){return!0},t.unnormalize=function(e){h(e,this._unnormalizationInfo)},t.fromXYZ=function(e,t=0,n=0){return this.tag(u.fromValues(e[0],e[1],e.length>2?e[2]:t,n))},t.toXYZ=function(e){return o.fromValues(e[0],e[1],e[2])},e}();function h(e,t){if(!t.supported)return;let n=1/0,r=-1/0;const o=t.upperBoundX-t.lowerBoundX;e.forEach((e=>{let i=e.pos[0];for(;i<t.lowerBoundX;)i+=o;for(;i>t.upperBoundX;)i-=o;n=Math.min(n,i),r=Math.max(r,i),e.pos[0]=i}));const i=r-n;o-i<i&&e.forEach((e=>{e.pos[0]<0&&(e.pos[0]+=o)}))}function y(e,n){const r=t.getInfo(e);return"global"===n&&r?{supported:!0,lowerBoundX:r.valid[0],upperBoundX:r.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}e.CoordinateHelper2D=c,e.CoordinateHelper3D=l,e.CoordinateHelper4D=p,e.createCoordinateHelper=function(e,t,n,r){return e&&t?new p(n,r):t?new l(1,n,r):e?new l(0,n,r):new c(n,r)},Object.defineProperty(e,"__esModule",{value:!0})}));
