/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","../../../../../core/maybe","../dragEventPipeline3D","../ManipulatorType","./Manipulation","./moveUtils","../../../../interactive/dragEventPipeline","../../../../interactive/GraphicManipulator"],(function(t,e,i,a,r,n,o,l,p){"use strict";let c=function(t){function n(e){var i;return(i=t.call(this)||this)._view=e.view,i._tool=e.tool,i._graphicState=e.graphicState,i._createManipulator(),i.forEachManipulator((t=>i._tool.manipulators.add(t))),i}e._inheritsLoose(n,t);var c=n.prototype;return c.destroy=function(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null},c.forEachManipulator=function(t){t(this._manipulator,r.ManipulatorType.TRANSLATE_XY)},c.createGraphicDragPipeline=function(t){return o.createGraphicMoveDragPipeline(this._graphicState,t,(t=>this.createDragPipeline(t)),this._view.state.viewingMode)},c.createDragPipeline=function(t){const e=this._view,r=this._graphicState.graphic,n=i.isSome(r.geometry)?r.geometry.spatialReference:null;return l.createManipulatorDragEventPipeline(this._manipulator,((i,o,p,c,u)=>{const s=o.next(a.screenToMapXYForGraphic(u,e,r,n)).next(l.addMapDelta()).next(l.addScreenDelta());t(i,s,p,c,u)}))},c._createManipulator=function(){const t=this._view,e=this._graphicState.graphic;this._manipulator=new p.GraphicManipulator({graphic:e,view:t,selectable:!0,cursor:"move"})},n}(n.Manipulation);t.MoveXYGraphicManipulation=c,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
