/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{isNone as t}from"../../../../../core/maybe.js";import{dragGraphic as e,resetGraphic as n}from"../../../../interactive/dragEventPipeline.js";function r(t,r,a,c){const i=t.graphic,o=(t,e)=>r({action:t,graphic:i,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return a(((t,r,a)=>{const s=r.next((t=>("start"===t.action&&o("start",t),t))).next(e(i,c)).next((t=>{switch(t.action){case"start":case"update":(t.translationX||t.translationY||t.translationZ)&&o("update",t);break;case"end":o("end",t)}return t}));return a.next(n(i)).next((()=>{o("end",{screenDeltaX:0,screenDeltaY:0})})),s}))}function a(e){if(t(e)||"polyline"!==e.type&&"polygon"!==e.type)return 0;const n=("polyline"===e.type?e.paths:e.rings)[0];if(!n||n.length<2)return 0;const r=n[0],a=n[1];return Math.atan2(a[1]-r[1],a[0]-r[0])}export{r as createGraphicMoveDragPipeline,a as shapeOrientation};
