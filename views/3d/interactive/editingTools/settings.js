/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../Color","../../../../core/colorUtils","../../../../chunks/vec4f64","../visualElements/ExtendedLineVisualElement","../../webgl-engine/lib/Material","../../webgl-engine/materials/lineStippleUtils"],(function(e,t,i,n,l,o,r,s){"use strict";const h={main:new i([255,127,0]),selected:new i([255,255,255]),staged:new i([12,207,255]),outline:new i([0,0,0,.5]),selectedOutline:new i([255,255,255])},c=.3;function a(e,t){const i=e.clone();return i.a*=t,i}function d(e,t){const i=e.clone(),l=n.toHSV(i);l.s*=t;const o=n.toRGB(l);return i.r=o.r,i.g=o.g,i.b=o.b,i}function u(e,t){if(t)for(const i in t)e[i]=t[i]}let p=function(e){this.color=h.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=r.RenderOccludedFlag.Opaque,u(this,e)},f=function(){function e(e){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=h.main,this.outlineColor=h.outline,this.renderOccluded=r.RenderOccludedFlag.Opaque,this.hoverOutlineColor=h.selectedOutline,u(this,e)}return e.prototype.apply=function(e,t){const i=this[e];t.setParameters({color:b(i),transparent:"color"!==e||i.a<1,renderOccluded:this.renderOccluded})},e}(),g=function(){function e(e){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.color=a(h.main,.5),this.hoverColor=h.main,this.renderOccluded=r.RenderOccludedFlag.Transparent,this.minSquaredEdgeLength=900,u(this,e)}return e.prototype.apply=function(e,t){const i=this[e];t.setParameters({color:b(i),transparent:i.a<1,renderOccluded:this.renderOccluded})},e}(),w=function(e){this.vertex=new f({color:h.main,outlineColor:h.outline}),this.edge=new f({color:d(a(h.main,2/3),.5),outlineColor:a(h.outline,.5),size:8,collisionPadding:8}),this.selected=new f({color:h.selected,outlineColor:h.outline}),this.edgeOffset=new g,u(this,e)},C=function(){function e(e){this.color=h.selected,this.width=1.5,this.stipplePattern=s.createStipplePatternSimple(5),this.stippleOffColor=h.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=h.selected,this.renderOccluded=r.RenderOccludedFlag.OccludeAndTransparent,u(this,e)}return e.prototype.apply=function(e){e.color=b(this.color),e.width=this.width,e.stipplePattern=this.stipplePattern,e.stippleOffColor=b(this.stippleOffColor),e.falloff=this.falloff,e.innerWidth=this.innerWidth,e.innerColor=b(this.innerColor),e.renderOccluded=this.renderOccluded},e}(),O=function(){function e(e){this.color=h.selected,this.size=4,this.outlineSize=1,this.outlineColor=h.outline,this.shape="square",u(this,e)}return e.prototype.apply=function(e){e.color=b(this.color),e.size=this.size,e.outlineSize=this.outlineSize,e.outlineColor=b(this.outlineColor),e.primitive=this.shape},e}(),m=function(){function e(e){this.innerColor=h.selected,this.innerWidth=1,this.glowColor=h.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=c,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=h.main,u(this,e)}return e.prototype.apply=function(e,t=1){const n={glowColor:i.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:i.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*t,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in e?e.style=n:e.laserlineStyle=n},e}(),y=function(e){this.outline=new C({color:h.outline,renderOccluded:r.RenderOccludedFlag.OccludeAndTransparentStencil,stippleOffColor:h.selected,stipplePattern:s.createStipplePatternSimple(5),width:1.5,innerWidth:0}),this.staged=new C({color:h.selected,renderOccluded:r.RenderOccludedFlag.OccludeAndTransparentStencil,innerColor:h.staged,stippleOffColor:h.outline,stipplePattern:s.createStipplePatternSimple(5),width:1.5}),this.shadowStyle=new m({globalAlpha:c,glowColor:h.main,glowFalloff:8,glowWidth:8,innerColor:h.selected,innerWidth:1}),u(this,e)},S=function(e){this.outline=new O({color:h.selected,outlineColor:h.outline,outlineSize:1,shape:"circle",size:4}),this.shadowStyle=new m({globalAlpha:c,glowColor:h.main,glowFalloff:1.5,glowWidth:6,innerColor:h.selected,innerWidth:1,radius:2}),u(this,e)},A=function(e){function i(i){var n;return(n=e.call(this)||this).extensionType=o.ExtensionType.GROUND_RAY,u(t._assertThisInitialized(n),i),n}return t._inheritsLoose(i,e),i}(C),W=function(e){this.lineGraphics=new y,this.pointGraphics=new S,this.heightPlane=new m({globalAlpha:c,glowColor:h.main,glowFalloff:8,glowWidth:8,innerColor:h.selected,innerWidth:1}),this.heightBox=new m({globalAlpha:c,glowColor:h.main,glowFalloff:8,glowWidth:8,innerColor:h.selected,innerWidth:0,heightFillColor:h.main}),this.zVerticalLine=new A({color:a(h.main,5*c/3),falloff:2,innerColor:a(h.selected,0),renderOccluded:r.RenderOccludedFlag.OccludeAndTransparent,stipplePattern:null,width:5,extensionType:o.ExtensionType.GROUND_RAY}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,u(this,e)};function b(e){return l.fromArray(i.toUnitRGBA(e))}const P=new(function(){function e(e){this.visualElements=new W,this.reshapeManipulators=new w,this.zManipulator=new p,u(this,e)}return e.prototype.colorToVec4=function(e){return b(e)},e}());e.VertexManipulatorStyle=f,e.colors=h,e.settings=P,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
