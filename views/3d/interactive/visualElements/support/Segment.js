/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../../../../chunks/vec3","../../../../../chunks/vec3f64","../../../../../geometry/projection","../../../../../geometry/spatialReferenceEllipsoidUtils","../../../../../geometry/support/vectorStacks","../../../support/mathUtils"],(function(e,t,r,n,s,c,i){"use strict";let o=function(){function e(e=r.create(),t=r.create()){this.startRenderSpace=e,this.endRenderSpace=t,this.type="euclidean"}var n=e.prototype;return n.eval=function(e,r,n){return t.lerp(r,this.startRenderSpace,this.endRenderSpace,e),n&&(t.subtract(n,this.endRenderSpace,this.startRenderSpace),t.normalize(n,n)),r},n.createRenderGeometry=function(e,r){const n=[],s=[],i=(r,c)=>{const i=h;t.subtract(i,r,e),n.push([i[0],i[1],i[2]]),s.push([c[0],c[1],c[2]])},o=r.worldUpAtPosition(this.eval(.5,p),c.sv3d.get());return i(this.startRenderSpace,o),i(this.endRenderSpace,o),{points:n,normals:s}},e.fromPositionAndVector=function(n,s,c=1){return t.scale(p,s,c),t.add(p,n,p),new e(r.clone(n),r.clone(p))},e}(),a=function(){var e=c.prototype;function c(e,t,c){this.startRenderSpace=e,this.endRenderSpace=t,this.renderSpatialReference=c,this.type="geodesic",this._start=r.create(),this._end=r.create(),this._pcpf=s.getSphericalPCPF(c),this._project=n.canProjectWithoutEngine(c,this._pcpf),this._projectIn(e,this._start),this._projectIn(t,this._end)}return e._projectIn=function(e,r){this._project?n.projectVectorToVector(e,this.renderSpatialReference,r,this._pcpf):t.copy(r,e)},e.eval=function(e,r,s){if(this._project)if(s){const c=h;i.slerpTangent(this._start,this._end,e,r,c),t.add(d,r,c),n.projectVectorToVector(r,this._pcpf,r,this.renderSpatialReference),n.projectVectorToVector(d,this._pcpf,d,this.renderSpatialReference),t.subtract(s,d,r),t.normalize(s,s)}else i.slerp(this._start,this._end,e,r),n.projectVectorToVector(r,this._pcpf,r,this.renderSpatialReference);else t.lerp(r,this._start,this._end,e),s&&(t.subtract(s,this._end,this._start),t.normalize(s,s));return r},e.createRenderGeometry=function(e,r){const n=[],s=[],c=(r,c)=>{const i=d;t.subtract(i,r,e),n.push([i[0],i[1],i[2]]),s.push([c[0],c[1],c[2]])},i=128+1&-2;for(let t=0;t<i;++t){const e=t/(i-1),n=p,s=h;this.eval(e,n),r.worldUpAtPosition(n,s),c(n,s)}return{points:n,normals:s}},c}();const p=r.create(),h=r.create(),d=r.create();e.EuclideanSegment=o,e.GeodesicSegment=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
