/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../core/has","../../../core/handleUtils","../../../Color","../../../chunks/vec3f64","../../../chunks/vec3","../../interactive/snapping/Settings","../../interactive/snapping/snappingUtils","../../interactive/snapping/SnappingVisualizer","./visualElements/ExtendedLineVisualElement","./visualElements/ParallelLineVisualElement","./visualElements/PointVisualElement","./visualElements/RightAngleQuadVisualElement"],(function(e,n,t,i,a,l,o,r,s,d,u,c,p,f){"use strict";let g=function(e){function t(){return e.apply(this,arguments)||this}n._inheritsLoose(t,e);var d=t.prototype;return d.visualizeIntersectionPoint=function(e,n){const{coordinateHelper:t,elevationInfo:l,view:o}=n;return i.destroyHandle(new p.PointVisualElement({view:o,primitive:"circle",geometry:t.createPoint(e.intersectionPoint),elevationInfo:l,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:a.toUnitRGBA(r.defaults.orange),pixelSnappingEnabled:!1}))},d.visualizePoint=function(e,n){const{coordinateHelper:t,elevationInfo:l,view:o}=n;return i.destroyHandle(new p.PointVisualElement({view:o,primitive:"circle",geometry:t.createPoint(e.point),elevationInfo:l,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:a.toUnitRGBA(r.defaults.orange),pixelSnappingEnabled:!1}))},d.visualizeLine=function(e,n){const{coordinateHelper:t,elevationInfo:a,view:l}=n;return i.destroyHandle(this.createLineSegmentHintFromMap(e.type,e.lineStart,e.lineEnd,t,a,l,e.fadeLeft,e.fadeRight))},d.visualizeParallelSign=function(e,n){const{coordinateHelper:t,elevationInfo:l,view:d}=n,u=s.anyMapPointToRender(e.lineStart,t,l,n.view),p=s.anyMapPointToRender(e.lineEnd,t,l,n.view),f=o.lerp(p,u,p,.5),g=new c.ParallelLineVisualElement({view:d,attached:!1,offset:r.defaults.parallelLineHintOffset,length:r.defaults.parallelLineHintLength,width:r.defaults.parallelLineHintWidth,color:a.toUnitRGBA(r.defaults.orange),location:f,renderOccluded:16});return g.setDirectionFromPoints(u,f),g.attached=!0,i.destroyHandle(g)},d.visualizeRightAngleQuad=function(e,n){const{coordinateHelper:t,elevationInfo:l,view:o}=n;return i.destroyHandle(new f.RightAngleQuadVisualElement({view:o,attached:!0,color:a.toUnitRGBA(r.defaults.orange),renderOccluded:2,outlineRenderOccluded:16,outlineColor:a.toUnitRGBA(r.defaults.orange),outlineSize:r.defaults.rightAngleHintOutlineSize,size:r.defaults.rightAngleHintSize,geometry:{previous:s.anyMapPointToRender(e.previousVertex,t,l,o),center:s.anyMapPointToRender(e.centerVertex,t,l,o),next:s.anyMapPointToRender(e.nextVertex,t,l,o)}}))},d.createLineSegmentHintFromMap=function(e,n,t,i,a,o,r=!0,d=!0){const u=l.create(),c=l.create();return s.anyMapPointsToRenderWithEqualZ(n,t,i,a,o,u,c),this.createLineSegmentHint(e,o,u,c,r,d)},d.createLineSegmentHint=function(e,n,t,i,l=!0,o=!0){const s=new u.ExtendedLineVisualElement({view:n,extensionType:3,start:t,end:i,color:a.toUnitRGBA(r.defaults.orange),renderOccluded:16});switch(e){case 0:s.width=r.defaults.lineHintWidthTarget,s.fadedExtensions={start:0,end:r.defaults.lineHintFadedExtensions};break;case 2:s.width=r.defaults.lineHintWidthReference,s.fadedExtensions={start:0,end:0};break;case 1:s.width=r.defaults.lineHintWidthReference,s.fadedExtensions={start:l?r.defaults.lineHintFadedExtensions:0,end:o?r.defaults.lineHintFadedExtensions:0}}return s.attached=!0,s},t}(d.SnappingVisualizer);e.SnappingVisualizer3D=g,Object.defineProperty(e,"__esModule",{value:!0})}));
