/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../core/maybe","../../../../core/promiseUtils"],(function(s,i,e,t){"use strict";let o=function(){function s(s,i,e){this.analysis=s,this.viewFactory=i,this.controllerFactory=e,this._promise=t.createDeferred(),this.analysisView=null,this.analysisController=null,this._load()}var o=s.prototype;return o.destroy=function(){e.isSome(this.analysisView)&&this.analysisView.destroy(),e.isSome(this.analysisController)&&this.analysisController.destroy()},o._load=async function(){let s=!1;e.isSome(this.viewFactory)?this.analysisView=await this.viewFactory(this.analysis):s=!0,e.isSome(this.controllerFactory)?this.analysisController=await this.controllerFactory(this.analysis):s=!0,s?this._promise.reject("no view/controller factories available for analysis"):this._promise.resolve(e.unwrap(this.analysisView))},i._createClass(s,[{key:"promise",get:function(){return this._promise.promise}}]),s}();s.AnalysisManagerItem=o,Object.defineProperty(s,"__esModule",{value:!0})}));
