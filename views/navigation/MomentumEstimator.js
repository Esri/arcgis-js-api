/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../../core/mathUtils","./FilteredFiniteDifference","./Momentum"],(function(e,t,i,l){"use strict";let n=function(){function e(e=2.5,t=.01,l=.95,n=12){this._minimumInitialVelocity=e,this._stopVelocity=t,this._friction=l,this._maxVelocity=n,this.enabled=!0,this.value=new i.FilteredFiniteDifference(.8),this.time=new i.FilteredFiniteDifference(.3)}var n=e.prototype;return n.add=function(e,t){if(this.enabled&&null!=t){if(this.time.hasLastValue()){if(this.time.computeDelta(t)<.01)return;if(this.value.hasFilteredDelta()){const t=this.value.computeDelta(e);this.value.filteredDelta*t<0&&this.value.reset()}}this.time.update(t),this.value.update(e)}},n.reset=function(){this.value.reset(),this.time.reset()},n.evaluateMomentum=function(){if(!this.enabled||!this.value.hasFilteredDelta()||!this.time.hasFilteredDelta())return null;let e=this.value.filteredDelta/this.time.filteredDelta;return e=t.clamp(e,-this._maxVelocity,this._maxVelocity),Math.abs(e)<this._minimumInitialVelocity?null:this.createMomentum(e,this._stopVelocity,this._friction)},n.createMomentum=function(e,t,i){return new l.Momentum(e,t,i)},e}();e.MomentumEstimator=n,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
