/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../core/mathUtils","./FilteredFiniteDifference","./Momentum"],(function(t,e,i,l){"use strict";let n=function(){function t(t=2.5,e=.01,l=.95,n=12){this._minimumInitialVelocity=t,this._stopVelocity=e,this._friction=l,this._maxVelocity=n,this.enabled=!0,this.value=new i.FilteredFiniteDifference(.8),this.time=new i.FilteredFiniteDifference(.3)}var n=t.prototype;return n.add=function(t,e){if(this.enabled&&null!=e){if(this.time.hasLastValue()){if(this.time.computeDelta(e)<.01)return;if(this.value.hasFilteredDelta()){const e=this.value.computeDelta(t);this.value.filteredDelta*e<0&&this.value.reset()}}this.time.update(e),this.value.update(t)}},n.reset=function(){this.value.reset(),this.time.reset()},n.evaluateMomentum=function(){if(!this.enabled||!this.value.hasFilteredDelta()||!this.time.hasFilteredDelta())return null;let t=this.value.filteredDelta/this.time.filteredDelta;return t=e.clamp(t,-this._maxVelocity,this._maxVelocity),Math.abs(t)<this._minimumInitialVelocity?null:this.createMomentum(t,this._stopVelocity,this._friction)},n.createMomentum=function(t,e,i){return new l.Momentum(t,e,i)},t}();t.MomentumEstimator=n,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
