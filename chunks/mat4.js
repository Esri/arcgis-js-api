/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","./vec3f64","./common"],(function(t,a,n){"use strict";function r(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function o(t,a,n,r,o,s,e,i,u,h,c,M,f,l,b,m,p){return t[0]=a,t[1]=n,t[2]=r,t[3]=o,t[4]=s,t[5]=e,t[6]=i,t[7]=u,t[8]=h,t[9]=c,t[10]=M,t[11]=f,t[12]=l,t[13]=b,t[14]=m,t[15]=p,t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function e(t,a){if(t===a){const n=a[1],r=a[2],o=a[3],s=a[6],e=a[7],i=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=n,t[6]=a[9],t[7]=a[13],t[8]=r,t[9]=s,t[11]=a[14],t[12]=o,t[13]=e,t[14]=i}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t}function i(t,a){return u(t,a)||s(t),t}function u(t,a){const n=a[0],r=a[1],o=a[2],s=a[3],e=a[4],i=a[5],u=a[6],h=a[7],c=a[8],M=a[9],f=a[10],l=a[11],b=a[12],m=a[13],p=a[14],d=a[15],g=n*i-r*e,q=n*u-o*e,x=n*h-s*e,R=r*u-o*i,y=r*h-s*i,S=o*h-s*u,T=c*m-M*b,v=c*p-f*b,O=c*d-l*b,I=M*p-f*m,E=M*d-l*m,A=f*d-l*p;let P=g*A-q*E+x*I+R*O-y*v+S*T;return P?(P=1/P,t[0]=(i*A-u*E+h*I)*P,t[1]=(o*E-r*A-s*I)*P,t[2]=(m*S-p*y+d*R)*P,t[3]=(f*y-M*S-l*R)*P,t[4]=(u*O-e*A-h*v)*P,t[5]=(n*A-o*O+s*v)*P,t[6]=(p*x-b*S-d*q)*P,t[7]=(c*S-f*x+l*q)*P,t[8]=(e*E-i*O+h*T)*P,t[9]=(r*O-n*E-s*T)*P,t[10]=(b*y-m*x+d*g)*P,t[11]=(M*x-c*y-l*g)*P,t[12]=(i*v-e*I-u*T)*P,t[13]=(n*I-r*v+o*T)*P,t[14]=(m*q-b*R-p*g)*P,t[15]=(c*R-M*q+f*g)*P,t):null}function h(t,a){const n=a[0],r=a[1],o=a[2],s=a[3],e=a[4],i=a[5],u=a[6],h=a[7],c=a[8],M=a[9],f=a[10],l=a[11],b=a[12],m=a[13],p=a[14],d=a[15];return t[0]=i*(f*d-l*p)-M*(u*d-h*p)+m*(u*l-h*f),t[1]=-(r*(f*d-l*p)-M*(o*d-s*p)+m*(o*l-s*f)),t[2]=r*(u*d-h*p)-i*(o*d-s*p)+m*(o*h-s*u),t[3]=-(r*(u*l-h*f)-i*(o*l-s*f)+M*(o*h-s*u)),t[4]=-(e*(f*d-l*p)-c*(u*d-h*p)+b*(u*l-h*f)),t[5]=n*(f*d-l*p)-c*(o*d-s*p)+b*(o*l-s*f),t[6]=-(n*(u*d-h*p)-e*(o*d-s*p)+b*(o*h-s*u)),t[7]=n*(u*l-h*f)-e*(o*l-s*f)+c*(o*h-s*u),t[8]=e*(M*d-l*m)-c*(i*d-h*m)+b*(i*l-h*M),t[9]=-(n*(M*d-l*m)-c*(r*d-s*m)+b*(r*l-s*M)),t[10]=n*(i*d-h*m)-e*(r*d-s*m)+b*(r*h-s*i),t[11]=-(n*(i*l-h*M)-e*(r*l-s*M)+c*(r*h-s*i)),t[12]=-(e*(M*p-f*m)-c*(i*p-u*m)+b*(i*f-u*M)),t[13]=n*(M*p-f*m)-c*(r*p-o*m)+b*(r*f-o*M),t[14]=-(n*(i*p-u*m)-e*(r*p-o*m)+b*(r*u-o*i)),t[15]=n*(i*f-u*M)-e*(r*f-o*M)+c*(r*u-o*i),t}function c(t){const a=t[0],n=t[1],r=t[2],o=t[3],s=t[4],e=t[5],i=t[6],u=t[7],h=t[8],c=t[9],M=t[10],f=t[11],l=t[12],b=t[13],m=t[14],p=t[15];return(a*e-n*s)*(M*p-f*m)-(a*i-r*s)*(c*p-f*b)+(a*u-o*s)*(c*m-M*b)+(n*i-r*e)*(h*p-f*l)-(n*u-o*e)*(h*m-M*l)+(r*u-o*i)*(h*b-c*l)}function M(t,a,n){const r=a[0],o=a[1],s=a[2],e=a[3],i=a[4],u=a[5],h=a[6],c=a[7],M=a[8],f=a[9],l=a[10],b=a[11],m=a[12],p=a[13],d=a[14],g=a[15];let q=n[0],x=n[1],R=n[2],y=n[3];return t[0]=q*r+x*i+R*M+y*m,t[1]=q*o+x*u+R*f+y*p,t[2]=q*s+x*h+R*l+y*d,t[3]=q*e+x*c+R*b+y*g,q=n[4],x=n[5],R=n[6],y=n[7],t[4]=q*r+x*i+R*M+y*m,t[5]=q*o+x*u+R*f+y*p,t[6]=q*s+x*h+R*l+y*d,t[7]=q*e+x*c+R*b+y*g,q=n[8],x=n[9],R=n[10],y=n[11],t[8]=q*r+x*i+R*M+y*m,t[9]=q*o+x*u+R*f+y*p,t[10]=q*s+x*h+R*l+y*d,t[11]=q*e+x*c+R*b+y*g,q=n[12],x=n[13],R=n[14],y=n[15],t[12]=q*r+x*i+R*M+y*m,t[13]=q*o+x*u+R*f+y*p,t[14]=q*s+x*h+R*l+y*d,t[15]=q*e+x*c+R*b+y*g,t}function f(t,a,n){const r=n[0],o=n[1],s=n[2];if(a===t)t[12]=a[0]*r+a[4]*o+a[8]*s+a[12],t[13]=a[1]*r+a[5]*o+a[9]*s+a[13],t[14]=a[2]*r+a[6]*o+a[10]*s+a[14],t[15]=a[3]*r+a[7]*o+a[11]*s+a[15];else{const n=a[0],e=a[1],i=a[2],u=a[3],h=a[4],c=a[5],M=a[6],f=a[7],l=a[8],b=a[9],m=a[10],p=a[11];t[0]=n,t[1]=e,t[2]=i,t[3]=u,t[4]=h,t[5]=c,t[6]=M,t[7]=f,t[8]=l,t[9]=b,t[10]=m,t[11]=p,t[12]=n*r+h*o+l*s+a[12],t[13]=e*r+c*o+b*s+a[13],t[14]=i*r+M*o+m*s+a[14],t[15]=u*r+f*o+p*s+a[15]}return t}function l(t,a,n){const r=n[0],o=n[1],s=n[2];return t[0]=a[0]*r,t[1]=a[1]*r,t[2]=a[2]*r,t[3]=a[3]*r,t[4]=a[4]*o,t[5]=a[5]*o,t[6]=a[6]*o,t[7]=a[7]*o,t[8]=a[8]*s,t[9]=a[9]*s,t[10]=a[10]*s,t[11]=a[11]*s,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}function b(t,a,r,o){let s,e,i,u,h,c,M,f,l,b,m,p,d,g,q,x,R,y,S,T,v,O,I,E,A=o[0],P=o[1],j=o[2],D=Math.sqrt(A*A+P*P+j*j);return D<n.getEpsilon()?null:(D=1/D,A*=D,P*=D,j*=D,s=Math.sin(r),e=Math.cos(r),i=1-e,u=a[0],h=a[1],c=a[2],M=a[3],f=a[4],l=a[5],b=a[6],m=a[7],p=a[8],d=a[9],g=a[10],q=a[11],x=A*A*i+e,R=P*A*i+j*s,y=j*A*i-P*s,S=A*P*i-j*s,T=P*P*i+e,v=j*P*i+A*s,O=A*j*i+P*s,I=P*j*i-A*s,E=j*j*i+e,t[0]=u*x+f*R+p*y,t[1]=h*x+l*R+d*y,t[2]=c*x+b*R+g*y,t[3]=M*x+m*R+q*y,t[4]=u*S+f*T+p*v,t[5]=h*S+l*T+d*v,t[6]=c*S+b*T+g*v,t[7]=M*S+m*T+q*v,t[8]=u*O+f*I+p*E,t[9]=h*O+l*I+d*E,t[10]=c*O+b*I+g*E,t[11]=M*O+m*I+q*E,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)}function m(t,a,n){const r=Math.sin(n),o=Math.cos(n),s=a[4],e=a[5],i=a[6],u=a[7],h=a[8],c=a[9],M=a[10],f=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=s*o+h*r,t[5]=e*o+c*r,t[6]=i*o+M*r,t[7]=u*o+f*r,t[8]=h*o-s*r,t[9]=c*o-e*r,t[10]=M*o-i*r,t[11]=f*o-u*r,t}function p(t,a,n){const r=Math.sin(n),o=Math.cos(n),s=a[0],e=a[1],i=a[2],u=a[3],h=a[8],c=a[9],M=a[10],f=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=s*o-h*r,t[1]=e*o-c*r,t[2]=i*o-M*r,t[3]=u*o-f*r,t[8]=s*r+h*o,t[9]=e*r+c*o,t[10]=i*r+M*o,t[11]=u*r+f*o,t}function d(t,a,n){const r=Math.sin(n),o=Math.cos(n),s=a[0],e=a[1],i=a[2],u=a[3],h=a[4],c=a[5],M=a[6],f=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=s*o+h*r,t[1]=e*o+c*r,t[2]=i*o+M*r,t[3]=u*o+f*r,t[4]=h*o-s*r,t[5]=c*o-e*r,t[6]=M*o-i*r,t[7]=f*o-u*r,t}function g(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}function q(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(t,a,r){if(0===a)return s(t);let o,e,i,u=r[0],h=r[1],c=r[2],M=Math.sqrt(u*u+h*h+c*c);return M<n.getEpsilon()?null:(M=1/M,u*=M,h*=M,c*=M,o=Math.sin(a),e=Math.cos(a),i=1-e,t[0]=u*u*i+e,t[1]=h*u*i+c*o,t[2]=c*u*i-h*o,t[3]=0,t[4]=u*h*i-c*o,t[5]=h*h*i+e,t[6]=c*h*i+u*o,t[7]=0,t[8]=u*c*i+h*o,t[9]=h*c*i-u*o,t[10]=c*c*i+e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function R(t,a){const n=Math.sin(a),r=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function y(t,a){const n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,a){const n=Math.sin(a),r=Math.cos(a);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,a,n){const r=a[0],o=a[1],s=a[2],e=a[3],i=r+r,u=o+o,h=s+s,c=r*i,M=r*u,f=r*h,l=o*u,b=o*h,m=s*h,p=e*i,d=e*u,g=e*h;return t[0]=1-(l+m),t[1]=M+g,t[2]=f-d,t[3]=0,t[4]=M-g,t[5]=1-(c+m),t[6]=b+p,t[7]=0,t[8]=f+d,t[9]=b-p,t[10]=1-(c+l),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function v(t,a){const n=O,r=-a[0],o=-a[1],s=-a[2],e=a[3],i=a[4],u=a[5],h=a[6],c=a[7],M=r*r+o*o+s*s+e*e;return M>0?(n[0]=2*(i*e+c*r+u*s-h*o)/M,n[1]=2*(u*e+c*o+h*r-i*s)/M,n[2]=2*(h*e+c*s+i*o-u*r)/M):(n[0]=2*(i*e+c*r+u*s-h*o),n[1]=2*(u*e+c*o+h*r-i*s),n[2]=2*(h*e+c*s+i*o-u*r)),T(t,a,n),t}const O=a.create();function I(t,a){return t[0]=a[12],t[1]=a[13],t[2]=a[14],t}function E(t,a){const n=a[0],r=a[1],o=a[2],s=a[4],e=a[5],i=a[6],u=a[8],h=a[9],c=a[10];return t[0]=Math.sqrt(n*n+r*r+o*o),t[1]=Math.sqrt(s*s+e*e+i*i),t[2]=Math.sqrt(u*u+h*h+c*c),t}function A(t,a){const n=a[0]+a[5]+a[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(a[6]-a[9])/r,t[1]=(a[8]-a[2])/r,t[2]=(a[1]-a[4])/r):a[0]>a[5]&&a[0]>a[10]?(r=2*Math.sqrt(1+a[0]-a[5]-a[10]),t[3]=(a[6]-a[9])/r,t[0]=.25*r,t[1]=(a[1]+a[4])/r,t[2]=(a[8]+a[2])/r):a[5]>a[10]?(r=2*Math.sqrt(1+a[5]-a[0]-a[10]),t[3]=(a[8]-a[2])/r,t[0]=(a[1]+a[4])/r,t[1]=.25*r,t[2]=(a[6]+a[9])/r):(r=2*Math.sqrt(1+a[10]-a[0]-a[5]),t[3]=(a[1]-a[4])/r,t[0]=(a[8]+a[2])/r,t[1]=(a[6]+a[9])/r,t[2]=.25*r),t}function P(t,a,n,r){const o=a[0],s=a[1],e=a[2],i=a[3],u=o+o,h=s+s,c=e+e,M=o*u,f=o*h,l=o*c,b=s*h,m=s*c,p=e*c,d=i*u,g=i*h,q=i*c,x=r[0],R=r[1],y=r[2];return t[0]=(1-(b+p))*x,t[1]=(f+q)*x,t[2]=(l-g)*x,t[3]=0,t[4]=(f-q)*R,t[5]=(1-(M+p))*R,t[6]=(m+d)*R,t[7]=0,t[8]=(l+g)*y,t[9]=(m-d)*y,t[10]=(1-(M+b))*y,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function j(t,a,n,r,o){const s=a[0],e=a[1],i=a[2],u=a[3],h=s+s,c=e+e,M=i+i,f=s*h,l=s*c,b=s*M,m=e*c,p=e*M,d=i*M,g=u*h,q=u*c,x=u*M,R=r[0],y=r[1],S=r[2],T=o[0],v=o[1],O=o[2],I=(1-(m+d))*R,E=(l+x)*R,A=(b-q)*R,P=(l-x)*y,j=(1-(f+d))*y,D=(p+g)*y,F=(b+q)*S,Q=(p-g)*S,X=(1-(f+m))*S;return t[0]=I,t[1]=E,t[2]=A,t[3]=0,t[4]=P,t[5]=j,t[6]=D,t[7]=0,t[8]=F,t[9]=Q,t[10]=X,t[11]=0,t[12]=n[0]+T-(I*T+P*v+F*O),t[13]=n[1]+v-(E*T+j*v+Q*O),t[14]=n[2]+O-(A*T+D*v+X*O),t[15]=1,t}function D(t,a){const n=a[0],r=a[1],o=a[2],s=a[3],e=n+n,i=r+r,u=o+o,h=n*e,c=r*e,M=r*i,f=o*e,l=o*i,b=o*u,m=s*e,p=s*i,d=s*u;return t[0]=1-M-b,t[1]=c+d,t[2]=f-p,t[3]=0,t[4]=c-d,t[5]=1-h-b,t[6]=l+m,t[7]=0,t[8]=f+p,t[9]=l-m,t[10]=1-h-M,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F(t,a,n,r,o,s,e){const i=1/(n-a),u=1/(o-r),h=1/(s-e);return t[0]=2*s*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*u,t[6]=0,t[7]=0,t[8]=(n+a)*i,t[9]=(o+r)*u,t[10]=(e+s)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=e*s*2*h,t[15]=0,t}function Q(t,a,n,r,o){const s=1/Math.tan(a/2);let e;return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(e=1/(r-o),t[10]=(o+r)*e,t[14]=2*o*r*e):(t[10]=-1,t[14]=-2*r),t}function X(t,a,n,r){const o=Math.tan(a.upDegrees*Math.PI/180),s=Math.tan(a.downDegrees*Math.PI/180),e=Math.tan(a.leftDegrees*Math.PI/180),i=Math.tan(a.rightDegrees*Math.PI/180),u=2/(e+i),h=2/(o+s);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(e-i)*u*.5,t[9]=(o-s)*h*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Y(t,a,n,r,o,s,e){const i=1/(a-n),u=1/(r-o),h=1/(s-e);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(a+n)*i,t[13]=(o+r)*u,t[14]=(e+s)*h,t[15]=1,t}function Z(t,a,r,o){let e,i,u,h,c,M,f,l,b,m;const p=a[0],d=a[1],g=a[2],q=o[0],x=o[1],R=o[2],y=r[0],S=r[1],T=r[2],v=n.getEpsilon();return Math.abs(p-y)<v&&Math.abs(d-S)<v&&Math.abs(g-T)<v?s(t):(f=p-y,l=d-S,b=g-T,m=1/Math.sqrt(f*f+l*l+b*b),f*=m,l*=m,b*=m,e=x*b-R*l,i=R*f-q*b,u=q*l-x*f,m=Math.sqrt(e*e+i*i+u*u),m?(m=1/m,e*=m,i*=m,u*=m):(e=0,i=0,u=0),h=l*u-b*i,c=b*e-f*u,M=f*i-l*e,m=Math.sqrt(h*h+c*c+M*M),m?(m=1/m,h*=m,c*=m,M*=m):(h=0,c=0,M=0),t[0]=e,t[1]=h,t[2]=f,t[3]=0,t[4]=i,t[5]=c,t[6]=l,t[7]=0,t[8]=u,t[9]=M,t[10]=b,t[11]=0,t[12]=-(e*p+i*d+u*g),t[13]=-(h*p+c*d+M*g),t[14]=-(f*p+l*d+b*g),t[15]=1,t)}function _(t,a,n,r){const o=a[0],s=a[1],e=a[2],i=r[0],u=r[1],h=r[2];let c=o-n[0],M=s-n[1],f=e-n[2],l=c*c+M*M+f*f;l>0&&(l=1/Math.sqrt(l),c*=l,M*=l,f*=l);let b=u*f-h*M,m=h*c-i*f,p=i*M-u*c;return l=b*b+m*m+p*p,l>0&&(l=1/Math.sqrt(l),b*=l,m*=l,p*=l),t[0]=b,t[1]=m,t[2]=p,t[3]=0,t[4]=M*p-f*m,t[5]=f*b-c*p,t[6]=c*m-M*b,t[7]=0,t[8]=c,t[9]=M,t[10]=f,t[11]=0,t[12]=o,t[13]=s,t[14]=e,t[15]=1,t}function w(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function k(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function N(t,a,n){return t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t[3]=a[3]+n[3],t[4]=a[4]+n[4],t[5]=a[5]+n[5],t[6]=a[6]+n[6],t[7]=a[7]+n[7],t[8]=a[8]+n[8],t[9]=a[9]+n[9],t[10]=a[10]+n[10],t[11]=a[11]+n[11],t[12]=a[12]+n[12],t[13]=a[13]+n[13],t[14]=a[14]+n[14],t[15]=a[15]+n[15],t}function V(t,a,n){return t[0]=a[0]-n[0],t[1]=a[1]-n[1],t[2]=a[2]-n[2],t[3]=a[3]-n[3],t[4]=a[4]-n[4],t[5]=a[5]-n[5],t[6]=a[6]-n[6],t[7]=a[7]-n[7],t[8]=a[8]-n[8],t[9]=a[9]-n[9],t[10]=a[10]-n[10],t[11]=a[11]-n[11],t[12]=a[12]-n[12],t[13]=a[13]-n[13],t[14]=a[14]-n[14],t[15]=a[15]-n[15],t}function z(t,a,n){return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*n,t[5]=a[5]*n,t[6]=a[6]*n,t[7]=a[7]*n,t[8]=a[8]*n,t[9]=a[9]*n,t[10]=a[10]*n,t[11]=a[11]*n,t[12]=a[12]*n,t[13]=a[13]*n,t[14]=a[14]*n,t[15]=a[15]*n,t}function B(t,a,n,r){return t[0]=a[0]+n[0]*r,t[1]=a[1]+n[1]*r,t[2]=a[2]+n[2]*r,t[3]=a[3]+n[3]*r,t[4]=a[4]+n[4]*r,t[5]=a[5]+n[5]*r,t[6]=a[6]+n[6]*r,t[7]=a[7]+n[7]*r,t[8]=a[8]+n[8]*r,t[9]=a[9]+n[9]*r,t[10]=a[10]+n[10]*r,t[11]=a[11]+n[11]*r,t[12]=a[12]+n[12]*r,t[13]=a[13]+n[13]*r,t[14]=a[14]+n[14]*r,t[15]=a[15]+n[15]*r,t}function C(t,a){return t[0]===a[0]&&t[1]===a[1]&&t[2]===a[2]&&t[3]===a[3]&&t[4]===a[4]&&t[5]===a[5]&&t[6]===a[6]&&t[7]===a[7]&&t[8]===a[8]&&t[9]===a[9]&&t[10]===a[10]&&t[11]===a[11]&&t[12]===a[12]&&t[13]===a[13]&&t[14]===a[14]&&t[15]===a[15]}function G(t,a){if(t===a)return!0;const r=t[0],o=t[1],s=t[2],e=t[3],i=t[4],u=t[5],h=t[6],c=t[7],M=t[8],f=t[9],l=t[10],b=t[11],m=t[12],p=t[13],d=t[14],g=t[15],q=a[0],x=a[1],R=a[2],y=a[3],S=a[4],T=a[5],v=a[6],O=a[7],I=a[8],E=a[9],A=a[10],P=a[11],j=a[12],D=a[13],F=a[14],Q=a[15],X=n.getEpsilon();return Math.abs(r-q)<=X*Math.max(1,Math.abs(r),Math.abs(q))&&Math.abs(o-x)<=X*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(s-R)<=X*Math.max(1,Math.abs(s),Math.abs(R))&&Math.abs(e-y)<=X*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(i-S)<=X*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(u-T)<=X*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(h-v)<=X*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(c-O)<=X*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(M-I)<=X*Math.max(1,Math.abs(M),Math.abs(I))&&Math.abs(f-E)<=X*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(l-A)<=X*Math.max(1,Math.abs(l),Math.abs(A))&&Math.abs(b-P)<=X*Math.max(1,Math.abs(b),Math.abs(P))&&Math.abs(m-j)<=X*Math.max(1,Math.abs(m),Math.abs(j))&&Math.abs(p-D)<=X*Math.max(1,Math.abs(p),Math.abs(D))&&Math.abs(d-F)<=X*Math.max(1,Math.abs(d),Math.abs(F))&&Math.abs(g-Q)<=X*Math.max(1,Math.abs(g),Math.abs(Q))}function H(t){const a=n.getEpsilon(),r=t[0],o=t[1],s=t[2],e=t[4],i=t[5],u=t[6],h=t[8],c=t[9],M=t[10];return Math.abs(1-(r*r+e*e+h*h))<=a&&Math.abs(1-(o*o+i*i+c*c))<=a&&Math.abs(1-(s*s+u*u+M*M))<=a}function J(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}const K=M,L=V,U=Object.freeze(Object.defineProperty({__proto__:null,add:N,adjoint:h,copy:r,determinant:c,equals:G,exactEquals:C,frob:k,fromQuat:D,fromQuat2:v,fromRotation:x,fromRotationTranslation:T,fromRotationTranslationScale:P,fromRotationTranslationScaleOrigin:j,fromScaling:q,fromTranslation:g,fromXRotation:R,fromYRotation:y,fromZRotation:S,frustum:F,getRotation:A,getScaling:E,getTranslation:I,hasIdentityRotation:J,identity:s,invert:u,invertOrIdentity:i,isOrthoNormal:H,lookAt:Z,mul:K,multiply:M,multiplyScalar:z,multiplyScalarAndAdd:B,ortho:Y,perspective:Q,perspectiveFromFieldOfView:X,rotate:b,rotateX:m,rotateY:p,rotateZ:d,scale:l,set:o,str:w,sub:L,subtract:V,targetTo:_,translate:f,transpose:e},Symbol.toStringTag,{value:"Module"}));t.add=N,t.adjoint=h,t.copy=r,t.determinant=c,t.equals=G,t.exactEquals=C,t.frob=k,t.fromQuat=D,t.fromQuat2=v,t.fromRotation=x,t.fromRotationTranslation=T,t.fromRotationTranslationScale=P,t.fromRotationTranslationScaleOrigin=j,t.fromScaling=q,t.fromTranslation=g,t.fromXRotation=R,t.fromYRotation=y,t.fromZRotation=S,t.frustum=F,t.getRotation=A,t.getScaling=E,t.getTranslation=I,t.hasIdentityRotation=J,t.identity=s,t.invert=u,t.invertOrIdentity=i,t.isOrthoNormal=H,t.lookAt=Z,t.mat4=U,t.mul=K,t.multiply=M,t.multiplyScalar=z,t.multiplyScalarAndAdd=B,t.ortho=Y,t.perspective=Q,t.perspectiveFromFieldOfView=X,t.rotate=b,t.rotateX=m,t.rotateY=p,t.rotateZ=d,t.scale=l,t.set=o,t.str=w,t.sub=L,t.subtract=V,t.targetTo=_,t.translate=f,t.transpose=e}));
