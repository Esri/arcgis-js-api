/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","./floating-ui"],(function(t,e){"use strict";
/*!
   * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
   * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
   * v1.0.7
   */function n(t){return u(t)&&"fixed"!==c(t).position?o(t):null}function o(t){let{offsetParent:e}=t,n=t,o=!1;for(;n&&n!==e;){const{assignedSlot:t}=n;if(t){let i=t.offsetParent;if("contents"===c(t).display){const e=t.hasAttribute("style"),o=t.style.display;t.style.display=c(n).display,i=t.offsetParent,t.style.display=o,e||t.removeAttribute("style")}n=t,e!==i&&(e=i,o=!0)}else if(a(n)&&n.host&&o)break;n=a(n)&&n.host||n.parentNode}return e}function i(t){const{reference:e,floating:n,strategy:o}=t;return{reference:C(e,D(n),o),floating:{...A(n),x:0,y:0}}}function r(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function l(t){if(null==t)return window;if(!r(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function c(t){return l(t).getComputedStyle(t)}function f(t){return r(t)?"":t?(t.nodeName||"").toLowerCase():""}function s(){const t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function u(t){return t instanceof l(t).HTMLElement}function d(t){return t instanceof l(t).Element}function h(t){return t instanceof l(t).Node}function a(t){if("undefined"==typeof ShadowRoot)return!1;return t instanceof l(t).ShadowRoot||t instanceof ShadowRoot}function g(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=c(t);return/auto|scroll|overlay|hidden/.test(e+o+n)&&!["inline","contents"].includes(i)}function p(t){return["table","td","th"].includes(f(t))}function w(t){const e=/firefox/i.test(s()),n=c(t);return"none"!==n.transform||"none"!==n.perspective||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter||["transform","perspective"].some((t=>n.willChange.includes(t)))||["paint","layout","strict","content"].some((t=>{const e=n.contain;return null!=e&&e.includes(t)}))}function y(){return!/^((?!chrome|android).)*safari/i.test(s())}function m(t){return["html","body","#document"].includes(f(t))}const v=Math.min,b=Math.max,x=Math.round;function T(t,e,n){var o,i,r,c;void 0===e&&(e=!1),void 0===n&&(n=!1);const f=t.getBoundingClientRect();let s=1,h=1;e&&u(t)&&(s=t.offsetWidth>0&&x(f.width)/t.offsetWidth||1,h=t.offsetHeight>0&&x(f.height)/t.offsetHeight||1);const a=d(t)?l(t):window,g=!y()&&n,p=(f.left+(g&&null!=(o=null==(i=a.visualViewport)?void 0:i.offsetLeft)?o:0))/s,w=(f.top+(g&&null!=(r=null==(c=a.visualViewport)?void 0:c.offsetTop)?r:0))/h,m=f.width/s,v=f.height/h;return{width:m,height:v,top:w,right:p+m,bottom:w+v,left:p,x:p,y:w}}function L(t){return((h(t)?t.ownerDocument:t.document)||window.document).documentElement}function W(t){return d(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function H(t){return T(L(t)).left+W(t).scrollLeft}function R(t){const e=T(t);return x(e.width)!==t.offsetWidth||x(e.height)!==t.offsetHeight}function C(t,e,n){const o=u(e),i=L(e),r=T(t,o&&R(e),"fixed"===n);let l={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(o||!o&&"fixed"!==n)if(("body"!==f(e)||g(i))&&(l=W(e)),u(e)){const t=T(e,!0);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else i&&(c.x=H(i));return{x:r.left+l.scrollLeft-c.x,y:r.top+l.scrollTop-c.y,width:r.width,height:r.height}}function N(t){return"html"===f(t)?t:t.assignedSlot||t.parentNode||(a(t)?t.host:null)||L(t)}function S(t){let e=N(t);for(a(e)&&(e=e.host);u(e)&&!m(e);){if(w(e))return e;{const t=e.parentNode;e=a(t)?t.host:t}}return null}function D(t){const e=l(t);let o=n(t);for(;o&&p(o)&&"static"===c(o).position;)o=n(o);return o&&("html"===f(o)||"body"===f(o)&&"static"===c(o).position&&!w(o))?e:o||S(t)||e}function A(t){if(u(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=T(t);return{width:e.width,height:e.height}}function M(t,e){const n=l(t),o=L(t),i=n.visualViewport;let r=o.clientWidth,c=o.clientHeight,f=0,s=0;if(i){r=i.width,c=i.height;const t=y();(t||!t&&"fixed"===e)&&(f=i.offsetLeft,s=i.offsetTop)}return{width:r,height:c,x:f,y:s}}function P(t){var e;const n=L(t),o=W(t),i=null==(e=t.ownerDocument)?void 0:e.body,r=b(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=b(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let f=-o.scrollLeft+H(t);const s=-o.scrollTop;return"rtl"===c(i||n).direction&&(f+=b(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:l,x:f,y:s}}function V(t){const e=N(t);return m(e)?t.ownerDocument.body:u(e)&&g(e)?e:V(e)}function E(t,e){var n;void 0===e&&(e=[]);const o=V(t),i=o===(null==(n=t.ownerDocument)?void 0:n.body),r=l(o),c=i?[r].concat(r.visualViewport||[],g(o)?o:[]):o,f=e.concat(c);return i?f:f.concat(E(c))}function O(t,e){const n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&a(n)){let n=e;do{if(n&&t===n)return!0;n=n.parentNode||n.host}while(n)}return!1}function j(t,e){let n=t;for(;n&&!m(n)&&!e.includes(n)&&(!d(n)||!["absolute","fixed"].includes(c(n).position));){const t=N(n);n=a(t)?t.host:t}return n}function B(t,e){const n=T(t,!1,"fixed"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft;return{top:o,left:i,x:i,y:o,right:i+t.clientWidth,bottom:o+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function X(t,n,o){return"viewport"===n?e.rectToClientRect(M(t,o)):d(n)?B(n,o):e.rectToClientRect(P(L(t)))}function Y(t){const e=E(t),n=j(t,e);let o=null;if(n&&u(n)){const t=D(n);g(n)?o=n:u(t)&&(o=t)}return d(o)?e.filter((t=>o&&d(t)&&O(t,o)&&"body"!==f(t))):[]}function k(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[..."clippingAncestors"===n?Y(e):[].concat(n),o],l=r[0],c=r.reduce(((t,n)=>{const o=X(e,n,i);return t.top=b(o.top,t.top),t.right=v(o.right,t.right),t.bottom=v(o.bottom,t.bottom),t.left=b(o.left,t.left),t}),X(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}t.getClippingRect=k,t.getElementRects=i,t.getOffsetParent=D,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
