/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{a as e}from"./mat4.js";import{c as r}from"./mat4f64.js";import{EvaluateAmbientLighting as i}from"../views/3d/webgl-engine/core/shaderLibrary/shading/EvaluateAmbientLighting.glsl.js";import{Gamma as o}from"../views/3d/webgl-engine/core/shaderLibrary/shading/Gamma.glsl.js";import{MainLighting as s}from"../views/3d/webgl-engine/core/shaderLibrary/shading/MainLighting.glsl.js";import{PBRMode as a}from"../views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRenderingParameters.glsl.js";import{PiUtils as n}from"../views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js";import{CloudsParallaxShading as d}from"../views/3d/webgl-engine/core/shaderLibrary/util/CloudsParallaxShading.glsl.js";import{ColorConversion as l}from"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js";import{RgbaFloatEncoding as t}from"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js";import{Float3PassUniform as g}from"../views/3d/webgl-engine/core/shaderModules/Float3PassUniform.js";import{glsl as c}from"../views/3d/webgl-engine/core/shaderModules/interfaces.js";import{Matrix4PassUniform as m}from"../views/3d/webgl-engine/core/shaderModules/Matrix4PassUniform.js";import{ShaderBuilder as w}from"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js";import{VertexAttribute as b}from"../views/3d/webgl-engine/lib/VertexAttribute.js";function u(){const r=new w;r.attributes.add(b.POSITION,"vec2"),r.varyings.add("worldRay","vec3");const{vertex:u,fragment:f}=r;return u.uniforms.add([new m("inverseProjectionMatrix",((e,r)=>r.camera.inverseProjectionMatrix)),new m("inverseViewMatrix",((r,i)=>e(v,i.camera.viewMatrix)))]),u.code.add(c`void main(void) {
vec3 posViewNear = (inverseProjectionMatrix * vec4(position, -1.0, 1.0)).xyz;
worldRay = (inverseViewMatrix * vec4(posViewNear, 0.0)).xyz;
gl_Position = vec4(position, 1.0, 1.0);
}`),f.include(l),f.include(t),r.include(i,{pbrMode:a.Disabled,lightingSphericalHarmonicsOrder:2}),r.include(n),r.include(o),r.include(s,{isGround:!1}),r.include(d,{instancedDoublePrecision:!1,isGround:!1}),f.uniforms.add([new g("cameraPosition",((e,r)=>r.camera.eye))]),f.code.add(c`void main() {
vec4 cloudsColor = renderClouds(normalize(worldRay), cameraPosition);
gl_FragColor = vec4((1.0 - totalFadeInOut) * cloudsColor.rgb, cloudsColor.a);
}`),r}const v=r(),f=Object.freeze(Object.defineProperty({__proto__:null,build:u},Symbol.toStringTag,{value:"Module"}));export{f as C,u as b};
