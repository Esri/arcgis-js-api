/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["exports","./common"],(function(t,n){"use strict";function a(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function r(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t}function o(t,n,a,r,o,u,s,e,c,i){return t[0]=n,t[1]=a,t[2]=r,t[3]=o,t[4]=u,t[5]=s,t[6]=e,t[7]=c,t[8]=i,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function s(t,n){if(t===n){const a=n[1],r=n[2],o=n[5];t[1]=n[3],t[2]=n[6],t[3]=a,t[5]=n[7],t[6]=r,t[7]=o}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function e(t,n){const a=n[0],r=n[1],o=n[2],u=n[3],s=n[4],e=n[5],c=n[6],i=n[7],M=n[8],l=M*s-e*i,f=-M*u+e*c,h=i*u-s*c;let m=a*l+r*f+o*h;return m?(m=1/m,t[0]=l*m,t[1]=(-M*r+o*i)*m,t[2]=(e*r-o*s)*m,t[3]=f*m,t[4]=(M*a-o*c)*m,t[5]=(-e*a+o*u)*m,t[6]=h*m,t[7]=(-i*a+r*c)*m,t[8]=(s*a-r*u)*m,t):null}function c(t,n){const a=n[0],r=n[1],o=n[2],u=n[3],s=n[4],e=n[5],c=n[6],i=n[7],M=n[8];return t[0]=s*M-e*i,t[1]=o*i-r*M,t[2]=r*e-o*s,t[3]=e*c-u*M,t[4]=a*M-o*c,t[5]=o*u-a*e,t[6]=u*i-s*c,t[7]=r*c-a*i,t[8]=a*s-r*u,t}function i(t){const n=t[0],a=t[1],r=t[2],o=t[3],u=t[4],s=t[5],e=t[6],c=t[7],i=t[8];return n*(i*u-s*c)+a*(-i*o+s*e)+r*(c*o-u*e)}function M(t,n,a){const r=n[0],o=n[1],u=n[2],s=n[3],e=n[4],c=n[5],i=n[6],M=n[7],l=n[8],f=a[0],h=a[1],m=a[2],b=a[3],d=a[4],S=a[5],y=a[6],p=a[7],O=a[8];return t[0]=f*r+h*s+m*i,t[1]=f*o+h*e+m*M,t[2]=f*u+h*c+m*l,t[3]=b*r+d*s+S*i,t[4]=b*o+d*e+S*M,t[5]=b*u+d*c+S*l,t[6]=y*r+p*s+O*i,t[7]=y*o+p*e+O*M,t[8]=y*u+p*c+O*l,t}function l(t,n,a){const r=n[0],o=n[1],u=n[2],s=n[3],e=n[4],c=n[5],i=n[6],M=n[7],l=n[8],f=a[0],h=a[1];return t[0]=r,t[1]=o,t[2]=u,t[3]=s,t[4]=e,t[5]=c,t[6]=f*r+h*s+i,t[7]=f*o+h*e+M,t[8]=f*u+h*c+l,t}function f(t,n,a){const r=n[0],o=n[1],u=n[2],s=n[3],e=n[4],c=n[5],i=n[6],M=n[7],l=n[8],f=Math.sin(a),h=Math.cos(a);return t[0]=h*r+f*s,t[1]=h*o+f*e,t[2]=h*u+f*c,t[3]=h*s-f*r,t[4]=h*e-f*o,t[5]=h*c-f*u,t[6]=i,t[7]=M,t[8]=l,t}function h(t,n,a){const r=a[0],o=a[1],u=a[2];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t[6]=u*n[6],t[7]=u*n[7],t[8]=u*n[8],t}function m(t,n,a){const r=a[0],o=a[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t}function b(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t}function d(t,n){const a=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=a,t[2]=0,t[3]=-a,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function S(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function y(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t}function p(t,n){const a=n[0],r=n[1],o=n[2],u=n[3],s=a+a,e=r+r,c=o+o,i=a*s,M=r*s,l=r*e,f=o*s,h=o*e,m=o*c,b=u*s,d=u*e,S=u*c;return t[0]=1-l-m,t[3]=M-S,t[6]=f+d,t[1]=M+S,t[4]=1-i-m,t[7]=h-b,t[2]=f-d,t[5]=h+b,t[8]=1-i-l,t}function O(t,n){const a=n[0],r=n[1],o=n[2],u=n[4],s=n[5],e=n[6],c=n[8],i=n[9],M=n[10],l=M*s-e*i,f=-M*u+e*c,h=i*u-s*c,m=a*l+r*f+o*h;if(!m)return null;const b=1/m;return t[0]=l*b,t[1]=(-M*r+o*i)*b,t[2]=(e*r-o*s)*b,t[3]=f*b,t[4]=(M*a-o*c)*b,t[5]=(-e*a+o*u)*b,t[6]=h*b,t[7]=(-i*a+r*c)*b,t[8]=(s*a-r*u)*b,t}function x(t,n){const a=n[0],r=n[1],o=n[2],u=n[3],s=n[4],e=n[5],c=n[6],i=n[7],M=n[8],l=n[9],f=n[10],h=n[11],m=n[12],b=n[13],d=n[14],S=n[15],y=a*e-r*s,p=a*c-o*s,O=a*i-u*s,x=r*c-o*e,E=r*i-u*e,L=o*i-u*c,N=M*b-l*m,P=M*d-f*m,I=M*S-h*m,g=l*d-f*b,j=l*S-h*b,q=f*S-h*d;let A=y*q-p*j+O*g+x*I-E*P+L*N;return A?(A=1/A,t[0]=(e*q-c*j+i*g)*A,t[1]=(c*I-s*q-i*P)*A,t[2]=(s*j-e*I+i*N)*A,t[3]=(o*j-r*q-u*g)*A,t[4]=(a*q-o*I+u*P)*A,t[5]=(r*I-a*j-u*N)*A,t[6]=(b*L-d*E+S*x)*A,t[7]=(d*O-m*L-S*p)*A,t[8]=(m*E-b*O+S*y)*A,t):null}function E(t,n,a){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/a,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function L(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function N(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function P(t,n,a){return t[0]=n[0]+a[0],t[1]=n[1]+a[1],t[2]=n[2]+a[2],t[3]=n[3]+a[3],t[4]=n[4]+a[4],t[5]=n[5]+a[5],t[6]=n[6]+a[6],t[7]=n[7]+a[7],t[8]=n[8]+a[8],t}function I(t,n,a){return t[0]=n[0]-a[0],t[1]=n[1]-a[1],t[2]=n[2]-a[2],t[3]=n[3]-a[3],t[4]=n[4]-a[4],t[5]=n[5]-a[5],t[6]=n[6]-a[6],t[7]=n[7]-a[7],t[8]=n[8]-a[8],t}function g(t,n,a){return t[0]=n[0]*a,t[1]=n[1]*a,t[2]=n[2]*a,t[3]=n[3]*a,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=n[7]*a,t[8]=n[8]*a,t}function j(t,n,a,r){return t[0]=n[0]+a[0]*r,t[1]=n[1]+a[1]*r,t[2]=n[2]+a[2]*r,t[3]=n[3]+a[3]*r,t[4]=n[4]+a[4]*r,t[5]=n[5]+a[5]*r,t[6]=n[6]+a[6]*r,t[7]=n[7]+a[7]*r,t[8]=n[8]+a[8]*r,t}function q(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]}function A(t,a){const r=t[0],o=t[1],u=t[2],s=t[3],e=t[4],c=t[5],i=t[6],M=t[7],l=t[8],f=a[0],h=a[1],m=a[2],b=a[3],d=a[4],S=a[5],y=a[6],p=a[7],O=a[8];return Math.abs(r-f)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-h)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(u-m)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(s-b)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(e-d)<=n.EPSILON*Math.max(1,Math.abs(e),Math.abs(d))&&Math.abs(c-S)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(i-y)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(y))&&Math.abs(M-p)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(p))&&Math.abs(l-O)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(O))}function F(t){const a=n.EPSILON,r=t[0],o=t[1],u=t[2],s=t[3],e=t[4],c=t[5],i=t[6],M=t[7],l=t[8];return Math.abs(1-(r*r+s*s+i*i))<=a&&Math.abs(1-(o*o+e*e+M*M))<=a&&Math.abs(1-(u*u+c*c+l*l))<=a}const _=M,v=I,T=Object.freeze(Object.defineProperty({__proto__:null,fromMat4:a,copy:r,set:o,identity:u,transpose:s,invert:e,adjoint:c,determinant:i,multiply:M,translate:l,rotate:f,scale:h,scaleByVec2:m,fromTranslation:b,fromRotation:d,fromScaling:S,fromMat2d:y,fromQuat:p,normalFromMat4Legacy:O,normalFromMat4:x,projection:E,str:L,frob:N,add:P,subtract:I,multiplyScalar:g,multiplyScalarAndAdd:j,exactEquals:q,equals:A,isOrthoNormal:F,mul:_,sub:v},Symbol.toStringTag,{value:"Module"}));t.add=P,t.adjoint=c,t.copy=r,t.determinant=i,t.equals=A,t.exactEquals=q,t.frob=N,t.fromMat2d=y,t.fromMat4=a,t.fromQuat=p,t.fromRotation=d,t.fromScaling=S,t.fromTranslation=b,t.identity=u,t.invert=e,t.isOrthoNormal=F,t.mat3=T,t.mul=_,t.multiply=M,t.multiplyScalar=g,t.multiplyScalarAndAdd=j,t.normalFromMat4=x,t.normalFromMat4Legacy=O,t.projection=E,t.rotate=f,t.scale=h,t.scaleByVec2=m,t.set=o,t.str=L,t.sub=v,t.subtract=I,t.translate=l,t.transpose=s}));
