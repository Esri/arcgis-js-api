/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
define(["exports","../geometry/support/buffer/math/common"],(function(t,e){"use strict";function r(t,r,f){if(t.count!==r.count)return void e.logger.error("source and destination buffers need to have the same number of elements");const n=t.count,o=f[0],u=f[1],d=f[2],c=f[4],i=f[5],s=f[6],a=f[8],p=f[9],y=f[10],B=f[12],m=f[13],l=f[14],h=t.typedBuffer,S=t.typedBufferStride,M=r.typedBuffer,g=r.typedBufferStride;for(let e=0;e<n;e++){const t=e*S,r=e*g,f=M[r],n=M[r+1],b=M[r+2];h[t]=o*f+c*n+a*b+B,h[t+1]=u*f+i*n+p*b+m,h[t+2]=d*f+s*n+y*b+l}}function f(t,r,f){if(t.count!==r.count)return void e.logger.error("source and destination buffers need to have the same number of elements");const n=t.count,o=f[0],u=f[1],d=f[2],c=f[3],i=f[4],s=f[5],a=f[6],p=f[7],y=f[8],B=t.typedBuffer,m=t.typedBufferStride,l=r.typedBuffer,h=r.typedBufferStride;for(let e=0;e<n;e++){const t=e*m,r=e*h,f=l[r],n=l[r+1],S=l[r+2];B[t]=o*f+c*n+a*S,B[t+1]=u*f+i*n+p*S,B[t+2]=d*f+s*n+y*S}}function n(t,e,r){const f=Math.min(t.count,e.count),n=t.typedBuffer,o=t.typedBufferStride,u=e.typedBuffer,d=e.typedBufferStride;for(let c=0;c<f;c++){const t=c*o,e=c*d;n[t]=r*u[e],n[t+1]=r*u[e+1],n[t+2]=r*u[e+2]}}function o(t,e){const r=Math.min(t.count,e.count),f=t.typedBuffer,n=t.typedBufferStride,o=e.typedBuffer,u=e.typedBufferStride;for(let d=0;d<r;d++){const t=d*n,e=d*u,r=o[e],c=o[e+1],i=o[e+2],s=Math.sqrt(r*r+c*c+i*i);if(s>0){const e=1/s;f[t]=e*r,f[t+1]=e*c,f[t+2]=e*i}}}function u(t,e,r){const f=Math.min(t.count,e.count),n=t.typedBuffer,o=t.typedBufferStride,u=e.typedBuffer,d=e.typedBufferStride;for(let c=0;c<f;c++){const t=c*o,e=c*d;n[t]=u[e]>>r,n[t+1]=u[e+1]>>r,n[t+2]=u[e+2]>>r}}const d=Object.freeze({__proto__:null,transformMat4:r,transformMat3:f,scale:n,normalize:o,shiftRight:u});t.normalize=o,t.scale=n,t.shiftRight=u,t.transformMat3=f,t.transformMat4=r,t.vec3=d}));
