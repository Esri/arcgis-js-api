/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../geometry/Extent","../core/mathUtils","./vec3f64","./vec3","./mat4","../geometry/projection","./mat4f64","../views/3d/support/cameraUtilsInternal"],(function(e,t,o,r,i,n,a,c,l){"use strict";const T=r.fromValues(0,1,0),d=r.fromValues(0,0,1),s=c.create(),u=r.create(),p=r.create();function f(e,t,r,a=l.createDirectionUp()){n.identity(s);const{direction:c,up:u}=a;return n.rotateZ(s,s,-o.deg2rad(t)),n.rotateX(s,s,o.deg2rad(r)),i.transformMat4(c,d,s),i.scale(c,c,-1),i.transformMat4(u,T,s),a}function m(e,t,o,r){return l.directionToHeadingTilt(t,o,r,d,T)}function g(e,t,o,n){const a=f(0,o,n),c=r.create();return i.scale(c,a.direction,-t),i.add(c,c,e),{up:a.up,eye:c,heading:o,tilt:n}}function y(e){return o.rad2deg(e)}function x(e){return o.deg2rad(e)}function V(e,o,r,i,n){const c=e.renderSpatialReference,l=e.map&&e.spatialReference||o.spatialReference;return a.projectPointToVector(o,u,c),a.projectPointToVector(o,p,c),u[0]-=r/2,p[0]+=r/2,u[1]-=i/2,p[1]+=i/2,a.projectVectorToVector(u,c,u,l),a.projectVectorToVector(p,c,p,l),n?(n.xmin=u[0],n.ymin=u[1],n.xmax=p[0],n.ymax=p[1],n.spatialReference=l):n=new t(u[0],u[1],p[0],p[1],l),n}var h=Object.freeze({__proto__:null,headingTiltToDirectionUp:f,directionToHeadingTilt:m,eyeForCenterWithHeadingTilt:g,lookAtTiltToEyeTilt:y,eyeTiltToLookAtTilt:x,toExtent:V});e.cameraUtilsPlanar=h,e.directionToHeadingTilt=m,e.eyeForCenterWithHeadingTilt=g,e.eyeTiltToLookAtTilt=x,e.headingTiltToDirectionUp=f,e.lookAtTiltToEyeTilt=y,e.toExtent=V}));
