/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
define(["exports","./vec3f64","./common"],(function(t,n,r){"use strict";function e(t){const n=t[0],r=t[1],e=t[2];return Math.sqrt(n*n+r*r+e*e)}function a(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function o(t,n,r,e){return t[0]=n,t[1]=r,t[2]=e,t}function u(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t}function c(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function s(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function i(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function h(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function M(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function f(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t}function l(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t}function d(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function m(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t}function q(t,n,r,e){return t[0]=n[0]+r[0]*e,t[1]=n[1]+r[1]*e,t[2]=n[2]+r[2]*e,t}function b(t,n){const r=n[0]-t[0],e=n[1]-t[1],a=n[2]-t[2];return Math.sqrt(r*r+e*e+a*a)}function x(t,n){const r=n[0]-t[0],e=n[1]-t[1],a=n[2]-t[2];return r*r+e*e+a*a}function v(t){const n=t[0],r=t[1],e=t[2];return n*n+r*r+e*e}function g(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function p(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function L(t,n){const r=n[0],e=n[1],a=n[2];let o=r*r+e*e+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t}function A(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function D(t,n,r){const e=n[0],a=n[1],o=n[2],u=r[0],c=r[1],s=r[2];return t[0]=a*s-o*c,t[1]=o*u-e*s,t[2]=e*c-a*u,t}function O(t,n,r,e){const a=n[0],o=n[1],u=n[2];return t[0]=a+e*(r[0]-a),t[1]=o+e*(r[1]-o),t[2]=u+e*(r[2]-u),t}function z(t,n,r,e,a,o){const u=o*o,c=u*(2*o-3)+1,s=u*(o-2)+o,i=u*(o-1),h=u*(3-2*o);return t[0]=n[0]*c+r[0]*s+e[0]*i+a[0]*h,t[1]=n[1]*c+r[1]*s+e[1]*i+a[1]*h,t[2]=n[2]*c+r[2]*s+e[2]*i+a[2]*h,t}function E(t,n,r,e,a,o){const u=1-o,c=u*u,s=o*o,i=c*u,h=3*o*c,M=3*s*u,f=s*o;return t[0]=n[0]*i+r[0]*h+e[0]*M+a[0]*f,t[1]=n[1]*i+r[1]*h+e[1]*M+a[1]*f,t[2]=n[2]*i+r[2]*h+e[2]*M+a[2]*f,t}function I(t,n){n=n||1;const e=2*r.RANDOM()*Math.PI,a=2*r.RANDOM()-1,o=Math.sqrt(1-a*a)*n;return t[0]=Math.cos(e)*o,t[1]=Math.sin(e)*o,t[2]=a*n,t}function N(t,n,r){const e=n[0],a=n[1],o=n[2];return t[0]=r[0]*e+r[4]*a+r[8]*o+r[12],t[1]=r[1]*e+r[5]*a+r[9]*o+r[13],t[2]=r[2]*e+r[6]*a+r[10]*o+r[14],t}function P(t,n,r){const e=n[0],a=n[1],o=n[2];return t[0]=e*r[0]+a*r[3]+o*r[6],t[1]=e*r[1]+a*r[4]+o*r[7],t[2]=e*r[2]+a*r[5]+o*r[8],t}function y(t,n,r){const e=r[0],a=r[1],o=r[2],u=r[3],c=n[0],s=n[1],i=n[2];let h=a*i-o*s,M=o*c-e*i,f=e*s-a*c,l=a*f-o*M,d=o*h-e*f,m=e*M-a*h;const q=2*u;return h*=q,M*=q,f*=q,l*=2,d*=2,m*=2,t[0]=c+h+l,t[1]=s+M+d,t[2]=i+f+m,t}function _(t,n,r,e){const a=[],o=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],o[0]=a[0],o[1]=a[1]*Math.cos(e)-a[2]*Math.sin(e),o[2]=a[1]*Math.sin(e)+a[2]*Math.cos(e),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function S(t,n,r,e){const a=[],o=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],o[0]=a[2]*Math.sin(e)+a[0]*Math.cos(e),o[1]=a[1],o[2]=a[2]*Math.cos(e)-a[0]*Math.sin(e),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function Q(t,n,r,e){const a=[],o=[];return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a[2]=n[2]-r[2],o[0]=a[0]*Math.cos(e)-a[1]*Math.sin(e),o[1]=a[0]*Math.sin(e)+a[1]*Math.cos(e),o[2]=a[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function R(t,n){a(X,t),a(Y,n),L(X,X),L(Y,Y);const r=A(X,Y);return r>1?0:r<-1?Math.PI:Math.acos(r)}const X=n.create(),Y=n.create();function Z(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function j(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function k(t,n){if(t===n)return!0;const e=t[0],a=t[1],o=t[2],u=n[0],c=n[1],s=n[2];return Math.abs(e-u)<=r.EPSILON*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(a-c)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))}function w(t,n,r){const e=r[0]-n[0],a=r[1]-n[1],o=r[2]-n[2];let u=e*e+a*a+o*o;return u>0?(u=1/Math.sqrt(u),t[0]=e*u,t[1]=a*u,t[2]=o*u,t):(t[0]=0,t[1]=0,t[2]=0,t)}const B=c,C=s,F=i,G=b,H=x,J=e,K=v,T=Object.freeze({__proto__:null,length:e,copy:a,set:o,add:u,subtract:c,multiply:s,divide:i,ceil:h,floor:M,min:f,max:l,round:d,scale:m,scaleAndAdd:q,distance:b,squaredDistance:x,squaredLength:v,negate:g,inverse:p,normalize:L,dot:A,cross:D,lerp:O,hermite:z,bezier:E,random:I,transformMat4:N,transformMat3:P,transformQuat:y,rotateX:_,rotateY:S,rotateZ:Q,angle:R,str:Z,exactEquals:j,equals:k,direction:w,sub:B,mul:C,div:F,dist:G,sqrDist:H,len:J,sqrLen:K});t.add=u,t.angle=R,t.bezier=E,t.ceil=h,t.copy=a,t.cross=D,t.direction=w,t.dist=G,t.distance=b,t.div=F,t.divide=i,t.dot=A,t.equals=k,t.exactEquals=j,t.floor=M,t.hermite=z,t.inverse=p,t.len=J,t.length=e,t.lerp=O,t.max=l,t.min=f,t.mul=C,t.multiply=s,t.negate=g,t.normalize=L,t.random=I,t.rotateX=_,t.rotateY=S,t.rotateZ=Q,t.round=d,t.scale=m,t.scaleAndAdd=q,t.set=o,t.sqrDist=H,t.sqrLen=K,t.squaredDistance=x,t.squaredLength=v,t.str=Z,t.sub=B,t.subtract=c,t.transformMat3=P,t.transformMat4=N,t.transformQuat=y,t.vec3=T}));
