/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["exports","./componentsUtils","./resources2","./dom"],(function(t,i,e,o){"use strict";
/*!
   * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
   * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
   */const a="@-webkit-keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-down{0%{opacity:0;-webkit-transform:translate3D(0, -5px, 0);transform:translate3D(0, -5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;-webkit-transform:translate3D(0, 5px, 0);transform:translate3D(0, 5px, 0)}100%{opacity:1;-webkit-transform:translate3D(0, 0, 0);transform:translate3D(0, 0, 0)}}@-webkit-keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}@keyframes in-scale{0%{opacity:0;-webkit-transform:scale3D(0.95, 0.95, 1);transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;-webkit-transform:scale3D(1, 1, 1);transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-duration:var(--calcite-animation-timing);animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{-webkit-animation-name:in;animation-name:in}.calcite-animate__in-down{-webkit-animation-name:in-down;animation-name:in-down}.calcite-animate__in-up{-webkit-animation-name:in-up;animation-name:in-up}.calcite-animate__in-scale{-webkit-animation-name:in-scale;animation-name:in-scale}:root{--calcite-popper-transition:var(--calcite-animation-timing)}:host([hidden]){display:none}:host{position:relative;display:block}",n=i.proxyCustomElement(class extends i.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.hoverTimeouts=new WeakMap,this.selector=`[${e.TOOLTIP_REFERENCE}]`,this.queryTooltip=t=>{const{el:i}=this;if(!t.includes(i))return null;const a=t.find((t=>{var i;return null===(i=null==t?void 0:t.hasAttribute)||void 0===i?void 0:i.call(t,e.TOOLTIP_REFERENCE)}));if(!a)return null;const n=a.getAttribute(e.TOOLTIP_REFERENCE);return o.queryElementRoots(i,{id:n})},this.clearHoverTimeout=t=>{const{hoverTimeouts:i}=this;i.has(t)&&(window.clearTimeout(i.get(t)),i.delete(t))},this.closeExistingTooltip=()=>{const{tooltipEl:t}=this;t&&this.toggleTooltip(t,!1)},this.focusTooltip=({tooltip:t,value:i})=>{this.closeExistingTooltip(),i&&this.clearHoverTimeout(t),this.toggleTooltip(t,i)},this.toggleTooltip=(t,i)=>{t.open=i,i&&(this.tooltipEl=t)},this.hoverToggle=({tooltip:t,value:i})=>{const{hoverTimeouts:e}=this;e.delete(t),i&&this.closeExistingTooltip(),this.toggleTooltip(t,i)},this.hoverTooltip=({tooltip:t,value:i})=>{this.clearHoverTimeout(t);const{hoverTimeouts:o}=this,a=window.setTimeout((()=>this.hoverToggle({tooltip:t,value:i})),e.TOOLTIP_DELAY_MS);o.set(t,a)},this.activeTooltipHover=t=>{const{tooltipEl:i,hoverTimeouts:e}=this,{type:o}=t;i&&("mouseover"===o&&t.composedPath().includes(i)?this.clearHoverTimeout(i):"mouseout"!==o||e.has(i)||this.hoverTooltip({tooltip:i,value:!1}))},this.hoverEvent=(t,i)=>{const e=this.queryTooltip(t.composedPath());this.activeTooltipHover(t),e&&this.hoverTooltip({tooltip:e,value:i})},this.focusEvent=(t,i)=>{const e=this.queryTooltip(t.composedPath());e&&e!==this.clickedTooltip?this.focusTooltip({tooltip:e,value:i}):this.clickedTooltip=null}}render(){return i.h("slot",null)}keyUpHandler(t){if("Escape"===t.key){const{tooltipEl:t}=this;t&&(this.clearHoverTimeout(t),this.toggleTooltip(t,!1))}}mouseEnterShow(t){this.hoverEvent(t,!0)}mouseLeaveHide(t){this.hoverEvent(t,!1)}clickHandler(t){const i=this.queryTooltip(t.composedPath());this.clickedTooltip=i,i&&this.toggleTooltip(i,!1)}focusShow(t){this.focusEvent(t,!0)}blurHide(t){this.focusEvent(t,!1)}get el(){return this}static get style(){return a}},[1,"calcite-tooltip-manager",{selector:[1]},[[4,"keyup","keyUpHandler"],[3,"mouseover","mouseEnterShow"],[3,"mouseout","mouseLeaveHide"],[2,"click","clickHandler"],[2,"focus","focusShow"],[2,"blur","blurHide"]]]);function s(){if("undefined"==typeof customElements)return;["calcite-tooltip-manager"].forEach((t=>{if("calcite-tooltip-manager"===t)customElements.get(t)||customElements.define(t,n)}))}s(),t.TooltipManager=n,t.defineCustomElement=s}));
