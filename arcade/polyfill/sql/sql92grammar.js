// COPYRIGHT © 2022 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/3.41/esri/copyright.txt for details.

!function(r,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports&&(module.exports=t())}(0,(function(){"use strict";function r(t,e,n,u){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,r.prototype),o.expected=e,o.found=n,o.location=u,o.name="SyntaxError",o}function t(r,t,e){return e=e||" ",r.length>t?r:(t-=r.length,r+(e+=e.repeat(t)).slice(0,t))}return function(r,t){function e(){this.constructor=r}e.prototype=t.prototype,r.prototype=new e}(r,Error),r.prototype.format=function(r){var e="Error: "+this.message;if(this.location){var n,u=null;for(n=0;n<r.length;n++)if(r[n].source===this.location.source){u=r[n].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,i=this.location.source+":"+o.line+":"+o.column;if(u){var a=this.location.end,s=t("",o.line.toString().length),c=u[o.line-1],l=o.line===a.line?a.column:c.length+1;e+="\n --\x3e "+i+"\n"+s+" |\n"+o.line+" | "+c+"\n"+s+" | "+t("",o.column-1)+t("",l-o.column,"^")}else e+="\n at "+i}return e},r.buildMessage=function(r,t){var e={literal:function(r){return'"'+u(r.text)+'"'},class:function(r){var t=r.parts.map((function(r){return Array.isArray(r)?o(r[0])+"-"+o(r[1]):o(r)}));return"["+(r.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function u(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}function o(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}function i(r){return e[r.type](r)}return"Expected "+function(r){var t,e,n=r.map(i);if(n.sort(),n.length>0){for(t=1,e=1;t<n.length;t++)n[t-1]!==n[t]&&(n[e]=n[t],e++);n.length=e}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(r)+" but "+function(r){return r?'"'+u(r)+'"':"end of input"}(t)+" found."},{SyntaxError:r,parse:function(t,e){var n,u={},o=(e=void 0!==e?e:{}).grammarSource,i={start:kr},a=kr,s=/^[A-Za-z_\x80-\uFFFF]/,c=/^[A-Za-z0-9_]/,l=/^[A-Za-z0-9_.\x80-\uFFFF]/,f=/^[^']/,v=/^[0-9]/,p=/^[eE]/,d=/^[+\-]/,h=/^[ \t\n\r]/,b=/^[^`]/,y=zr("!",!1),A=zr("=",!1),g=zr(">=",!1),C=zr(">",!1),m=zr("<=",!1),E=zr("<>",!1),L=zr("<",!1),x=zr("!=",!1),T=zr("+",!1),w=zr("-",!1),N=zr("*",!1),O=zr("/",!1),R=Gr([["A","Z"],["a","z"],"_",["","￿"]],!1,!1),I=Gr([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),F=Gr([["A","Z"],["a","z"],["0","9"],"_",".",["","￿"]],!1,!1),S=zr("@",!1),M=zr("'",!1),D=zr("N'",!1),H=zr("''",!1),U=Gr(["'"],!0,!1),P=zr(".",!1),j=Gr([["0","9"]],!1,!1),B=Gr(["e","E"],!1,!1),_=Gr(["+","-"],!1,!1),z=zr("NULL",!0),G=zr("TRUE",!0),Z=zr("FALSE",!0),W=zr("IN",!0),Y=zr("IS",!0),q=zr("LIKE",!0),k=zr("ESCAPE",!0),K=zr("NOT",!0),V=zr("AND",!0),X=zr("OR",!0),$=zr("BETWEEN",!0),J=zr("FROM",!0),Q=zr("FOR",!0),rr=zr("SUBSTRING",!0),tr=zr("EXTRACT",!0),er=zr("TRIM",!0),nr=zr("POSITION",!0),ur=zr("TIMESTAMP",!0),or=zr("DATE",!0),ir=zr("LEADING",!0),ar=zr("TRAILING",!0),sr=zr("BOTH",!0),cr=zr("TO",!0),lr=zr("INTERVAL",!0),fr=zr("YEAR",!0),vr=zr("MONTH",!0),pr=zr("DAY",!0),dr=zr("HOUR",!0),hr=zr("MINUTE",!0),br=zr("SECOND",!0),yr=zr("CASE",!0),Ar=zr("END",!0),gr=zr("WHEN",!0),Cr=zr("THEN",!0),mr=zr("ELSE",!0),Er=zr(",",!1),Lr=zr("(",!1),xr=zr(")",!1),Tr=Gr([" ","\t","\n","\r"],!1,!1),wr=zr("`",!1),Nr=Gr(["`"],!0,!1),Or=function(r,t){var e={type:"expression-list"},n=function(r,t,e){return function(r,t){for(var e=[r],n=0;n<t.length;n++)e.push(t[n][3]);return e}(r,t)}(r,t);return e.value=n,e},Rr=function(r,t){return Jt(r,t)},Ir=function(r){return r[0]+" "+r[2]},Fr=function(r,t){return r+t.join("")},Sr=function(r){return{type:"interval-period",period:r.value,precision:null,secondary:null}},Mr=function(r,t){return{type:"interval-period",period:"second",precision:r,secondary:t}},Dr=function(r){return parseFloat(r)},Hr=function(r,t){return{type:"when-clause",operand:r,value:t}},Ur=0,Pr=[{line:1,column:1}],jr=0,Br=[],_r=0;if("startRule"in e){if(!(e.startRule in i))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=i[e.startRule]}function zr(r,t){return{type:"literal",text:r,ignoreCase:t}}function Gr(r,t,e){return{type:"class",parts:r,inverted:t,ignoreCase:e}}function Zr(r){var e,n=Pr[r];if(n)return n;for(e=r-1;!Pr[e];)e--;for(n={line:(n=Pr[e]).line,column:n.column};e<r;)10===t.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return Pr[r]=n,n}function Wr(r,t){var e=Zr(r),n=Zr(t);return{source:o,start:{offset:r,line:e.line,column:e.column},end:{offset:t,line:n.line,column:n.column}}}function Yr(r){Ur<jr||(Ur>jr&&(jr=Ur,Br=[]),Br.push(r))}function qr(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function kr(){var r,t;return r=Ur,Vt(),(t=Vr())!==u?(Vt(),r,r=t):(Ur=r,r=u),r}function Kr(){var r,t,e,n,o,i,a,s;if(r=Ur,(t=Vr())!==u){for(e=[],n=Ur,o=Vt(),(i=qt())!==u?(a=Vt(),(s=Vr())!==u?n=o=[o,i,a,s]:(Ur=n,n=u)):(Ur=n,n=u);n!==u;)e.push(n),n=Ur,o=Vt(),(i=qt())!==u?(a=Vt(),(s=Vr())!==u?n=o=[o,i,a,s]:(Ur=n,n=u)):(Ur=n,n=u);r,r=Or(t,e)}else Ur=r,r=u;return r}function Vr(){var r,t,e,n,o,i,a,s;if(r=Ur,(t=Xr())!==u){for(e=[],n=Ur,o=Vt(),(i=Ft())!==u?(a=Vt(),(s=Xr())!==u?n=o=[o,i,a,s]:(Ur=n,n=u)):(Ur=n,n=u);n!==u;)e.push(n),n=Ur,o=Vt(),(i=Ft())!==u?(a=Vt(),(s=Xr())!==u?n=o=[o,i,a,s]:(Ur=n,n=u)):(Ur=n,n=u);r,r=Rr(t,e)}else Ur=r,r=u;return r}function Xr(){var r,t,e,n,o,i,a,s;if(r=Ur,(t=$r())!==u){for(e=[],n=Ur,o=Vt(),(i=It())!==u?(a=Vt(),(s=$r())!==u?n=o=[o,i,a,s]:(Ur=n,n=u)):(Ur=n,n=u);n!==u;)e.push(n),n=Ur,o=Vt(),(i=It())!==u?(a=Vt(),(s=$r())!==u?n=o=[o,i,a,s]:(Ur=n,n=u)):(Ur=n,n=u);r,r=Rr(t,e)}else Ur=r,r=u;return r}function $r(){var r,e,n,o,i;return r=Ur,(e=Rt())===u&&(e=Ur,33===t.charCodeAt(Ur)?(n="!",Ur++):(n=u,0===_r&&Yr(y)),n!==u?(o=Ur,_r++,61===t.charCodeAt(Ur)?(i="=",Ur++):(i=u,0===_r&&Yr(A)),_r--,i===u?o=void 0:(Ur=o,o=u),o!==u?e=n=[n,o]:(Ur=e,e=u)):(Ur=e,e=u)),e!==u?(n=Vt(),(o=$r())!==u?(r,r={type:"unary-expression",operator:"NOT",expr:o}):(Ur=r,r=u)):(Ur=r,r=u),r===u&&(r=function(){var r,e,n;r=Ur,(e=tt())!==u?(Vt(),(n=function(){var r;(r=function(){var r,t,e,n,o,i,a;r=Ur,t=[],e=Ur,n=Vt(),(o=Jr())!==u?(i=Vt(),(a=tt())!==u?e=n=[n,o,i,a]:(Ur=e,e=u)):(Ur=e,e=u);if(e!==u)for(;e!==u;)t.push(e),e=Ur,n=Vt(),(o=Jr())!==u?(i=Vt(),(a=tt())!==u?e=n=[n,o,i,a]:(Ur=e,e=u)):(Ur=e,e=u);else t=u;t!==u&&(r,t={type:"arithmetic",tail:t});return r=t}())===u&&(r=function(){var r,t,e,n;r=Ur,(t=rt())!==u?(Vt(),(e=kt())!==u?(Vt(),(n=Kr())!==u?(Vt(),Kt()!==u?(r,r={op:t,right:n}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);r===u&&(r=Ur,(t=rt())!==u?(Vt(),(e=kt())!==u?(Vt(),(n=Kt())!==u?(r,r=function(r){return{op:r,right:{type:"expression-list",value:[]}}}(t)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u),r===u&&(r=Ur,(t=rt())!==u?(Vt(),(e=lt())!==u?(r,r=function(r,t){return{op:r,right:t}}(t,e)):(Ur=r,r=u)):(Ur=r,r=u)));return r}())===u&&(r=function(){var r,t,e,n,o,i;r=Ur,(t=Rt())!==u?(Vt(),(e=St())!==u?(Vt(),(n=tt())!==u?(Vt(),(o=It())!==u?(Vt(),(i=tt())!==u?(r,r={op:"NOT"+e,right:{type:"expression-list",value:[n,i]}}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);r===u&&(r=Ur,(t=St())!==u?(Vt(),(e=tt())!==u?(Vt(),(n=It())!==u?(Vt(),(o=tt())!==u?(r,r=function(r,t,e){return{op:r,right:{type:"expression-list",value:[t,e]}}}(t,e,o)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u));return r}())===u&&(r=function(){var r,t,e,n;r=Ur,(t=Nt())!==u?(Vt(),(e=Rt())!==u?(Vt(),(n=tt())!==u?(r,r={op:t+"NOT",right:n}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);r===u&&(r=Ur,(t=Nt())!==u?(Vt(),(e=tt())!==u?(r,r=function(r,t){return{op:r,right:t}}(t,e)):(Ur=r,r=u)):(Ur=r,r=u));return r}())===u&&(r=function(){var r,e,n,o;r=Ur,(e=Qr())!==u?(Vt(),(n=bt())!==u?(Vt(),function(){var r,e,n,o;r=Ur,"escape"===t.substr(Ur,6).toLowerCase()?(e=t.substr(Ur,6),Ur+=6):(e=u,0===_r&&Yr(k));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="ESCAPE"):(Ur=r,r=u)):(Ur=r,r=u);return r}()!==u?(Vt(),(o=yt())!==u?(r,r={op:e,right:n,escape:o.value}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);r===u&&(r=Ur,(e=Qr())!==u?(Vt(),(n=bt())!==u?(r,r=function(r,t){return{op:r,right:t,escape:""}}(e,n)):(Ur=r,r=u)):(Ur=r,r=u));return r}());return r}())===u&&(n=null),r,r=function(r,t){if(""==t||null==t||null==t)return r;return"arithmetic"==t.type?Jt(r,t.tail):$t(t.op,r,t.right,t.escape)}(e,n)):(Ur=r,r=u);return r}()),r}function Jr(){var r;return">="===t.substr(Ur,2)?(r=">=",Ur+=2):(r=u,0===_r&&Yr(g)),r===u&&(62===t.charCodeAt(Ur)?(r=">",Ur++):(r=u,0===_r&&Yr(C)),r===u&&("<="===t.substr(Ur,2)?(r="<=",Ur+=2):(r=u,0===_r&&Yr(m)),r===u&&("<>"===t.substr(Ur,2)?(r="<>",Ur+=2):(r=u,0===_r&&Yr(E)),r===u&&(60===t.charCodeAt(Ur)?(r="<",Ur++):(r=u,0===_r&&Yr(L)),r===u&&(61===t.charCodeAt(Ur)?(r="=",Ur++):(r=u,0===_r&&Yr(A)),r===u&&("!="===t.substr(Ur,2)?(r="!=",Ur+=2):(r=u,0===_r&&Yr(x)))))))),r}function Qr(){var r,t,e,n,o;return r=Ur,t=Ur,(e=Rt())!==u?(n=Vt(),(o=Ot())!==u?t=e=[e,n,o]:(Ur=t,t=u)):(Ur=t,t=u),t!==u&&(r,t=Ir(t)),(r=t)===u&&(r=Ot()),r}function rt(){var r,t,e,n,o;return r=Ur,t=Ur,(e=Rt())!==u?(n=Vt(),(o=wt())!==u?t=e=[e,n,o]:(Ur=t,t=u)):(Ur=t,t=u),t!==u&&(r,t=Ir(t)),(r=t)===u&&(r=wt()),r}function tt(){var r,t,e,n,o,i,a,s;if(r=Ur,(t=nt())!==u){for(e=[],n=Ur,o=Vt(),(i=et())!==u?(a=Vt(),(s=nt())!==u?n=o=[o,i,a,s]:(Ur=n,n=u)):(Ur=n,n=u);n!==u;)e.push(n),n=Ur,o=Vt(),(i=et())!==u?(a=Vt(),(s=nt())!==u?n=o=[o,i,a,s]:(Ur=n,n=u)):(Ur=n,n=u);r,r=Rr(t,e)}else Ur=r,r=u;return r}function et(){var r;return 43===t.charCodeAt(Ur)?(r="+",Ur++):(r=u,0===_r&&Yr(T)),r===u&&(45===t.charCodeAt(Ur)?(r="-",Ur++):(r=u,0===_r&&Yr(w))),r}function nt(){var r,t,e,n,o,i,a,s;if(r=Ur,(t=ot())!==u){for(e=[],n=Ur,o=Vt(),(i=ut())!==u?(a=Vt(),(s=ot())!==u?n=o=[o,i,a,s]:(Ur=n,n=u)):(Ur=n,n=u);n!==u;)e.push(n),n=Ur,o=Vt(),(i=ut())!==u?(a=Vt(),(s=ot())!==u?n=o=[o,i,a,s]:(Ur=n,n=u)):(Ur=n,n=u);r,r=Jt(t,e)}else Ur=r,r=u;return r}function ut(){var r;return 42===t.charCodeAt(Ur)?(r="*",Ur++):(r=u,0===_r&&Yr(N)),r===u&&(47===t.charCodeAt(Ur)?(r="/",Ur++):(r=u,0===_r&&Yr(O))),r}function ot(){var r,e,n;return(r=function(){var r;(r=yt())===u&&(r=function(){var r,t,e,n;r=Ur,(t=function(){var r,t,e,n;r=Ur,(t=mt())!==u&&(e=Et())!==u&&(n=Lt())!==u?(r,r=parseFloat(t+e+n)):(Ur=r,r=u);r===u&&(r=Ur,(t=mt())!==u&&(e=Et())!==u?(r,r=function(r,t){return parseFloat(r+t)}(t,e)):(Ur=r,r=u),r===u&&(r=Ur,(t=mt())!==u&&(e=Lt())!==u?(r,r=function(r,t){return parseFloat(r+t)}(t,e)):(Ur=r,r=u),r===u&&(r=Ur,(t=mt())!==u&&(r,t=function(r){return parseFloat(r)}(t)),r=t)));return r}())!==u?(e=Ur,_r++,n=at(),_r--,n===u?e=void 0:(Ur=e,e=u),e!==u?(r,r={type:"number",value:t}):(Ur=r,r=u)):(Ur=r,r=u);return r}())===u&&(r=function(){var r,e;r=Ur,(e=function(){var r,e,n,o;r=Ur,"true"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(G));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?r=e=[e,n]:(Ur=r,r=u)):(Ur=r,r=u);return r}())!==u&&(r,e={type:"boolean",value:!0});(r=e)===u&&(r=Ur,(e=function(){var r,e,n,o;r=Ur,"false"===t.substr(Ur,5).toLowerCase()?(e=t.substr(Ur,5),Ur+=5):(e=u,0===_r&&Yr(Z));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?r=e=[e,n]:(Ur=r,r=u)):(Ur=r,r=u);return r}())!==u&&(r,e={type:"boolean",value:!1}),r=e);return r}())===u&&(r=function(){var r,e;r=Ur,(e=function(){var r,e,n,o;r=Ur,"null"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(z));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?r=e=[e,n]:(Ur=r,r=u)):(Ur=r,r=u);return r}())!==u&&(r,e={type:"null",value:null});return r=e}())===u&&(r=function(){var r,e;r=Ur,function(){var r,e,n,o;r=Ur,"date"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(or));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="DATE"):(Ur=r,r=u)):(Ur=r,r=u);return r}()!==u?(Vt(),(e=bt())!==u?(r,r={type:"date",value:e.value}):(Ur=r,r=u)):(Ur=r,r=u);return r}())===u&&(r=function(){var r,e;r=Ur,function(){var r,e,n,o;r=Ur,"timestamp"===t.substr(Ur,9).toLowerCase()?(e=t.substr(Ur,9),Ur+=9):(e=u,0===_r&&Yr(ur));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="TIMESTAMP"):(Ur=r,r=u)):(Ur=r,r=u);return r}()!==u?(Vt(),(e=bt())!==u?(r,r={type:"timestamp",value:e.value}):(Ur=r,r=u)):(Ur=r,r=u);return r}())===u&&(r=function(){var r,e,n,o;r=Ur,Ht()!==u?(Vt(),45===t.charCodeAt(Ur)?(e="-",Ur++):(e=u,0===_r&&Yr(w)),e===u&&(43===t.charCodeAt(Ur)?(e="+",Ur++):(e=u,0===_r&&Yr(T))),e!==u?(Vt(),(n=bt())!==u?(Vt(),(o=vt())!==u?(r,r={type:"interval",value:n,qualifier:o,op:e}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);r===u&&(r=Ur,Ht()!==u?(Vt(),(e=bt())!==u?(Vt(),(n=vt())!==u?(r,r=function(r,t){return{type:"interval",value:r,qualifier:t,op:""}}(e,n)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u));return r}());return r}())===u&&(r=function(){var r,e,n;r=Ur,function(){var r,e,n,o;r=Ur,"extract"===t.substr(Ur,7).toLowerCase()?(e=t.substr(Ur,7),Ur+=7):(e=u,0===_r&&Yr(tr));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="EXTRACT"):(Ur=r,r=u)):(Ur=r,r=u);return r}()!==u?(Vt(),kt()!==u?(Vt(),(e=function(){var r;(r=Ut())===u&&(r=Pt())===u&&(r=jt())===u&&(r=Bt())===u&&(r=_t())===u&&(r=zt());return r}())!==u?(Vt(),Mt()!==u?(Vt(),(n=Vr())!==u?(Vt(),Kt()!==u?(r,r={type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:e},n]}}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);return r}())===u&&(r=function(){var r,e,n,o,i,a,s,c;r=Ur,function(){var r,e,n,o;r=Ur,"substring"===t.substr(Ur,9).toLowerCase()?(e=t.substr(Ur,9),Ur+=9):(e=u,0===_r&&Yr(rr));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="SUBSTRING"):(Ur=r,r=u)):(Ur=r,r=u);return r}()!==u?(Vt(),kt()!==u?(Vt(),(e=Vr())!==u?(Vt(),Mt()!==u?(Vt(),(n=Vr())!==u?(Vt(),o=Ur,(i=function(){var r,e,n,o;r=Ur,"for"===t.substr(Ur,3).toLowerCase()?(e=t.substr(Ur,3),Ur+=3):(e=u,0===_r&&Yr(Q));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="FOR"):(Ur=r,r=u)):(Ur=r,r=u);return r}())!==u?(a=Vt(),(s=Vr())!==u?(c=Vt(),o=i=[i,a,s,c]):(Ur=o,o=u)):(Ur=o,o=u),o===u&&(o=null),(i=Kt())!==u?(r,l=e,f=n,r={type:"function",name:"substring",args:{type:"expression-list",value:(v=o)?[l,f,v[2]]:[l,f]}}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);var l,f,v;return r}())===u&&(r=function(){var r,t,e,n;r=Ur,Dt()!==u?(Vt(),kt()!==u?(Vt(),(t=ft())===u&&(t=null),Vt(),(e=Vr())!==u?(Vt(),Mt()!==u?(Vt(),(n=Vr())!==u?(Vt(),Kt()!==u?(r,r={type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null==(o=t)?"BOTH":o},e,n]}}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);var o;r===u&&(r=Ur,Dt()!==u?(Vt(),kt()!==u?(Vt(),(t=ft())===u&&(t=null),Vt(),(e=Vr())!==u?(Vt(),Kt()!==u?(r,r=function(r,t){return{type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null==r?"BOTH":r},t]}}}(t,e)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u));return r}())===u&&(r=function(){var r,e,n;r=Ur,function(){var r,e,n,o;r=Ur,"position"===t.substr(Ur,8).toLowerCase()?(e=t.substr(Ur,8),Ur+=8):(e=u,0===_r&&Yr(nr));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="POSITION"):(Ur=r,r=u)):(Ur=r,r=u);return r}()!==u?(Vt(),kt()!==u?(Vt(),(e=Vr())!==u?(Vt(),wt()!==u?(Vt(),(n=Vr())!==u?(Vt(),Kt()!==u?(r,r={type:"function",name:"position",args:{type:"expression-list",value:[e,n]}}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);return r}())===u&&(r=function(){var r,e,n;r=Ur,(e=function(){var r,e,n,o;r=Ur,(e=it())!==u&&(r,e=e);if((r=e)===u)if(r=Ur,96===t.charCodeAt(Ur)?(e="`",Ur++):(e=u,0===_r&&Yr(wr)),e!==u){if(n=[],b.test(t.charAt(Ur))?(o=t.charAt(Ur),Ur++):(o=u,0===_r&&Yr(Nr)),o!==u)for(;o!==u;)n.push(o),b.test(t.charAt(Ur))?(o=t.charAt(Ur),Ur++):(o=u,0===_r&&Yr(Nr));else n=u;n!==u?(96===t.charCodeAt(Ur)?(o="`",Ur++):(o=u,0===_r&&Yr(wr)),o!==u?(r,r=n.join("")):(Ur=r,r=u)):(Ur=r,r=u)}else Ur=r,r=u;return r}())!==u?(Vt(),kt()!==u?(Vt(),(n=Kr())===u&&(n=null),Vt(),Kt()!==u?(r,r={type:"function",name:e,args:n||{type:"expression-list",value:[]}}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);return r}())===u&&(r=function(){var r;(r=function(){var r,t,e,n,o;if(r=Ur,Gt()!==u)if(Vt(),(t=Vr())!==u){for(Vt(),e=[],n=gt();n!==u;)e.push(n),n=gt();n=Vt(),(o=Zt())!==u?(r,r={type:"case-expression",format:"simple",operand:t,clauses:e,else:null}):(Ur=r,r=u)}else Ur=r,r=u;else Ur=r,r=u;if(r===u)if(r=Ur,Gt()!==u)if(Vt(),(t=Vr())!==u){for(Vt(),e=[],n=gt();n!==u;)e.push(n),n=gt();n=Vt(),(o=Ct())!==u?(Vt(),Zt()!==u?(r,r=function(r,t,e){return{type:"case-expression",format:"simple",operand:r,clauses:t,else:e.value}}(t,e,o)):(Ur=r,r=u)):(Ur=r,r=u)}else Ur=r,r=u;else Ur=r,r=u;return r}())===u&&(r=function(){var r,t,e,n;if(r=Ur,Gt()!==u){for(Vt(),t=[],e=At();e!==u;)t.push(e),e=At();e=Vt(),(n=Zt())!==u?(r,r={type:"case-expression",format:"searched",clauses:t,else:null}):(Ur=r,r=u)}else Ur=r,r=u;if(r===u)if(r=Ur,Gt()!==u){for(Vt(),t=[],e=At();e!==u;)t.push(e),e=At();e=Vt(),(n=Ct())!==u?(Vt(),Zt()!==u?(r,r=function(r,t){return{type:"case-expression",format:"searched",clauses:r,else:t.value}}(t,n)):(Ur=r,r=u)):(Ur=r,r=u)}else Ur=r,r=u;return r}());return r}())===u&&(r=function(){var r,t;r=Ur,(t=function(){var r,t;r=Ur,(t=function(){var r,t,e,n;if(r=Ur,(t=at())!==u){for(e=[],n=ct();n!==u;)e.push(n),n=ct();r,r=Fr(t,e)}else Ur=r,r=u;return r}())!==u&&(r,t=t);return r=t}())!==u&&(r,t=/^CURRENT_DATE$/i.test(e=t)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(e)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:e});var e;return r=t}())===u&&(r=lt())===u&&(r=Ur,kt()!==u?(Vt(),(e=Vr())!==u?(Vt(),Kt()!==u?(r,(n=e).paren=!0,r=n):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)),r}function it(){var r,t,e,n;if(r=Ur,(t=at())!==u){for(e=[],n=st();n!==u;)e.push(n),n=st();r,r=Fr(t,e)}else Ur=r,r=u;return r}function at(){var r;return s.test(t.charAt(Ur))?(r=t.charAt(Ur),Ur++):(r=u,0===_r&&Yr(R)),r}function st(){var r;return c.test(t.charAt(Ur))?(r=t.charAt(Ur),Ur++):(r=u,0===_r&&Yr(I)),r}function ct(){var r;return l.test(t.charAt(Ur))?(r=t.charAt(Ur),Ur++):(r=u,0===_r&&Yr(F)),r}function lt(){var r,e,n,o;return r=Ur,e=Ur,64===t.charCodeAt(Ur)?(n="@",Ur++):(n=u,0===_r&&Yr(S)),n!==u&&(o=it())!==u?e=n=[n,o]:(Ur=e,e=u),e!==u&&(r,e={type:"parameter",value:e[1]}),r=e}function ft(){var r;return(r=function(){var r,e,n,o;r=Ur,"leading"===t.substr(Ur,7).toLowerCase()?(e=t.substr(Ur,7),Ur+=7):(e=u,0===_r&&Yr(ir));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="LEADING"):(Ur=r,r=u)):(Ur=r,r=u);return r}())===u&&(r=function(){var r,e,n,o;r=Ur,"trailing"===t.substr(Ur,8).toLowerCase()?(e=t.substr(Ur,8),Ur+=8):(e=u,0===_r&&Yr(ar));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="TRAILING"):(Ur=r,r=u)):(Ur=r,r=u);return r}())===u&&(r=function(){var r,e,n,o;r=Ur,"both"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(sr));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="BOTH"):(Ur=r,r=u)):(Ur=r,r=u);return r}()),r}function vt(){var r,e,n;return r=Ur,(e=function(){var r,t,e;r=Ur,(t=pt())!==u?(Vt(),kt()!==u?(Vt(),(e=ht())!==u?(Vt(),Kt()!==u?(r,n=e,r={type:"interval-period",period:t.value,precision:n,secondary:null}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);var n;r===u&&(r=Ur,(t=pt())!==u&&(r,t=Sr(t)),r=t);return r}())!==u?(Vt(),function(){var r,e,n,o;r=Ur,"to"===t.substr(Ur,2).toLowerCase()?(e=t.substr(Ur,2),Ur+=2):(e=u,0===_r&&Yr(cr));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="TO"):(Ur=r,r=u)):(Ur=r,r=u);return r}()!==u?(Vt(),(n=function(){var r,t,e,n;r=Ur,(t=pt())!==u&&(r,t={type:"interval-period",period:t.value,precision:null,secondary:null});(r=t)===u&&(r=Ur,(t=zt())!==u?(Vt(),kt()!==u?(Vt(),(e=ht())!==u?(Vt(),qt()!==u?(Vt(),(n=dt())!==u?(Vt(),Kt()!==u?(r,r=Mr(e,n)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u),r===u&&(r=Ur,(t=zt())!==u?(Vt(),kt()!==u?(Vt(),(e=ht())!==u?(Vt(),Kt()!==u?(r,r={type:"interval-period",period:"second",precision:e,secondary:null}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u),r===u&&(r=Ur,(t=zt())!==u&&(r,t={type:"interval-period",period:"second",precision:null,secondary:null}),r=t)));return r}())!==u?(r,r={type:"interval-qualifier",start:e,end:n}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u),r===u&&(r=function(){var r,t,e,n;r=Ur,(t=pt())!==u?(Vt(),kt()!==u?(Vt(),(e=dt())!==u?(Vt(),Kt()!==u?(r,o=e,r={type:"interval-period",period:t.value,precision:o,secondary:null}):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u);var o;r===u&&(r=Ur,(t=pt())!==u&&(r,t=Sr(t)),(r=t)===u&&(r=Ur,(t=zt())!==u?(Vt(),kt()!==u?(Vt(),(e=ht())!==u?(Vt(),qt()!==u?(Vt(),(n=dt())!==u?(Vt(),Kt()!==u?(r,r=Mr(e,n)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u),r===u&&(r=Ur,(t=zt())!==u?(Vt(),kt()!==u?(Vt(),(e=dt())!==u?(Vt(),Kt()!==u?(r,r=function(r){return{type:"interval-period",period:"second",precision:r,secondary:null}}(e)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u),r===u&&(r=Ur,(t=zt())!==u&&(r,t={type:"interval-period",period:"second",precision:null,secondary:null}),r=t))));return r}()),r}function pt(){var r,t;return r=Ur,(t=jt())!==u&&(r,t={type:"string",value:"day"}),(r=t)===u&&(r=Ur,(t=Bt())!==u&&(r,t={type:"string",value:"hour"}),(r=t)===u&&(r=Ur,(t=_t())!==u&&(r,t={type:"string",value:"minute"}),(r=t)===u&&(r=Ur,(t=Pt())!==u&&(r,t={type:"string",value:"month"}),(r=t)===u&&(r=Ur,(t=Ut())!==u&&(r,t={type:"string",value:"year"}),r=t)))),r}function dt(){var r,t;return r=Ur,(t=xt())!==u&&(r,t=Dr(t)),r=t}function ht(){var r,t;return r=Ur,(t=xt())!==u&&(r,t=Dr(t)),r=t}function bt(){var r;return(r=yt())===u&&(r=lt()),r}function yt(){var r,e,n,o,i;if(r=Ur,39===t.charCodeAt(Ur)?(e="'",Ur++):(e=u,0===_r&&Yr(M)),e===u&&("N'"===t.substr(Ur,2)?(e="N'",Ur+=2):(e=u,0===_r&&Yr(D))),e!==u){for(n=[],o=Ur,"''"===t.substr(Ur,2)?(i="''",Ur+=2):(i=u,0===_r&&Yr(H)),i!==u&&(o,i="'"),(o=i)===u&&(f.test(t.charAt(Ur))?(o=t.charAt(Ur),Ur++):(o=u,0===_r&&Yr(U)));o!==u;)n.push(o),o=Ur,"''"===t.substr(Ur,2)?(i="''",Ur+=2):(i=u,0===_r&&Yr(H)),i!==u&&(o,i="'"),(o=i)===u&&(f.test(t.charAt(Ur))?(o=t.charAt(Ur),Ur++):(o=u,0===_r&&Yr(U)));39===t.charCodeAt(Ur)?(o="'",Ur++):(o=u,0===_r&&Yr(M)),o!==u?(r,r={type:"string",value:n.join("")}):(Ur=r,r=u)}else Ur=r,r=u;return r}function At(){var r,t,e;return r=Ur,Wt()!==u?(Vt(),(t=Vr())!==u?(Vt(),Yt()!==u?(Vt(),(e=Vr())!==u?(r,r=Hr(t,e)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u),r}function gt(){var r,t,e;return r=Ur,Wt()!==u?(Vt(),(t=Vr())!==u?(Vt(),Yt()!==u?(Vt(),(e=Vr())!==u?(r,r=Hr(t,e)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u)):(Ur=r,r=u),r}function Ct(){var r,e;return r=Ur,function(){var r,e,n,o;r=Ur,"else"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(mr));e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="ELSE"):(Ur=r,r=u)):(Ur=r,r=u);return r}()!==u?(Vt(),(e=Vr())!==u?(r,r={type:"else-clause",value:e}):(Ur=r,r=u)):(Ur=r,r=u),r}function mt(){var r,e,n,o;return(r=xt())===u&&(r=Ur,45===t.charCodeAt(Ur)?(e="-",Ur++):(e=u,0===_r&&Yr(w)),e===u&&(43===t.charCodeAt(Ur)?(e="+",Ur++):(e=u,0===_r&&Yr(T))),e!==u&&(n=xt())!==u?(r,o=n,r=e[0]+o):(Ur=r,r=u)),r}function Et(){var r,e,n,o;return r=Ur,46===t.charCodeAt(Ur)?(e=".",Ur++):(e=u,0===_r&&Yr(P)),e!==u?((n=xt())===u&&(n=null),r,r="."+(null!=(o=n)?o:"")):(Ur=r,r=u),r}function Lt(){var r,e,n;return r=Ur,(e=function(){var r,e,n;r=Ur,p.test(t.charAt(Ur))?(e=t.charAt(Ur),Ur++):(e=u,0===_r&&Yr(B));e!==u?(d.test(t.charAt(Ur))?(n=t.charAt(Ur),Ur++):(n=u,0===_r&&Yr(_)),n===u&&(n=null),r,r="e"+(null===(o=n)?"":o)):(Ur=r,r=u);var o;return r}())!==u&&(n=xt())!==u?(r,r=e+n):(Ur=r,r=u),r}function xt(){var r,t,e;if(r=Ur,t=[],(e=Tt())!==u)for(;e!==u;)t.push(e),e=Tt();else t=u;return t!==u&&(r,t=t.join("")),r=t}function Tt(){var r;return v.test(t.charAt(Ur))?(r=t.charAt(Ur),Ur++):(r=u,0===_r&&Yr(j)),r}function wt(){var r,e,n,o;return r=Ur,"in"===t.substr(Ur,2).toLowerCase()?(e=t.substr(Ur,2),Ur+=2):(e=u,0===_r&&Yr(W)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="IN"):(Ur=r,r=u)):(Ur=r,r=u),r}function Nt(){var r,e,n,o;return r=Ur,"is"===t.substr(Ur,2).toLowerCase()?(e=t.substr(Ur,2),Ur+=2):(e=u,0===_r&&Yr(Y)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="IS"):(Ur=r,r=u)):(Ur=r,r=u),r}function Ot(){var r,e,n,o;return r=Ur,"like"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(q)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="LIKE"):(Ur=r,r=u)):(Ur=r,r=u),r}function Rt(){var r,e,n,o;return r=Ur,"not"===t.substr(Ur,3).toLowerCase()?(e=t.substr(Ur,3),Ur+=3):(e=u,0===_r&&Yr(K)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="NOT"):(Ur=r,r=u)):(Ur=r,r=u),r}function It(){var r,e,n,o;return r=Ur,"and"===t.substr(Ur,3).toLowerCase()?(e=t.substr(Ur,3),Ur+=3):(e=u,0===_r&&Yr(V)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="AND"):(Ur=r,r=u)):(Ur=r,r=u),r}function Ft(){var r,e,n,o;return r=Ur,"or"===t.substr(Ur,2).toLowerCase()?(e=t.substr(Ur,2),Ur+=2):(e=u,0===_r&&Yr(X)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="OR"):(Ur=r,r=u)):(Ur=r,r=u),r}function St(){var r,e,n,o;return r=Ur,"between"===t.substr(Ur,7).toLowerCase()?(e=t.substr(Ur,7),Ur+=7):(e=u,0===_r&&Yr($)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="BETWEEN"):(Ur=r,r=u)):(Ur=r,r=u),r}function Mt(){var r,e,n,o;return r=Ur,"from"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(J)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="FROM"):(Ur=r,r=u)):(Ur=r,r=u),r}function Dt(){var r,e,n,o;return r=Ur,"trim"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(er)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="TRIM"):(Ur=r,r=u)):(Ur=r,r=u),r}function Ht(){var r,e,n,o;return r=Ur,"interval"===t.substr(Ur,8).toLowerCase()?(e=t.substr(Ur,8),Ur+=8):(e=u,0===_r&&Yr(lr)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="INTERVAL"):(Ur=r,r=u)):(Ur=r,r=u),r}function Ut(){var r,e,n,o;return r=Ur,"year"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(fr)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="YEAR"):(Ur=r,r=u)):(Ur=r,r=u),r}function Pt(){var r,e,n,o;return r=Ur,"month"===t.substr(Ur,5).toLowerCase()?(e=t.substr(Ur,5),Ur+=5):(e=u,0===_r&&Yr(vr)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="MONTH"):(Ur=r,r=u)):(Ur=r,r=u),r}function jt(){var r,e,n,o;return r=Ur,"day"===t.substr(Ur,3).toLowerCase()?(e=t.substr(Ur,3),Ur+=3):(e=u,0===_r&&Yr(pr)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="DAY"):(Ur=r,r=u)):(Ur=r,r=u),r}function Bt(){var r,e,n,o;return r=Ur,"hour"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(dr)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="HOUR"):(Ur=r,r=u)):(Ur=r,r=u),r}function _t(){var r,e,n,o;return r=Ur,"minute"===t.substr(Ur,6).toLowerCase()?(e=t.substr(Ur,6),Ur+=6):(e=u,0===_r&&Yr(hr)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="MINUTE"):(Ur=r,r=u)):(Ur=r,r=u),r}function zt(){var r,e,n,o;return r=Ur,"second"===t.substr(Ur,6).toLowerCase()?(e=t.substr(Ur,6),Ur+=6):(e=u,0===_r&&Yr(br)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="SECOND"):(Ur=r,r=u)):(Ur=r,r=u),r}function Gt(){var r,e,n,o;return r=Ur,"case"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(yr)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="CASE"):(Ur=r,r=u)):(Ur=r,r=u),r}function Zt(){var r,e,n,o;return r=Ur,"end"===t.substr(Ur,3).toLowerCase()?(e=t.substr(Ur,3),Ur+=3):(e=u,0===_r&&Yr(Ar)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="END"):(Ur=r,r=u)):(Ur=r,r=u),r}function Wt(){var r,e,n,o;return r=Ur,"when"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(gr)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="WHEN"):(Ur=r,r=u)):(Ur=r,r=u),r}function Yt(){var r,e,n,o;return r=Ur,"then"===t.substr(Ur,4).toLowerCase()?(e=t.substr(Ur,4),Ur+=4):(e=u,0===_r&&Yr(Cr)),e!==u?(n=Ur,_r++,o=st(),_r--,o===u?n=void 0:(Ur=n,n=u),n!==u?(r,r="THEN"):(Ur=r,r=u)):(Ur=r,r=u),r}function qt(){var r;return 44===t.charCodeAt(Ur)?(r=",",Ur++):(r=u,0===_r&&Yr(Er)),r}function kt(){var r;return 40===t.charCodeAt(Ur)?(r="(",Ur++):(r=u,0===_r&&Yr(Lr)),r}function Kt(){var r;return 41===t.charCodeAt(Ur)?(r=")",Ur++):(r=u,0===_r&&Yr(xr)),r}function Vt(){var r,t;for(r=[],t=Xt();t!==u;)r.push(t),t=Xt();return r}function Xt(){var r;return h.test(t.charAt(Ur))?(r=t.charAt(Ur),Ur++):(r=u,0===_r&&Yr(Tr)),r}function $t(r,t,e,n){var u={type:"binary-expression",operator:r,left:t,right:e};return void 0!==n&&(u.escape=n),u}function Jt(r,t){for(var e=r,n=0;n<t.length;n++)e=$t(t[n][1],e,t[n][3]);return e}if((n=a())!==u&&Ur===t.length)return n;throw n!==u&&Ur<t.length&&Yr({type:"end"}),qr(Br,jr<t.length?t.charAt(jr):null,jr<t.length?Wr(jr,jr+1):Wr(jr,jr))}}}));