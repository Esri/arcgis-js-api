/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../geometry/Geometry","../../geometry/Point","../../geometry/Extent","../../geometry/Multipoint","../../geometry/Polygon","../../geometry/Polyline","../../geometry/support/jsonUtils","../../kernel","../../chunks/languageUtils","./centroid","../kernel"],(function(e,n,t,r,o,i,u,l,a,f,c,s){"use strict";let m=null;function g(e){return 0===a.version.indexOf("4.")?i.fromExtent(e):new i({spatialReference:e.spatialReference,rings:[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]})}e.registerFunctions=function(e,a){function d(e){if(f.pcCheck(e,2,2),e[0]instanceof n&&e[1]instanceof n);else if(e[0]instanceof n&&null===e[1]);else if(e[1]instanceof n&&null===e[0]);else if(null!==e[0]||null!==e[1])throw new Error("Illegal Argument")}e.disjoint=function(e,n){return a(e,n,(function(e,n,t){return d(t=f.autoCastFeatureToGeometry(t)),null===t[0]||null===t[1]||m.disjoint(t[0],t[1])}))},e.intersects=function(e,n){return a(e,n,(function(e,n,t){return d(t=f.autoCastFeatureToGeometry(t)),null!==t[0]&&null!==t[1]&&m.intersects(t[0],t[1])}))},e.touches=function(e,n){return a(e,n,(function(e,n,t){return d(t=f.autoCastFeatureToGeometry(t)),null!==t[0]&&null!==t[1]&&m.touches(t[0],t[1])}))},e.crosses=function(e,n){return a(e,n,(function(e,n,t){return d(t=f.autoCastFeatureToGeometry(t)),null!==t[0]&&null!==t[1]&&m.crosses(t[0],t[1])}))},e.within=function(e,n){return a(e,n,(function(e,n,t){return d(t=f.autoCastFeatureToGeometry(t)),null!==t[0]&&null!==t[1]&&m.within(t[0],t[1])}))},e.contains=function(e,n){return a(e,n,(function(e,n,t){return d(t=f.autoCastFeatureToGeometry(t)),null!==t[0]&&null!==t[1]&&m.contains(t[0],t[1])}))},e.overlaps=function(e,n){return a(e,n,(function(e,n,t){return d(t=f.autoCastFeatureToGeometry(t)),null!==t[0]&&null!==t[1]&&m.overlaps(t[0],t[1])}))},e.equals=function(e,t){return a(e,t,(function(e,t,r){return f.pcCheck(r,2,2),r[0]===r[1]||(r[0]instanceof n&&r[1]instanceof n?m.equals(r[0],r[1]):!(!f.isDate(r[0])||!f.isDate(r[1]))&&r[0].getTime()===r[1].getTime())}))},e.relate=function(e,t){return a(e,t,(function(e,t,r){if(r=f.autoCastFeatureToGeometry(r),f.pcCheck(r,3,3),r[0]instanceof n&&r[1]instanceof n)return m.relate(r[0],r[1],f.toString(r[2]));if(r[0]instanceof n&&null===r[1])return!1;if(r[1]instanceof n&&null===r[0])return!1;if(null===r[0]&&null===r[1])return!1;throw new Error("Illegal Argument")}))},e.intersection=function(e,n){return a(e,n,(function(e,n,t){return d(t=f.autoCastFeatureToGeometry(t)),null===t[0]||null===t[1]?null:m.intersect(t[0],t[1])}))},e.union=function(e,t){return a(e,t,(function(t,r,o){const i=[];if(0===(o=f.autoCastFeatureToGeometry(o)).length)throw new Error("Function called with wrong number of Parameters");if(1===o.length)if(f.isArray(o[0])){const e=f.autoCastFeatureToGeometry(o[0]);for(let t=0;t<e.length;t++)if(null!==e[t]){if(!(e[t]instanceof n))throw new Error("Illegal Argument");i.push(e[t])}}else{if(!f.isImmutableArray(o[0])){if(o[0]instanceof n)return f.fixSpatialReference(s.cloneGeometry(o[0]),e.spatialReference);if(null===o[0])return null;throw new Error("Illegal Argument")}{const e=f.autoCastFeatureToGeometry(o[0].toArray());for(let t=0;t<e.length;t++)if(null!==e[t]){if(!(e[t]instanceof n))throw new Error("Illegal Argument");i.push(e[t])}}}else for(let e=0;e<o.length;e++)if(null!==o[e]){if(!(o[e]instanceof n))throw new Error("Illegal Argument");i.push(o[e])}return 0===i.length?null:m.union(i)}))},e.difference=function(e,n){return a(e,n,(function(e,n,t){return d(t=f.autoCastFeatureToGeometry(t)),null!==t[0]&&null===t[1]?s.cloneGeometry(t[0]):null===t[0]?null:m.difference(t[0],t[1])}))},e.symmetricdifference=function(e,n){return a(e,n,(function(e,n,t){return d(t=f.autoCastFeatureToGeometry(t)),null===t[0]&&null===t[1]?null:null===t[0]?s.cloneGeometry(t[1]):null===t[1]?s.cloneGeometry(t[0]):m.symmetricDifference(t[0],t[1])}))},e.clip=function(e,t){return a(e,t,(function(e,t,o){if(o=f.autoCastFeatureToGeometry(o),f.pcCheck(o,2,2),!(o[1]instanceof r)&&null!==o[1])throw new Error("Illegal Argument");if(null===o[0])return null;if(!(o[0]instanceof n))throw new Error("Illegal Argument");return null===o[1]?null:m.clip(o[0],o[1])}))},e.cut=function(e,t){return a(e,t,(function(e,t,r){if(r=f.autoCastFeatureToGeometry(r),f.pcCheck(r,2,2),!(r[1]instanceof u)&&null!==r[1])throw new Error("Illegal Argument");if(null===r[0])return[];if(!(r[0]instanceof n))throw new Error("Illegal Argument");return null===r[1]?[s.cloneGeometry(r[0])]:m.cut(r[0],r[1])}))},e.area=function(e,t){return a(e,t,(function(t,r,o){if(f.pcCheck(o,1,2),null===(o=f.autoCastFeatureToGeometry(o))[0])return 0;if(f.isArray(o[0])||f.isImmutableArray(o[0])){const n=f.autoCastArrayOfPointsToPolygon(o[0],e.spatialReference);return null===n?0:m.planarArea(n,s.convertSquareUnitsToCode(f.defaultUndefined(o[1],-1)))}if(!(o[0]instanceof n))throw new Error("Illegal Argument");return m.planarArea(o[0],s.convertSquareUnitsToCode(f.defaultUndefined(o[1],-1)))}))},e.areageodetic=function(e,t){return a(e,t,(function(t,r,o){if(f.pcCheck(o,1,2),null===(o=f.autoCastFeatureToGeometry(o))[0])return 0;if(f.isArray(o[0])||f.isImmutableArray(o[0])){const n=f.autoCastArrayOfPointsToPolygon(o[0],e.spatialReference);return null===n?0:m.geodesicArea(n,s.convertSquareUnitsToCode(f.defaultUndefined(o[1],-1)))}if(!(o[0]instanceof n))throw new Error("Illegal Argument");return m.geodesicArea(o[0],s.convertSquareUnitsToCode(f.defaultUndefined(o[1],-1)))}))},e.length=function(e,t){return a(e,t,(function(t,r,o){if(f.pcCheck(o,1,2),null===(o=f.autoCastFeatureToGeometry(o))[0])return 0;if(f.isArray(o[0])||f.isImmutableArray(o[0])){const n=f.autoCastArrayOfPointsToPolyline(o[0],e.spatialReference);return null===n?0:m.planarLength(n,s.convertLinearUnitsToCode(f.defaultUndefined(o[1],-1)))}if(!(o[0]instanceof n))throw new Error("Illegal Argument");return m.planarLength(o[0],s.convertLinearUnitsToCode(f.defaultUndefined(o[1],-1)))}))},e.lengthgeodetic=function(e,t){return a(e,t,(function(t,r,o){if(f.pcCheck(o,1,2),null===(o=f.autoCastFeatureToGeometry(o))[0])return 0;if(f.isArray(o[0])||f.isImmutableArray(o[0])){const n=f.autoCastArrayOfPointsToPolyline(o[0],e.spatialReference);return null===n?0:m.geodesicLength(n,s.convertLinearUnitsToCode(f.defaultUndefined(o[1],-1)))}if(!(o[0]instanceof n))throw new Error("Illegal Argument");return m.geodesicLength(o[0],s.convertLinearUnitsToCode(f.defaultUndefined(o[1],-1)))}))},e.distance=function(e,t){return a(e,t,(function(t,r,o){o=f.autoCastFeatureToGeometry(o),f.pcCheck(o,2,3);let i=o[0];(f.isArray(o[0])||f.isImmutableArray(o[0]))&&(i=f.autoCastArrayOfPointsToMultiPoint(o[0],e.spatialReference));let u=o[1];if((f.isArray(o[1])||f.isImmutableArray(o[1]))&&(u=f.autoCastArrayOfPointsToMultiPoint(o[1],e.spatialReference)),!(i instanceof n))throw new Error("Illegal Argument");if(!(u instanceof n))throw new Error("Illegal Argument");return m.distance(i,u,s.convertLinearUnitsToCode(f.defaultUndefined(o[2],-1)))}))},e.distancegeodetic=function(e,n){return a(e,n,(function(e,n,r){r=f.autoCastFeatureToGeometry(r),f.pcCheck(r,2,3);const o=r[0],i=r[1];if(!(o instanceof t))throw new Error("Illegal Argument");if(!(i instanceof t))throw new Error("Illegal Argument");const l=new u({paths:[],spatialReference:o.spatialReference});return l.addPath([o,i]),m.geodesicLength(l,s.convertLinearUnitsToCode(f.defaultUndefined(r[2],-1)))}))},e.densify=function(e,t){return a(e,t,(function(e,t,o){if(o=f.autoCastFeatureToGeometry(o),f.pcCheck(o,2,3),null===o[0])return null;if(!(o[0]instanceof n))throw new Error("Illegal Argument");const l=f.toNumber(o[1]);if(isNaN(l))throw new Error("Illegal Argument");if(l<=0)throw new Error("Illegal Argument");return o[0]instanceof i||o[0]instanceof u?m.densify(o[0],l,s.convertLinearUnitsToCode(f.defaultUndefined(o[2],-1))):o[0]instanceof r?m.densify(g(o[0]),l,s.convertLinearUnitsToCode(f.defaultUndefined(o[2],-1))):o[0]}))},e.densifygeodetic=function(e,t){return a(e,t,(function(e,t,o){if(o=f.autoCastFeatureToGeometry(o),f.pcCheck(o,2,3),null===o[0])return null;if(!(o[0]instanceof n))throw new Error("Illegal Argument");const l=f.toNumber(o[1]);if(isNaN(l))throw new Error("Illegal Argument");if(l<=0)throw new Error("Illegal Argument");return o[0]instanceof i||o[0]instanceof u?m.geodesicDensify(o[0],l,s.convertLinearUnitsToCode(f.defaultUndefined(o[2],-1))):o[0]instanceof r?m.geodesicDensify(g(o[0]),l,s.convertLinearUnitsToCode(f.defaultUndefined(o[2],-1))):o[0]}))},e.generalize=function(e,t){return a(e,t,(function(e,t,r){if(r=f.autoCastFeatureToGeometry(r),f.pcCheck(r,2,4),null===r[0])return null;if(!(r[0]instanceof n))throw new Error("Illegal Argument");const o=f.toNumber(r[1]);if(isNaN(o))throw new Error("Illegal Argument");return m.generalize(r[0],o,f.toBoolean(f.defaultUndefined(r[2],!0)),s.convertLinearUnitsToCode(f.defaultUndefined(r[3],-1)))}))},e.buffer=function(e,t){return a(e,t,(function(e,t,r){if(r=f.autoCastFeatureToGeometry(r),f.pcCheck(r,2,3),null===r[0])return null;if(!(r[0]instanceof n))throw new Error("Illegal Argument");const o=f.toNumber(r[1]);if(isNaN(o))throw new Error("Illegal Argument");return 0===o?s.cloneGeometry(r[0]):m.buffer(r[0],o,s.convertLinearUnitsToCode(f.defaultUndefined(r[2],-1)))}))},e.buffergeodetic=function(e,t){return a(e,t,(function(e,t,r){if(r=f.autoCastFeatureToGeometry(r),f.pcCheck(r,2,3),null===r[0])return null;if(!(r[0]instanceof n))throw new Error("Illegal Argument");const o=f.toNumber(r[1]);if(isNaN(o))throw new Error("Illegal Argument");return 0===o?s.cloneGeometry(r[0]):m.geodesicBuffer(r[0],o,s.convertLinearUnitsToCode(f.defaultUndefined(r[2],-1)))}))},e.offset=function(e,n){return a(e,n,(function(e,n,t){if(t=f.autoCastFeatureToGeometry(t),f.pcCheck(t,2,6),null===t[0])return null;if(!(t[0]instanceof i||t[0]instanceof u))throw new Error("Illegal Argument");const r=f.toNumber(t[1]);if(isNaN(r))throw new Error("Illegal Argument");const o=f.toNumber(f.defaultUndefined(t[4],10));if(isNaN(o))throw new Error("Illegal Argument");const l=f.toNumber(f.defaultUndefined(t[5],0));if(isNaN(l))throw new Error("Illegal Argument");return m.offset(t[0],r,s.convertLinearUnitsToCode(f.defaultUndefined(t[2],-1)),f.toString(f.defaultUndefined(t[3],"round")).toLowerCase(),o,l)}))},e.rotate=function(e,o){return a(e,o,(function(e,o,u){u=f.autoCastFeatureToGeometry(u),f.pcCheck(u,2,3);let l=u[0];if(null===l)return null;if(!(l instanceof n))throw new Error("Illegal Argument");l instanceof r&&(l=i.fromExtent(l));const a=f.toNumber(u[1]);if(isNaN(a))throw new Error("Illegal Argument");const c=f.defaultUndefined(u[2],null);if(null===c)return m.rotate(l,a);if(c instanceof t)return m.rotate(l,a,c);throw new Error("Illegal Argument")}))},e.centroid=function(e,l){return a(e,l,(function(l,a,m){if(m=f.autoCastFeatureToGeometry(m),f.pcCheck(m,1,1),null===m[0])return null;let g=m[0];if((f.isArray(m[0])||f.isImmutableArray(m[0]))&&(g=f.autoCastArrayOfPointsToMultiPoint(m[0],e.spatialReference)),null===g)return null;if(!(g instanceof n))throw new Error("Illegal Argument");return g instanceof t?f.fixSpatialReference(s.cloneGeometry(m[0]),e.spatialReference):g instanceof i?g.centroid:g instanceof u?c.centroidPolyline(g):g instanceof o?c.centroidMultiPoint(g):g instanceof r?g.center:null}))},e.multiparttosinglepart=function(e,c){return a(e,c,(function(a,c,g){g=f.autoCastFeatureToGeometry(g),f.pcCheck(g,1,1);const d=[];if(null===g[0])return null;if(!(g[0]instanceof n))throw new Error("Illegal Argument");if(g[0]instanceof t)return[f.fixSpatialReference(s.cloneGeometry(g[0]),e.spatialReference)];if(g[0]instanceof r)return[f.fixSpatialReference(s.cloneGeometry(g[0]),e.spatialReference)];const h=m.simplify(g[0]);if(h instanceof i){const e=[],n=[];for(let t=0;t<h.rings.length;t++)if(h.isClockwise(h.rings[t])){const n=l.fromJSON({rings:[h.rings[t]],hasZ:!0===h.hasZ,hasM:!0===h.hasM,spatialReference:h.spatialReference.toJSON()});e.push(n)}else n.push({ring:h.rings[t],pt:h.getPoint(t,0)});for(let t=0;t<n.length;t++)for(let r=0;r<e.length;r++)if(e[r].contains(n[t].pt)){e[r].addRing(n[t].ring);break}return e}if(h instanceof u){const e=[];for(let n=0;n<h.paths.length;n++){const t=l.fromJSON({paths:[h.paths[n]],hasZ:!0===h.hasZ,hasM:!0===h.hasM,spatialReference:h.spatialReference.toJSON()});e.push(t)}return e}if(g[0]instanceof o){const n=f.fixSpatialReference(s.cloneGeometry(g[0]),e.spatialReference);for(let e=0;e<n.points.length;e++)d.push(n.getPoint(e));return d}return null}))},e.issimple=function(e,t){return a(e,t,(function(e,t,r){if(r=f.autoCastFeatureToGeometry(r),f.pcCheck(r,1,1),null===r[0])return!0;if(!(r[0]instanceof n))throw new Error("Illegal Argument");return m.isSimple(r[0])}))},e.simplify=function(e,t){return a(e,t,(function(e,t,r){if(r=f.autoCastFeatureToGeometry(r),f.pcCheck(r,1,1),null===r[0])return null;if(!(r[0]instanceof n))throw new Error("Illegal Argument");return m.simplify(r[0])}))}},e.setGeometryEngine=function(e){m=e},Object.defineProperty(e,"__esModule",{value:!0})}));
