/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../core/number","../../chunks/languageUtils"],(function(n,t,r){"use strict";function e(n,t,r){return void 0===r||0==+r?Math[n](t):(t=+t,r=+r,isNaN(t)||"number"!=typeof r||r%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[n](+(t[0]+"e"+(t[1]?+t[1]-r:-r)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+r:r))))}n.registerFunctions=function(n,u){function o(n,t,e){const u=r.toNumber(n);return isNaN(u)?u:isNaN(t)||isNaN(e)||t>e?NaN:u<t?t:u>e?e:u}n.number=function(n,e){return u(n,e,(function(n,e,u){r.pcCheck(u,1,2);const o=u[0];if(r.isNumber(o))return o;if(null===o)return 0;if(r.isDate(o))return Number(o);if(r.isBoolean(o))return Number(o);if(r.isArray(o))return NaN;if(""===o)return Number(o);if(void 0===o)return Number(o);if(r.isString(o)){if(void 0!==u[1]){let n=r.multiReplace(u[1],"‰","");return n=r.multiReplace(n,"¤",""),t.parse(o,{pattern:n})}return Number(o.trim())}return Number(o)}))},n.abs=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),Math.abs(r.toNumber(e[0]))}))},n.acos=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),Math.acos(r.toNumber(e[0]))}))},n.asin=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),Math.asin(r.toNumber(e[0]))}))},n.atan=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),Math.atan(r.toNumber(e[0]))}))},n.atan2=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,2,2),Math.atan2(r.toNumber(e[0]),r.toNumber(e[1]))}))},n.ceil=function(n,t){return u(n,t,(function(n,t,u){if(r.pcCheck(u,1,2),2===u.length){let n=r.toNumber(u[1]);return isNaN(n)&&(n=0),e("ceil",r.toNumber(u[0]),-1*n)}return Math.ceil(r.toNumber(u[0]))}))},n.round=function(n,t){return u(n,t,(function(n,t,u){if(r.pcCheck(u,1,2),2===u.length){let n=r.toNumber(u[1]);return isNaN(n)&&(n=0),e("round",r.toNumber(u[0]),-1*n)}return Math.round(r.toNumber(u[0]))}))},n.floor=function(n,t){return u(n,t,(function(n,t,u){if(r.pcCheck(u,1,2),2===u.length){let n=r.toNumber(u[1]);return isNaN(n)&&(n=0),e("floor",r.toNumber(u[0]),-1*n)}return Math.floor(r.toNumber(u[0]))}))},n.cos=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),Math.cos(r.toNumber(e[0]))}))},n.isnan=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),"number"==typeof e[0]&&isNaN(e[0])}))},n.exp=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),Math.exp(r.toNumber(e[0]))}))},n.log=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),Math.log(r.toNumber(e[0]))}))},n.pow=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,2,2),Math.pow(r.toNumber(e[0]),r.toNumber(e[1]))}))},n.random=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,0,0),Math.random()}))},n.sin=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),Math.sin(r.toNumber(e[0]))}))},n.sqrt=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),Math.sqrt(r.toNumber(e[0]))}))},n.tan=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),Math.tan(r.toNumber(e[0]))}))},n.defaultvalue=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,2,2),null===e[0]||""===e[0]||void 0===e[0]?e[1]:e[0]}))},n.isempty=function(n,t){return u(n,t,(function(n,t,e){return r.pcCheck(e,1,1),null===e[0]||(""===e[0]||void 0===e[0])}))},n.boolean=function(n,t){return u(n,t,(function(n,t,e){r.pcCheck(e,1,1);const u=e[0];return r.toBoolean(u)}))},n.constrain=function(n,t){return u(n,t,(function(n,t,e){r.pcCheck(e,3,3);const u=r.toNumber(e[1]),c=r.toNumber(e[2]);if(r.isArray(e[0])){const n=[];for(const t of e[0])n.push(o(t,u,c));return n}if(r.isImmutableArray(e[0])){const n=[];for(let t=0;t<e[0].length();t++)n.push(o(e[0].get(t),u,c));return n}return o(e[0],u,c)}))}},Object.defineProperty(n,"__esModule",{value:!0})}));
