// COPYRIGHT © 2022 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/3.42/esri/copyright.txt for details.

define(["require","exports","../polyfill/tsSupport/assign","../polyfill/tsSupport/spreadarray","../languageUtils","dojo/number"],(function(r,n,t,e,u,o){"use strict";function i(r,n,t){return void 0===t||0==+t?Math[r](n):(n=+n,t=+t,isNaN(n)||"number"!=typeof t||t%1!=0?NaN:(n=n.toString().split("e"),+((n=(n=Math[r](+(n[0]+"e"+(n[1]?+n[1]-t:-t)))).toString().split("e"))[0]+"e"+(n[1]?+n[1]+t:t))))}Object.defineProperty(n,"__esModule",{value:!0}),n.registerFunctions=void 0,n.registerFunctions=function(r,n){function t(r,n,t){var e=u.toNumber(r);return isNaN(e)?e:isNaN(n)||isNaN(t)?NaN:n>t?NaN:e<n?n:e>t?t:e}r.number=function(r,t){return n(r,t,(function(n,e,i){u.pcCheck(i,1,2,r,t);var c=i[0];if(u.isNumber(c))return c;if(null===c)return 0;if(u.isDate(c))return Number(c);if(u.isBoolean(c))return Number(c);if(u.isArray(c))return NaN;if(""===c)return Number(c);if(void 0===c)return Number(c);if(u.isString(c)){if(void 0!==i[1]){var a=u.multiReplace(i[1],"‰","");return a=u.multiReplace(a,"¤",""),o.parse(c,{pattern:a})}return Number(c.trim())}return Number(c)}))},r.abs=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),Math.abs(u.toNumber(o[0]))}))},r.acos=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),Math.acos(u.toNumber(o[0]))}))},r.asin=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),Math.asin(u.toNumber(o[0]))}))},r.atan=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),Math.atan(u.toNumber(o[0]))}))},r.atan2=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,2,2,r,t),Math.atan2(u.toNumber(o[0]),u.toNumber(o[1]))}))},r.ceil=function(r,t){return n(r,t,(function(n,e,o){if(u.pcCheck(o,1,2,r,t),2===o.length){var c=u.toNumber(o[1]);return isNaN(c)&&(c=0),i("ceil",u.toNumber(o[0]),-1*c)}return Math.ceil(u.toNumber(o[0]))}))},r.round=function(r,t){return n(r,t,(function(n,e,o){if(u.pcCheck(o,1,2,r,t),2===o.length){var c=u.toNumber(o[1]);return isNaN(c)&&(c=0),i("round",u.toNumber(o[0]),-1*c)}return Math.round(u.toNumber(o[0]))}))},r.floor=function(r,t){return n(r,t,(function(n,e,o){if(u.pcCheck(o,1,2,r,t),2===o.length){var c=u.toNumber(o[1]);return isNaN(c)&&(c=0),i("floor",u.toNumber(o[0]),-1*c)}return Math.floor(u.toNumber(o[0]))}))},r.cos=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),Math.cos(u.toNumber(o[0]))}))},r.isnan=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),"number"==typeof o[0]&&isNaN(o[0])}))},r.exp=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),Math.exp(u.toNumber(o[0]))}))},r.log=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),Math.log(u.toNumber(o[0]))}))},r.pow=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,2,2,r,t),Math.pow(u.toNumber(o[0]),u.toNumber(o[1]))}))},r.random=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,0,0,r,t),Math.random()}))},r.sin=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),Math.sin(u.toNumber(o[0]))}))},r.sqrt=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),Math.sqrt(u.toNumber(o[0]))}))},r.tan=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),Math.tan(u.toNumber(o[0]))}))},r.defaultvalue=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,2,2,r,t),null===o[0]?o[1]:""===o[0]?o[1]:void 0===o[0]?o[1]:o[0]}))},r.isempty=function(r,t){return n(r,t,(function(n,e,o){return u.pcCheck(o,1,1,r,t),null===o[0]||(""===o[0]||void 0===o[0])}))},r.boolean=function(r,t){return n(r,t,(function(n,e,o){u.pcCheck(o,1,1,r,t);var i=o[0];return u.toBoolean(i)}))},r.constrain=function(r,e){return n(r,e,(function(n,o,i){u.pcCheck(i,3,3,r,e);var c=u.toNumber(i[1]),a=u.toNumber(i[2]);if(u.isArray(i[0])){for(var f=[],N=0,s=i[0];N<s.length;N++){var h=s[N];f.push(t(h,c,a))}return f}if(u.isImmutableArray(i[0])){f=[];for(var p=0;p<i[0].length();p++)f.push(t(i[0].get(p),c,a));return f}return t(i[0],c,a)}))}}}));