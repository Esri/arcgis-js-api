/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{CommentHandler as e}from"./comment-handler.js";import{Parser as t}from"./parser.js";import{Tokenizer as r}from"./tokenizer.js";export{Syntax}from"./syntax.js";export{TokenName,TokenType}from"./token.js";export{ArrayExpression,AssignmentExpression,AssignmentOperators,BinaryExpression,BinaryOperators,BlockStatement,BreakStatement,CallExpression,Comment,ComputedMemberExpression,ContinueStatement,EmptyStatement,ExpressionStatement,ForInStatement,ForStatement,FunctionDeclaration,Identifier,IfStatement,Literal,LogicalOperators,ObjectExpression,Program,Property,ReturnStatement,StaticMemberExpression,TemplateElement,TemplateLiteral,UnaryExpression,UnaryOperators,UpdateExpression,UpdateOperators,VariableDeclaration,VariableDeclarator}from"./nodes.js";function o(r,o,n){let a=null;const s=(e,t)=>{n&&n(e,t),a&&a.visit(e,t)};let m="function"==typeof n?s:void 0,i=!1;if(o){i="boolean"==typeof o.comment&&o.comment;const t="boolean"==typeof o.attachComment&&o.attachComment;(i||t)&&(a=new e,a.attach=t,o.comment=!0,m=s)}const p=new t(r,o,m),c=p.parseScript();return i&&a&&(c.comments=a.comments),p.config.tokens&&(c.tokens=p.tokens),p.config.tolerant&&(c.errors=p.errorHandler.errors),c}function n(e,t,o){const n=new r(e,t),a=[];let s;try{for(;;){let e=n.getNextToken();if(!e)break;o&&(e=o(e)),a.push(e)}}catch(m){n.errorHandler.tolerate(m)}return n.errorHandler.tolerant&&(s=n.errors()),{tokens:a,errors:s}}const a="4.0.0-dev";export{o as parse,n as tokenize,a as version};
