/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","./syntax","./comment-handler","./parser","./tokenizer"],(function(e,t,n,r,o){"use strict";function c(e,t,o){let c=null;const s=(e,t)=>{o&&o(e,t),c&&c.visit(e,t)};let a,i="function"==typeof o?s:null,l=!1;if(t){l="boolean"==typeof t.comment&&t.comment;const e="boolean"==typeof t.attachComment&&t.attachComment;(l||e)&&(c=new n.CommentHandler,c.attach=e,t.comment=!0,i=s)}a=new r.Parser(e,t,i);const m=a.parseScript();return l&&c&&(m.comments=c.comments),a.config.tokens&&(m.tokens=a.tokens),a.config.tolerant&&(m.errors=a.errorHandler.errors),m}e.Syntax=t.Syntax,e.parse=c,e.parseScript=function(e,t,n){const r=t||{};return r.sourceType="script",c(e,r,n)},e.tokenize=function(e,t,n){const r=new o.Tokenizer(e,t),c=[];try{for(;;){let e=r.getNextToken();if(!e)break;n&&(e=n(e)),c.push(e)}}catch(e){r.errorHandler.tolerate(e)}return r.errorHandler.tolerant&&(c.errors=r.errors()),c},e.version="4.0.0-dev",Object.defineProperty(e,"__esModule",{value:!0})}));
