/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
define(["exports","../../../core/lang","../../../symbols/support/gfxUtils","../../../symbols/support/previewSymbol3D"],(function(t,e,o,l){"use strict";const r={HH:315,HL:45,LL:135,LH:225},s={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function n(t){if(!t)return;const{type:e}=t;if(e.indexOf("3d")>-1)return l.getSymbolLayerFill(t.symbolLayers.getItemAt(0));if("simple-line"===e){const e=o.getStroke(t);return e&&e.color}if("simple-marker"===t.type&&("x"===t.style||"cross"===t.style)){const e=o.getStroke(t);return e&&e.color}return o.getFill(t)}function i(t,e){const o=e.HH.label,l=e.LL.label,r=e.HL.label,s=e.LH.label;switch(t){case"HH":return{top:o,bottom:l,left:r,right:s};case"HL":return{top:r,bottom:s,left:l,right:o};case"LL":return{top:l,bottom:o,left:s,right:r};case"LH":return{top:s,bottom:r,left:o,right:l};default:return{top:o,bottom:l,left:r,right:s}}}function u(t,o){const l=[],r=t.length**.5,s=e.clone(t),n=(o||"HH").split(""),i=n[0],u="H"===n[1];for(;s.length;){const t=[];for(;t.length<r;)t.push(s.shift());u&&t.reverse(),l.push(t)}return"L"===i&&l.reverse(),l}function H(t){const{focus:e,infos:o,numClasses:l}=t,r=s[l],u={};o.forEach((t=>{u[t.value]={label:t.label,fill:n(t.symbol)}}));const H=[];for(let s=0;s<l;s++){const t=[];for(let e=0;e<l;e++){const o=u[r[s][e]];t.push(o.fill)}H.push(t)}return{type:"relationship-ramp",numClasses:l,focus:e,colors:H,labels:i(e,u),rotation:c(e)}}function c(t){let e=r[t];return t&&null==e&&(e=r.HH),e||0}t.getRelationshipRampColors2D=u,t.getRelationshipRampElement=H,t.getRotationAngleForFocus=c,Object.defineProperty(t,"__esModule",{value:!0})}));
