/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
define(["exports","../../../../symbols/support/svgUtils","../../../../symbols/support/utils","../../../support/widgetUtils","../../../../core/has","../../../../core/Logger","../../../support/jsxFactory"],(function(e,a,r,t,s,l,i){"use strict";const o="http://www.w3.org/2000/svg",n={diamondContainer:"esri-relationship-ramp--diamond__container",diamondLeftCol:"esri-relationship-ramp--diamond__left-column",diamondRightCol:"esri-relationship-ramp--diamond__right-column",diamondMidCol:"esri-relationship-ramp--diamond__middle-column",diamondMidColLabel:"esri-relationship-ramp--diamond__middle-column--label",diamondMidColRamp:"esri-relationship-ramp--diamond__middle-column--ramp",squareTable:"esri-relationship-ramp--square__table",squareTableRow:"esri-relationship-ramp--square__table-row",squareTableCell:"esri-relationship-ramp--square__table-cell",squareTableLabel:"esri-relationship-ramp--square__table-label",squareTableLabelLeftBottom:"esri-relationship-ramp--square__table-label--left-bottom",squareTableLabelRightBottom:"esri-relationship-ramp--square__table-label--right-bottom",squareTableLabelLeftTop:"esri-relationship-ramp--square__table-label--left-top",squareTableLabelRightTop:"esri-relationship-ramp--square__table-label--right-top"};function d(e,a,r,s){const{focus:l,labels:o}=e,d=!!l,m=u(e,a,r,s);return d?i.tsx("div",{class:n.diamondContainer},i.tsx("div",{class:n.diamondLeftCol},o.left),i.tsx("div",{class:n.diamondMidCol},i.tsx("div",{class:n.diamondMidColLabel},o.top),m,i.tsx("div",{class:n.diamondMidColLabel},o.bottom)),i.tsx("div",{class:n.diamondRightCol},o.right)):i.tsx("div",{class:n.squareTable},i.tsx("div",{class:n.squareTableRow},i.tsx("div",{class:t.classes(n.squareTableCell,n.squareTableLabel,n.squareTableLabelRightBottom)},o.left),i.tsx("div",{class:n.squareTableCell}),i.tsx("div",{class:t.classes(n.squareTableCell,n.squareTableLabel,n.squareTableLabelLeftBottom)},o.top)),i.tsx("div",{class:n.squareTableRow},i.tsx("div",{class:n.squareTableCell}),m,i.tsx("div",{class:n.squareTableCell})),i.tsx("div",{class:n.squareTableRow},i.tsx("div",{class:t.classes(n.squareTableCell,n.squareTableLabel,n.squareTableLabelRightTop)},o.bottom),i.tsx("div",{class:n.squareTableCell}),i.tsx("div",{class:t.classes(n.squareTableCell,n.squareTableLabel,n.squareTableLabelLeftTop)},o.right)))}function m(e,a,r){const t=`${r}_arrowStart`,s=`${r}_arrowEnd`,l="left"===e,i={markerStart:null,markerEnd:null};switch(a){case"HL":l?i.markerStart=`url(#${s})`:i.markerEnd=`url(#${t})`;break;case"LL":i.markerStart=`url(#${s})`;break;case"LH":l?i.markerEnd=`url(#${t})`:i.markerStart=`url(#${s})`;break;default:i.markerEnd=`url(#${t})`}return i}function u(e,t,s,l,d=60){const{focus:u,numClasses:b,colors:p,rotation:c}=e,h=!!u,x=Math.sqrt(d**2+d**2)+(h?0:5),f=[],k=[],q=[],T=(d||75)/b;for(let r=0;r<b;r++){const e=r*T;for(let t=0;t<b;t++){const s=t*T,l=a.generateFillAttributes(p[r][t]),i=a.generateStrokeAttributes(null),o={type:"rect",x:s,y:e,width:T,height:T};f.push(a.renderDef(l)),k.push(a.renderShape(o,l.fill,i,null)),q.push(a.getBoundingBox(o))}}const _=10,g=15,L=15,C=10;let v=null;h||(v="margin: -15px -15px -18px -15px");const w=m("left",u,t),y=m("right",u,t),R=a.computeBBox(q),S=a.getTransformMatrix(R,x,x,0,!1,c,!1),M=a.getTransformMatrix(R,x,x,0,!1,h?-45:null,!1),$={filter:r.getCSSFilterFromEffectList(l),opacity:null==s?null:`${s}`};return i.tsx("div",{styles:$,class:h?n.diamondMidColRamp:n.squareTableCell},i.tsx("svg",{xmlns:o,width:x,height:x,style:v},i.tsx("defs",null,i.tsx("marker",{id:`${t}_arrowStart`,markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"strokeWidth",orient:"auto"},i.tsx("polyline",{points:"0,0 5,5 0,10",fill:"none",stroke:"#555555","stroke-width":"1"})),i.tsx("marker",{id:`${t}_arrowEnd`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",markerUnits:"strokeWidth",orient:"auto"},i.tsx("polyline",{points:"5,0 0,5 5,10",fill:"none",stroke:"#555555","stroke-width":"1"})),f),i.tsx("g",{transform:S},k),i.tsx("g",{transform:M},i.tsx("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":w.markerStart,"marker-end":w.markerEnd,x1:-_,y1:d-g,x2:-_,y2:g}),i.tsx("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":y.markerStart,"marker-end":y.markerEnd,x1:L,y1:d+C,x2:d-L,y2:d+C}))))}e.renderRelationshipRamp=d,Object.defineProperty(e,"__esModule",{value:!0})}));
