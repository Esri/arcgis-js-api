/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
define(["exports","../../../../symbols/support/svgUtils","../../../support/widgetUtils","../../../../core/has","../../../../core/Logger","../../../support/jsxFactory"],(function(e,a,r,t,s,l){"use strict";const i="http://www.w3.org/2000/svg",o={diamondContainer:"esri-relationship-ramp--diamond__container",diamondLeftCol:"esri-relationship-ramp--diamond__left-column",diamondRightCol:"esri-relationship-ramp--diamond__right-column",diamondMidCol:"esri-relationship-ramp--diamond__middle-column",diamondMidColLabel:"esri-relationship-ramp--diamond__middle-column--label",diamondMidColRamp:"esri-relationship-ramp--diamond__middle-column--ramp",squareTable:"esri-relationship-ramp--square__table",squareTableRow:"esri-relationship-ramp--square__table-row",squareTableCell:"esri-relationship-ramp--square__table-cell",squareTableLabel:"esri-relationship-ramp--square__table-label",squareTableLabelLeftBottom:"esri-relationship-ramp--square__table-label--left-bottom",squareTableLabelRightBottom:"esri-relationship-ramp--square__table-label--right-bottom",squareTableLabelLeftTop:"esri-relationship-ramp--square__table-label--left-top",squareTableLabelRightTop:"esri-relationship-ramp--square__table-label--right-top"};function n(e,a,t){const{focus:s,labels:i}=e,n=!!s,d=m(e,a,t);return n?l.tsx("div",{class:o.diamondContainer},l.tsx("div",{class:o.diamondLeftCol},i.left),l.tsx("div",{class:o.diamondMidCol},l.tsx("div",{class:o.diamondMidColLabel},i.top),d,l.tsx("div",{class:o.diamondMidColLabel},i.bottom)),l.tsx("div",{class:o.diamondRightCol},i.right)):l.tsx("div",{class:o.squareTable},l.tsx("div",{class:o.squareTableRow},l.tsx("div",{class:r.classes(o.squareTableCell,o.squareTableLabel,o.squareTableLabelRightBottom)},i.left),l.tsx("div",{class:o.squareTableCell}),l.tsx("div",{class:r.classes(o.squareTableCell,o.squareTableLabel,o.squareTableLabelLeftBottom)},i.top)),l.tsx("div",{class:o.squareTableRow},l.tsx("div",{class:o.squareTableCell}),d,l.tsx("div",{class:o.squareTableCell})),l.tsx("div",{class:o.squareTableRow},l.tsx("div",{class:r.classes(o.squareTableCell,o.squareTableLabel,o.squareTableLabelRightTop)},i.bottom),l.tsx("div",{class:o.squareTableCell}),l.tsx("div",{class:r.classes(o.squareTableCell,o.squareTableLabel,o.squareTableLabelLeftTop)},i.right)))}function d(e,a,r){const t=`${r}_arrowStart`,s=`${r}_arrowEnd`,l="left"===e,i={markerStart:null,markerEnd:null};switch(a){case"HL":l?i.markerStart=`url(#${s})`:i.markerEnd=`url(#${t})`;break;case"LL":i.markerStart=`url(#${s})`;break;case"LH":l?i.markerEnd=`url(#${t})`:i.markerStart=`url(#${s})`;break;default:i.markerEnd=`url(#${t})`}return i}function m(e,r,t,s=60){const{focus:n,numClasses:m,colors:u,rotation:b}=e,p=!!n,c=Math.sqrt(s**2+s**2)+(p?0:5);let h=null;null!=t&&(h=`opacity: ${t}`);const x=[],f=[],k=[],q=(s||75)/m;for(let l=0;l<m;l++){const e=l*q;for(let r=0;r<m;r++){const t=r*q,s=a.generateFillAttributes(u[l][r]),i=a.generateStrokeAttributes(null),o={type:"rect",x:t,y:e,width:q,height:q};x.push(a.renderDef(s)),f.push(a.renderShape(o,s.fill,i,null)),k.push(a.getBoundingBox(o))}}const T=10,_=15,g=15,L=10;let C=null;p||(C="margin: -15px -15px -18px -15px");const v=d("left",n,r),w=d("right",n,r),y=a.computeBBox(k),R=a.getTransformMatrix(y,c,c,0,!1,b,!1),M=a.getTransformMatrix(y,c,c,0,!1,p?-45:null,!1);return l.tsx("div",{style:h,class:p?o.diamondMidColRamp:o.squareTableCell},l.tsx("svg",{xmlns:i,width:c,height:c,style:C},l.tsx("defs",null,l.tsx("marker",{id:`${r}_arrowStart`,markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"strokeWidth",orient:"auto"},l.tsx("polyline",{points:"0,0 5,5 0,10",fill:"none",stroke:"#555555","stroke-width":"1"})),l.tsx("marker",{id:`${r}_arrowEnd`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",markerUnits:"strokeWidth",orient:"auto"},l.tsx("polyline",{points:"5,0 0,5 5,10",fill:"none",stroke:"#555555","stroke-width":"1"})),x),l.tsx("g",{transform:R},f),l.tsx("g",{transform:M},l.tsx("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":v.markerStart,"marker-end":v.markerEnd,x1:-T,y1:s-_,x2:-T,y2:_}),l.tsx("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":w.markerStart,"marker-end":w.markerEnd,x1:g,y1:s+L,x2:s-g,y2:s+L}))))}e.renderRelationshipRamp=n,Object.defineProperty(e,"__esModule",{value:!0})}));
