/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{generateFillAttributes as e,generateStrokeAttributes as a,renderDef as r,renderShape as l,getBoundingBox as t,computeBBox as s,getTransformMatrix as i}from"../../../../symbols/support/svgUtils.js";import{getCSSFilterFromEffectList as o}from"../../../../symbols/support/utils.js";import{isRTL as n,classes as d}from"../../../support/widgetUtils.js";import{tsx as m}from"../../../support/jsxFactory.js";const u="http://www.w3.org/2000/svg",b={diamondContainer:"esri-relationship-ramp--diamond__container",diamondLeftCol:"esri-relationship-ramp--diamond__left-column",diamondRightCol:"esri-relationship-ramp--diamond__right-column",diamondMidCol:"esri-relationship-ramp--diamond__middle-column",diamondMidColLabel:"esri-relationship-ramp--diamond__middle-column--label",diamondMidColRamp:"esri-relationship-ramp--diamond__middle-column--ramp",squareTable:"esri-relationship-ramp--square__table",squareTableRow:"esri-relationship-ramp--square__table-row",squareTableCell:"esri-relationship-ramp--square__table-cell",squareTableLabel:"esri-relationship-ramp--square__table-label",squareTableLabelLeftBottom:"esri-relationship-ramp--square__table-label--left-bottom",squareTableLabelRightBottom:"esri-relationship-ramp--square__table-label--right-bottom",squareTableLabelLeftTop:"esri-relationship-ramp--square__table-label--left-top",squareTableLabelRightTop:"esri-relationship-ramp--square__table-label--right-top"};function p(e,a,r,l){const{focus:t,labels:s}=e,i=!!t,o=c(e,a,r,l),u={justifyContent:"center"},p=n();return i?m("div",{class:b.diamondContainer,styles:u},m("div",{class:b.diamondLeftCol},p?s.right:s.left),m("div",{class:b.diamondMidCol},m("div",{class:b.diamondMidColLabel},s.top),o,m("div",{class:b.diamondMidColLabel},s.bottom)),m("div",{class:b.diamondRightCol},p?s.left:s.right)):m("div",{class:b.squareTable},m("div",{class:b.squareTableRow},m("div",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightBottom)},p?s.top:s.left),m("div",{class:b.squareTableCell}),m("div",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftBottom)},p?s.left:s.top)),m("div",{class:b.squareTableRow},m("div",{class:b.squareTableCell}),o,m("div",{class:b.squareTableCell})),m("div",{class:b.squareTableRow},m("div",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelRightTop)},p?s.right:s.bottom),m("div",{class:b.squareTableCell}),m("div",{class:d(b.squareTableCell,b.squareTableLabel,b.squareTableLabelLeftTop)},p?s.bottom:s.right)))}function h(e,a,r){const l=`${r}_arrowStart`,t=`${r}_arrowEnd`,s="left"===e,i={markerStart:null,markerEnd:null};switch(a){case"HL":s?i.markerStart=`url(#${t})`:i.markerEnd=`url(#${l})`;break;case"LL":i.markerStart=`url(#${t})`;break;case"LH":s?i.markerEnd=`url(#${l})`:i.markerStart=`url(#${t})`;break;default:i.markerEnd=`url(#${l})`}return i}function c(n,d,p,c,f=60){const{focus:q,numClasses:k,colors:T,rotation:_}=n,g=!!q,L=Math.sqrt(f**2+f**2)+(g?0:5),C=[],v=[],w=[],y=(f||75)/k;for(let s=0;s<k;s++){const i=s*y;for(let o=0;o<k;o++){const n=o*y,d=e(T[s][o]),m=a(null),u={type:"rect",x:n,y:i,width:y,height:y};C.push(r(d)),v.push(l(u,d.fill,m,null)),w.push(t(u))}}const x=10,R=15,$=15,E=10;let M=null;g||(M="margin: -15px -15px -18px -15px");const S=h("left",q,d),j=h("right",q,d),B=s(w),H=i(B,L,L,0,!1,_,!1),U=i(B,L,L,0,!1,g?-45:null,!1),W={filter:o(c),opacity:null==p?null:`${p}`};return m("div",{styles:W,class:g?b.diamondMidColRamp:b.squareTableCell},m("svg",{xmlns:u,width:L,height:L,style:M},m("defs",null,m("marker",{id:`${d}_arrowStart`,markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"strokeWidth",orient:"auto"},m("polyline",{points:"0,0 5,5 0,10",fill:"none",stroke:"#555555","stroke-width":"1"})),m("marker",{id:`${d}_arrowEnd`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",markerUnits:"strokeWidth",orient:"auto"},m("polyline",{points:"5,0 0,5 5,10",fill:"none",stroke:"#555555","stroke-width":"1"})),C),m("g",{transform:H},v),m("g",{transform:U},m("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":S.markerStart,"marker-end":S.markerEnd,x1:-x,y1:f-R,x2:-x,y2:R}),m("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":j.markerStart,"marker-end":j.markerEnd,x1:$,y1:f+E,x2:f-$,y2:f+E}))))}export{p as renderRelationshipRamp};
