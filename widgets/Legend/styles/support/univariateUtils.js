/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../../core/has","../../../../core/Logger","../../../../core/screenUtils","../../../support/widgetUtils","../../../../libs/maquette/projection","../../../../libs/maquette/projector","../../../../chunks/index","../../../../symbols/support/symbolUtils"],(function(e,t,i,o,l,n,r,s,a){"use strict";const c=r.createProjector(),p=10,f=20,u=10,v=20,m={univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",colorRamp:"esri-legend__color-ramp"};function h(e="vertical"){const t="stroke:rgb(200, 200, 200);stroke-width:1";return"vertical"===e?s.jsx("svg",{height:"4",width:"10"},s.jsx("line",{x1:"0",y1:"2",x2:"10",y2:"2",style:t})):s.jsx("svg",{height:"10",width:"10"},s.jsx("line",{x1:"5",y1:"0",x2:"5",y2:"10",style:t}))}function g(e,t="vertical"){const i=document.createElement("div");return i.style.height=`${f}px`,i.className=m.univariateAboveAndBelowSymbol,null!=e&&(i.style.opacity=e.toString()),c.append(i,h.bind(null,t)),i}function d(e,t,i="vertical",l){e.infos.forEach(((e,n)=>{if(l&&2===n)e.preview=g(t,i);else{const t=o.pt2px(e.size)+("horizontal"===i?v:u),l="div"===e.preview.tagName.toLowerCase(),n=l?e.preview:document.createElement("div");n.className=m.univariateAboveAndBelowSymbol,"horizontal"===i?n.style.width=`${t}px`:n.style.height=`${t}px`,l||n.appendChild(e.preview),e.preview=n}}))}function y(e,t="classic"){const i=e.infos;return"classic"===t?(o.pt2px(i[0].size)+u)/2:(o.pt2px(i[0].size)-o.pt2px(i[i.length-1].size))/2}function b(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),o=a.renderColorRampPreviewHTML("full"===t.type?i:"above"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment});return o.className=m.colorRamp,null!=t.opacity&&(o.style.opacity=t.opacity.toString()),o}function z(e,t,i,l="vertical"){let n=0;const r=e.infos,s=Math.floor(r.length/2),a="full"===t||"above"===t?0:s,c="full"===t||"below"===t?r.length-1:s;for(let m=a;m<=c;m++)if(i&&m===s)n+="horizontal"===l?p:f;else{n+=o.pt2px(r[m].size)+("horizontal"===l?v:u)}return Math.round(n)}function w(e,t,i,l="vertical"){const n=z(e,t,i,l),r=e.infos,s=Math.floor(r.length/2),a="full"===t||"above"===t?0:s,c="full"===t||"below"===t?r.length-1:s,m="full"===t?r[a].size+r[c].size:"above"===t?r[a].size:r[c].size,h=i?"vertical"===l?f:p:0,g="vertical"===l?u*("full"===t?2:1):v*("full"===t?2:1);return Math.round(n-(o.pt2px(m)/2+h/2+g/2))}function x(e,t,i="vertical"){const o=e.infos;let l=o.filter((({type:e})=>"size-ramp"===e))[0],n=o.filter((({type:e})=>"color-ramp"===e))[0];var r;(l&&(l={...l},l.infos=[...l.infos]),n&&(n={...n},n.infos=[...n.infos]),d(l,t,i,!0),"horizontal"===i)&&(l.infos.reverse(),null==(r=n)||r.infos.reverse());return{sizeRampElement:l,colorRampElement:n}}function R(e,t="vertical"){const i=e.infos;let o=i.filter((({type:e})=>"size-ramp"===e))[0],l=i.filter((({type:e})=>"color-ramp"===e))[0];var n;(o&&(o={...o},o.infos=[...o.infos]),l&&(l={...l},l.infos=[...l.infos]),d(o,null,t,!1),"horizontal"===t)&&(o.infos.reverse(),null==(n=l)||n.infos.reverse());return{sizeRampElement:o,colorRampElement:l}}e.getUnivariateAboveAndBelowRampElements=x,e.getUnivariateColorRampMargin=y,e.getUnivariateColorRampPreview=b,e.getUnivariateColorRampSize=w,e.getUnivariateColorSizeRampElements=R,e.getUnivariateSizeRampSize=z,Object.defineProperty(e,"__esModule",{value:!0})}));
