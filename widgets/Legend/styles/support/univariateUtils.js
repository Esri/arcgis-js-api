/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
define(["exports","../../../../core/screenUtils","../../../../libs/maquette/projection","../../../../libs/maquette/projector","../../../../symbols/support/symbolUtils","../../../support/widgetUtils","../../../../core/has","../../../../core/Logger","../../../support/jsxFactory"],(function(e,t,i,o,l,r,n,s,a){"use strict";const c=o.createProjector(),p=10,f=20,u=10,v=20,m={univariateAboveAndBelowSymbol:"esri-univariate-above-and-below-ramp__symbol",colorRamp:"esri-legend__color-ramp"};function h(e="vertical"){const t="stroke:rgb(200, 200, 200);stroke-width:1";return"vertical"===e?a.tsx("svg",{height:"4",width:"10"},a.tsx("line",{x1:"0",y1:"2",x2:"10",y2:"2",style:t})):a.tsx("svg",{height:"10",width:"10"},a.tsx("line",{x1:"5",y1:"0",x2:"5",y2:"10",style:t}))}function g(e,t="vertical"){const i=document.createElement("div");return i.style.height=`${f}px`,i.className=m.univariateAboveAndBelowSymbol,null!=e&&(i.style.opacity=e.toString()),c.append(i,h.bind(null,t)),i}function y(e,i,o="vertical",l){e.infos.forEach(((e,r)=>{if(l&&2===r)e.preview=g(i,o);else{const i=t.pt2px(e.size)+("horizontal"===o?v:u),l="div"===e.preview.tagName.toLowerCase(),r=l?e.preview:document.createElement("div");r.className=m.univariateAboveAndBelowSymbol,"horizontal"===o?r.style.width=`${i}px`:r.style.height=`${i}px`,l||r.appendChild(e.preview),e.preview=r}}))}function d(e,i="classic"){const o=e.infos;return"classic"===i?(t.pt2px(o[0].size)+u)/2:(t.pt2px(o[0].size)-t.pt2px(o[o.length-1].size))/2}function b(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),o=l.renderColorRampPreviewHTML("full"===t.type?i:"above"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment});return o.className=m.colorRamp,null!=t.opacity&&(o.style.opacity=t.opacity.toString()),o}function z(e,i,o,l="vertical"){let r=0;const n=e.infos,s=Math.floor(n.length/2),a="full"===i||"above"===i?0:s,c="full"===i||"below"===i?n.length-1:s;for(let m=a;m<=c;m++)if(o&&m===s)r+="horizontal"===l?p:f;else{r+=t.pt2px(n[m].size)+("horizontal"===l?v:u)}return Math.round(r)}function w(e,i,o,l="vertical"){const r=z(e,i,o,l),n=e.infos,s=Math.floor(n.length/2),a="full"===i||"above"===i?0:s,c="full"===i||"below"===i?n.length-1:s,m="full"===i?n[a].size+n[c].size:"above"===i?n[a].size:n[c].size,h=o?"vertical"===l?f:p:0,g="vertical"===l?u*("full"===i?2:1):v*("full"===i?2:1);return Math.round(r-(t.pt2px(m)/2+h/2+g/2))}function x(e,t,i="vertical"){const o=e.infos;let l=o.filter((({type:e})=>"size-ramp"===e))[0],r=o.filter((({type:e})=>"color-ramp"===e))[0];var n;(l&&(l={...l},l.infos=[...l.infos]),r&&(r={...r},r.infos=[...r.infos]),y(l,t,i,!0),"horizontal"===i)&&(l.infos.reverse(),null==(n=r)||n.infos.reverse());return{sizeRampElement:l,colorRampElement:r}}function R(e,t="vertical"){const i=e.infos;let o=i.filter((({type:e})=>"size-ramp"===e))[0],l=i.filter((({type:e})=>"color-ramp"===e))[0];var r;(o&&(o={...o},o.infos=[...o.infos]),l&&(l={...l},l.infos=[...l.infos]),y(o,null,t,!1),"horizontal"===t)&&(o.infos.reverse(),null==(r=l)||r.infos.reverse());return{sizeRampElement:o,colorRampElement:l}}e.getUnivariateAboveAndBelowRampElements=x,e.getUnivariateColorRampMargin=d,e.getUnivariateColorRampPreview=b,e.getUnivariateColorRampSize=w,e.getUnivariateColorSizeRampElements=R,e.getUnivariateSizeRampSize=z,Object.defineProperty(e,"__esModule",{value:!0})}));
