/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/accessorSupport/decorators/subclass","../Widget","./FeatureContent/FeatureContentViewModel","./support/featureUtils","../support/widget","../support/jsxFactory"],(function(e,t,r,o,n,s,a,i,c,d,l){"use strict";const u="esri-feature-content",p={base:u,loaderContainer:`${u}__loader-container`,loader:`${u}__loader`};let h=function(t){function r(e,r){var o;return(o=t.call(this,e,r)||this).viewModel=null,o._addTargetToAnchors=e=>{Array.from(e.querySelectorAll("a")).forEach((e=>{c.shouldOpenInNewTab(e.href)&&!e.hasAttribute("target")&&e.setAttribute("target","_blank")}))},o}e._inheritsLoose(r,t);var o=r.prototype;return o.renderLoading=function(){return l.tsx("div",{class:p.loaderContainer,key:"loader"},l.tsx("div",{class:p.loader}))},o.renderCreated=function(){const e=this.viewModel?.created;return e?e instanceof HTMLElement?l.tsx("div",{key:e,bind:e,afterCreate:this._attachToNode}):d.isWidget(e)?l.tsx("div",{key:e},!e.destroyed&&e.render()):l.tsx("div",{key:e,innerHTML:e,afterCreate:this._addTargetToAnchors}):null},o.render=function(){const e=this.viewModel?.state;return l.tsx("div",{class:p.base},"loading"===e?this.renderLoading():this.renderCreated())},o._attachToNode=function(e){const t=this;e.appendChild(t)},e._createClass(r,[{key:"creator",get:function(){return this.viewModel?.creator},set:function(e){this.viewModel&&(this.viewModel.creator=e)}},{key:"graphic",get:function(){return this.viewModel?.graphic},set:function(e){this.viewModel&&(this.viewModel.graphic=e)}}]),r}(a);t.__decorate([r.property()],h.prototype,"creator",null),t.__decorate([r.property()],h.prototype,"graphic",null),t.__decorate([r.property({type:i})],h.prototype,"viewModel",void 0),h=t.__decorate([s.subclass("esri.widgets.Feature.FeatureContent")],h);return h}));
