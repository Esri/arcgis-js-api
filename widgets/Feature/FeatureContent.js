/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/aliasOf","../../core/accessorSupport/decorators/subclass","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../support/decorators/renderable","../../chunks/index","../support/widget","../Widget","./support/featureUtils","./FeatureContent/FeatureContentViewModel"],(function(e,r,t,o,a,s,n,i,d,c,l,u,p,h,v,f,_){"use strict";const g="esri-feature-content",y="esri-feature-content__loader-container",w="esri-feature-content__loader";let b=function(r){function t(e,t){var o;return(o=r.call(this,e,t)||this).creator=null,o.graphic=null,o.viewModel=null,o._addTargetToAnchors=e=>{Array.from(e.querySelectorAll("a")).forEach((e=>{f.shouldOpenInNewTab(e.href)&&!e.hasAttribute("target")&&e.setAttribute("target","_blank")}))},o}e._inheritsLoose(t,r);var o=t.prototype;return o.renderLoading=function(){return p.jsx("div",{class:y,key:"loader"},p.jsx("div",{class:w}))},o.renderCreated=function(){var e;const r=null==(e=this.viewModel)?void 0:e.created;return r?r instanceof HTMLElement?p.jsx("div",{key:r,bind:r,afterCreate:this._attachToNode}):h.isWidget(r)?p.jsx("div",{key:r},!r.destroyed&&r.render()):p.jsx("div",{key:r,innerHTML:r,afterCreate:this._addTargetToAnchors}):null},o.render=function(){var e;const r=null==(e=this.viewModel)?void 0:e.state;return p.jsx("div",{class:g},"loading"===r?this.renderLoading():this.renderCreated())},o._attachToNode=function(e){e.appendChild(this)},t}(v);return r.__decorate([n.aliasOf("viewModel.creator")],b.prototype,"creator",void 0),r.__decorate([n.aliasOf("viewModel.graphic")],b.prototype,"graphic",void 0),r.__decorate([u.renderable(["viewModel.created","viewModel.state"]),s.property({type:_})],b.prototype,"viewModel",void 0),b=r.__decorate([i.subclass("esri.widgets.Feature.FeatureContent")],b),b}));
