// COPYRIGHT Â© 2018 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/4.12/esri/copyright.txt for details.

define(["require","exports","../../core/tsSupport/assignHelper","../support/jsxFactory","../support/widgetUtils"],function(e,t,i,r,s){function n(e){var t=e.id,i=e.identify,n=e.filterEnabled,l=void 0===n||n,c=e.items,u=e.messages,m=e.filterText,f=void 0===m?"":m,g=e.onFilterChange,p=e.renderIcon,I=e.onItemMouseLeave,x=e.onItemMouseEnter,v=e.onItemSelect;return r.tsx("div",{class:s.classes(d.base,d.widget)},l?o({filterText:f,messages:u,onFilterChange:g,id:t}):null,a({identify:i,items:c,messages:u,filterText:f,renderIcon:p,onItemMouseLeave:I,onItemMouseEnter:x,onItemSelect:v}))}function l(e){return!!e.items}function a(e){var t=e.identify,i=e.items,n=e.renderIcon,a=e.filterText,o=e.onItemMouseLeave,m=e.onItemMouseEnter,f=e.onItemSelect;return 0===i.length?r.tsx("div",{class:d.noMatchesMessage,key:"no-matches"},e.messages.noMatches):l(i[0])?r.tsx("div",{class:d.scroller,key:"item-container"},i.map(function(e){return u({group:e,filterText:a,identify:t,renderIcon:n,onItemMouseLeave:o,onItemMouseEnter:m,onItemSelect:f})})):r.tsx("ul",{class:s.classes(d.list,d.scroller),key:"item-container"},i.map(function(e){return c({item:e,identify:t,grouped:!0,onItemMouseLeave:o,onItemMouseEnter:m,onItemSelect:f,renderIcon:n,filterText:a})}))}function o(e){var t=e.id+"-placeholder";return r.tsx("div",{class:d.filterContainer,key:"filter"},r.tsx("input",{"aria-labelledby":t,class:s.classes(d.input,d.filterInput),oninput:function(t){var i=t.currentTarget;e.onFilterChange&&e.onFilterChange(i.value)},value:e.filterText,type:"search"}),e.filterText?null:r.tsx("div",{class:d.filterPlaceholder,id:t,key:"placeholder"},r.tsx("span",{class:d.searchIcon,"aria-hidden":"true"}),r.tsx("div",{class:d.filterPlaceholderText},e.messages.filterPlaceholder)))}function c(e){var t=e.identify,i=e.item,s=e.grouped,n=e.filterText,l=e.onItemSelect,a=e.onItemMouseEnter,o=e.onItemMouseLeave,c=e.renderIcon,u=(t&&t(i)||i.id)+"__"+i.label;return r.tsx("li",{"aria-level":s?"2":"",class:d.item,"data-item":i,key:u,onclick:function(e){var t=e.currentTarget,i=t["data-item"];l&&l(i)},onmouseenter:function(e){var t=e.currentTarget,i=t["data-item"];a&&a(i)},onkeydown:function(e){if("Enter"===e.key||"Space"===e.key){var t=e.currentTarget,i=t["data-item"];l&&l(i)}},onmouseleave:function(e){var t=e.currentTarget,i=t["data-item"];o&&o(i)},tabIndex:0},r.tsx("div",{class:d.itemContainer},c&&c({item:i}),m({text:i.label,match:n})))}function u(e){var t=e.group,i=e.identify,n=e.onItemMouseLeave,l=e.onItemMouseEnter,a=e.onItemSelect,o=e.filterText,u=e.renderIcon,f=(i&&i(t)||t.id)+"-heading";return r.tsx("section",{"aria-labelledby":f,class:d.group,key:t.label},r.tsx("h4",{"aria-level":"1",id:f,class:s.classes(d.groupHeader)},m({text:t.label,match:o})),r.tsx("ul",{class:d.list},t.items.map(function(e){return c({item:e,identify:i,grouped:!0,onItemMouseLeave:n,onItemMouseEnter:l,onItemSelect:a,renderIcon:u,filterText:o})})))}function m(e){var t=e.match,i=e.text,s=null;if(t){var n=i.toLowerCase(),l=t.toLowerCase(),a=n.indexOf(l);if(-1===a)s=i;else{var o=i.substring(0,a),c=i.substr(a,t.length),u=i.substring(a+t.length);s=r.tsx("span",null,o,r.tsx("strong",null,c),u)}}else s=i;return r.tsx("span",{class:d.itemLabel},s)}Object.defineProperty(t,"__esModule",{value:!0});var d={base:"esri-item-list",list:"esri-item-list__list",group:"esri-item-list__group",scroller:"esri-item-list__scroller",groupHeader:"esri-item-list__group-header",item:"esri-item-list__list-item",itemSelected:"esri-item-list__list-item--selected",itemContainer:"esri-item-list__list-item-container",itemLabel:"esri-item-list__list-item-label",noMatchesMessage:"esri-item-list__no-matches-message",noItemsMessage:"esri-item-list__no-items-message",filterContainer:"esri-item-list__filter-container",filterPlaceholder:"esri-item-list__filter-placeholder",filterInput:"esri-item-list__filter-input",filterPlaceholderText:"esri-item-list__filter-placeholder-text",searchIcon:"esri-icon-search",widget:"esri-widget",heading:"esri-widget__heading",input:"esri-input"};t.ItemList=n,t.renderItem=c,t.renderGroup=u,t.renderLabel=m});