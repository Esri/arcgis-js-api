/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
define(["exports","../support/Heading","../support/jsxFactory","../support/widgetUtils"],(function(e,t,s,i){"use strict";const n={base:"esri-item-list",list:"esri-item-list__list",group:"esri-item-list__group",scroller:"esri-item-list__scroller",groupHeader:"esri-item-list__group-header",item:"esri-item-list__list-item",itemSelected:"esri-item-list__list-item--selected",itemContainer:"esri-item-list__list-item-container",itemLabel:"esri-item-list__list-item-label",noMatchesMessage:"esri-item-list__no-matches-message",noItemsMessage:"esri-item-list__no-items-message",filterContainer:"esri-item-list__filter-container",filterPlaceholder:"esri-item-list__filter-placeholder",filterInput:"esri-item-list__filter-input",filterPlaceholderText:"esri-item-list__filter-placeholder-text",searchIcon:"esri-icon-search",widget:"esri-widget",input:"esri-input"};function l(e){const{id:t,identify:l,filterEnabled:r=!0,headingLevel:c=4,items:m,selectedItem:d,messages:u,filterText:f="",onFilterChange:g,renderIcon:I,onItemMouseLeave:p,onItemMouseEnter:x,onItemSelect:h}=e;return s.tsx("div",{class:i.classes(n.base,n.widget),key:t},r?a({filterText:f,messages:u,onFilterChange:g,id:t}):null,o({identify:l,items:m,selectedItem:d,messages:u,filterText:f,headingLevel:c,renderIcon:I,onItemMouseLeave:p,onItemMouseEnter:x,onItemSelect:h}))}function r(e){return!!e.items}function o(e){const{headingLevel:t,identify:l,items:o,renderIcon:a,filterText:d,onItemMouseLeave:u,onItemMouseEnter:f,onItemSelect:g,selectedItem:I}=e;return 0===o.length?s.tsx("div",{class:n.noMatchesMessage,key:"no-matches"},e.messages.noMatches):r(o[0])?s.tsx("div",{class:n.scroller,key:"item-container"},o.map((e=>m({filterText:d,group:e,headingLevel:t,identify:l,onItemMouseLeave:u,onItemMouseEnter:f,onItemSelect:g,renderIcon:a,selectedItem:I})))):s.tsx("ul",{class:i.classes(n.list,n.scroller),key:"item-container"},o.map((e=>c({item:e,identify:l,grouped:!0,onItemMouseLeave:u,onItemMouseEnter:f,onItemSelect:g,renderIcon:a,filterText:d,selectedItem:I}))))}function a(e){const t=`${e.id}-placeholder`;return s.tsx("div",{class:n.filterContainer,key:"filter"},s.tsx("input",{"aria-labelledby":t,class:i.classes(n.input,n.filterInput),oninput:t=>{const s=t.currentTarget;e.onFilterChange&&e.onFilterChange(s.value)},value:e.filterText,type:"search"}),e.filterText?null:s.tsx("div",{class:n.filterPlaceholder,id:t,key:"placeholder"},s.tsx("span",{class:n.searchIcon,"aria-hidden":"true"}),s.tsx("div",{class:n.filterPlaceholderText},e.messages.filterPlaceholder)))}function c(e){const{identify:t,item:l,selectedItem:r,grouped:o,filterText:a,onItemSelect:c,onItemMouseEnter:m,onItemMouseLeave:u,renderIcon:f}=e,g=`${(null==t?void 0:t(l))||l.id}__${l.label}`,I=r?`${(null==t?void 0:t(r))||r.id}__${r.label}`:"";return s.tsx("li",{"aria-level":o?"2":"",class:i.classes(n.item,g===I&&n.itemSelected),"data-item":l,key:g,onclick:e=>{const t=e.currentTarget["data-item"];c&&c(t)},onmouseenter:e=>{const t=e.currentTarget["data-item"];m&&m(t)},onkeydown:e=>{if(!i.isActivationKey(e.key))return;const t=e.currentTarget["data-item"];c&&c(t)},onmouseleave:e=>{const t=e.currentTarget["data-item"];u&&u(t)},tabIndex:0},s.tsx("div",{class:n.itemContainer},f&&f({item:l}),d({text:l.label,match:a})))}function m(e){const{group:i,headingLevel:l,identify:r,onItemMouseLeave:o,onItemMouseEnter:a,onItemSelect:m,filterText:u,renderIcon:f,selectedItem:g}=e,I=`${r&&r(i)||i.id}-heading`;return s.tsx("section",{"aria-labelledby":I,class:n.group,key:i.label},s.tsx(t.Heading,{id:I,class:n.groupHeader,level:l},d({text:i.label,match:u})),s.tsx("ul",{class:n.list},i.items.map((e=>c({item:e,identify:r,grouped:!0,onItemMouseLeave:o,onItemMouseEnter:a,onItemSelect:m,renderIcon:f,filterText:u,selectedItem:g})))))}function d(e){const{match:t,text:i}=e;let l=null;if(t){const e=i.toLowerCase(),n=t.toLowerCase(),r=e.indexOf(n);if(-1===r)l=i;else{const e=i.substring(0,r),n=i.substr(r,t.length),o=i.substring(r+t.length);l=s.tsx("span",null,e,s.tsx("strong",null,n),o)}}else l=i;return s.tsx("span",{class:n.itemLabel},l)}e.ItemList=l,e.renderGroup=m,e.renderItem=c,e.renderLabel=d,Object.defineProperty(e,"__esModule",{value:!0})}));
