/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/aliasOf","../../core/accessorSupport/decorators/subclass","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../../core/Accessor","../../core/Collection","../../core/Identifiable","../../support/actions/ActionBase","../../support/actions/ActionButton","../../support/actions/ActionToggle","../../core/watchUtils","../../core/HandleOwner","../../support/actions/ActionSlider"],(function(e,t,o,r,i,s,a,n,c,l,p,u,d,y,h,_,f,g,v,b){"use strict";var w;const O=d.ofType({key:"type",defaultKeyValue:"button",base:h,typeMap:{button:_,toggle:f,slider:b}}),S=d.ofType(O),L="layer",A="esri.widgets.TableList.ListItem";let T=w=function(t){function o(e){var o;return(o=t.call(this,e)||this).actionsSections=new S,o.actionsOpen=!1,o.error=null,o.layer=null,o}e._inheritsLoose(o,t);var r=o.prototype;return r.initialize=function(){this.handles.add([g.init(this,"layer",(e=>this._watchLayerProperties(e)))])},r.clone=function(){return new w({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,layer:this.layer,title:this.title})},r._watchLayerProperties=function(e){this.handles&&(this.handles.remove(L),e&&this.handles.add(g.watch(e,"listMode",(()=>this._watchLayerProperties(e))),L))},e._createClass(o,[{key:"title",get:function(){const e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(e){void 0!==e?this._override("title",e):this._clearOverride("title")}}]),o}(y.IdentifiableMixin(v.HandleOwnerMixin(u)));return t.__decorate([s.property({type:S})],T.prototype,"actionsSections",void 0),t.__decorate([s.property()],T.prototype,"actionsOpen",void 0),t.__decorate([a.aliasOf("layer.loadError?")],T.prototype,"error",void 0),t.__decorate([s.property()],T.prototype,"layer",void 0),t.__decorate([s.property()],T.prototype,"title",null),T=w=t.__decorate([n.subclass(A)],T),T}));
