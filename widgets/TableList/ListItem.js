/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/aliasOf","../../core/accessorSupport/decorators/subclass","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../../core/Accessor","../../core/Collection","../../core/Identifiable","../../support/actions/ActionBase","../../support/actions/ActionButton","../../support/actions/ActionToggle","../../core/watchUtils","../../core/HandleOwner","../../support/actions/ActionSlider"],(function(e,t,r,o,i,s,a,n,c,l,p,d,u,y,h,_,f,g,v,b){"use strict";var w;const O=u.ofType({key:"type",defaultKeyValue:"button",base:h,typeMap:{button:_,toggle:f,slider:b}}),S=u.ofType(O),L="layer";let A=w=function(t){function r(e){var r;return(r=t.call(this,e)||this).actionsSections=new S,r.actionsOpen=!1,r.error=null,r.layer=null,r}e._inheritsLoose(r,t);var o=r.prototype;return o.initialize=function(){this.handles.add([g.init(this,"layer",(e=>this._watchLayerProperties(e)))])},o.clone=function(){return new w({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,layer:this.layer,title:this.title})},o._watchLayerProperties=function(e){this.handles&&(this.handles.remove(L),e&&this.handles.add(g.watch(e,"listMode",(()=>this._watchLayerProperties(e))),L))},e._createClass(r,[{key:"title",get:function(){const e=this.get("layer.layer");return(!e||e&&this.get("layer.layer.loaded"))&&this.get("layer.title")||""},set:function(e){void 0!==e?this._override("title",e):this._clearOverride("title")}}]),r}(y.IdentifiableMixin(v.HandleOwnerMixin(d)));return t.__decorate([s.property({type:S})],A.prototype,"actionsSections",void 0),t.__decorate([s.property()],A.prototype,"actionsOpen",void 0),t.__decorate([a.aliasOf("layer.loadError?")],A.prototype,"error",void 0),t.__decorate([s.property()],A.prototype,"layer",void 0),t.__decorate([s.property({dependsOn:["layer.layer?.loaded","layer.title"]})],A.prototype,"title",null),A=w=t.__decorate([n.subclass("esri.widgets.TableList.ListItem")],A),A}));
