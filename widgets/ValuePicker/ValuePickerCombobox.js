/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["require","../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/accessorSupport/decorators/subclass","../support/widgetUtils","../support/jsxFactory","./ValuePickerBaseComponent"],(function(e,t,i,o,s,l,r,a,n,u){"use strict";const c="esri-value-picker__combobox",v={combobox:`${c}-combobox`};let d=function(i){function o(e,t){var o;return(o=i.call(this,e,t)||this).items=null,o.placeholder=null,o.type="combobox",o}t._inheritsLoose(o,i);var s=o.prototype;return s.loadDependencies=function(){return Promise.all([new Promise(((t,i)=>e(["../../chunks/calcite-combobox"],t,i))),new Promise(((t,i)=>e(["../../chunks/calcite-combobox-item"],t,i)))])},s.render=function(){if(null==this.viewModel)return n.tsx("div",null);const e=this.viewModel.values?.[0];return n.tsx("div",{class:c},n.tsx("calcite-combobox",{class:v.combobox,disabled:this.viewModel.disabled,label:this.label,maxItems:10,placeholder:this.placeholder??void 0,selectionMode:"single",onCalciteComboboxChange:e=>{Array.isArray(e.target.value)||(null!=this.viewModel.values?this.viewModel.values[0]!==e.target.value&&(this.viewModel.values=[e.target.value]):this.viewModel.values=[e.target.value])}},this.items?.map((({value:t,label:i},o)=>n.tsx("calcite-combobox-item",{key:o,selected:t===e,textLabel:i,value:t})))))},s.animate=function(){this._step(1)},s.next=function(){this._step(1)},s.previous=function(){this._step(-1)},s._step=function(e){if(!this.items?.length||!this.viewModel)return;if(!this.viewModel.values)return void(this.viewModel.values=[this.items[0].value]);const t=this.items.findIndex((({value:e})=>e===this.viewModel.values[0]));if(-1===t)return void(this.viewModel.values=[this.items[0].value]);const i=t+e;i<0||i>=this.items.length?this.viewModel.loop?this.viewModel.values=[this.items[1===e?0:this.items.length-1].value]:"playing"===this.viewModel.state&&this.viewModel.pause():this.viewModel.values=[this.items[i].value]},t._createClass(o,[{key:"canNext",get:function(){return!(!this.items||!this.viewModel)&&this.items.findIndex((({value:e})=>e===this.viewModel.values?.[0]))!==this.items.length-1}},{key:"canPlay",get:function(){return null!=this.viewModel&&!!this.items?.length}},{key:"canPrevious",get:function(){return!(!this.items||null==this.viewModel)&&0!==this.items.findIndex((({value:e})=>e===this.viewModel.values?.[0]))}}]),o}(u);i.__decorate([o.property()],d.prototype,"canNext",null),i.__decorate([o.property()],d.prototype,"canPlay",null),i.__decorate([o.property()],d.prototype,"canPrevious",null),i.__decorate([o.property()],d.prototype,"items",void 0),i.__decorate([o.property()],d.prototype,"placeholder",void 0),i.__decorate([o.property()],d.prototype,"type",void 0),d=i.__decorate([r.subclass("esri.widgets.ValuePicker.ValuePickerCombobox")],d);return d}));
