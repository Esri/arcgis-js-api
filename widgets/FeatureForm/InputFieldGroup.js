/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/Accessor","../../core/HandleOwner","../../core/maybe","../../core/accessorSupport/decorators/aliasOf","../../core/arrayUtils","../../core/has","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],(function(e,t,i,r,o,s,l,n,a,p,u){"use strict";let c=function(t){function i(e){var i;return(i=t.call(this,e)||this).arcade=null,i.visibilityExpression=null,i.visibilityFunction=null,i.description=null,i.feature=null,i.groupElement=null,i.label=null,i}return e._inheritsLoose(i,t),i.prototype._dirtyEvaluatedVisibility=function(){const{groupElement:e}=this;o.isSome(e)&&e.visibilityExpression&&this.notifyChange("evaluatedVisibility")},e._createClass(i,[{key:"evaluatedVisibility",get:function(){const{visibilityFunction:e}=this;if(o.isNone(e))return;const{arcade:t}=this;return t.arcadeUtils.executeFunction(e,t.arcadeUtils.createExecContext(this.feature))}},{key:"inputFields",get:function(){return this._get("inputFields")},set:function(e){this.handles.removeAll(),e&&this.handles.add(e.map((e=>e.watch("visible",this._dirtyEvaluatedVisibility)))),this._set("inputFields",e)}},{key:"state",get:function(){return o.isSome(this.groupElement)&&this.groupElement.initialState||"expanded"},set:function(e){o.isNone(e)?this._clearOverride("state"):this._override("state",e)}},{key:"visible",get:function(){return!1!==this.evaluatedVisibility&&this.inputFields&&this.inputFields.some((e=>e.visible))}}]),i}(r.HandleOwnerMixin(i));t.__decorate([p.property()],c.prototype,"arcade",void 0),t.__decorate([s.aliasOf("groupElement.visibilityExpression")],c.prototype,"visibilityExpression",void 0),t.__decorate([p.property()],c.prototype,"visibilityFunction",void 0),t.__decorate([p.property()],c.prototype,"evaluatedVisibility",null),t.__decorate([s.aliasOf("groupElement.description")],c.prototype,"description",void 0),t.__decorate([p.property()],c.prototype,"feature",void 0),t.__decorate([p.property()],c.prototype,"groupElement",void 0),t.__decorate([p.property()],c.prototype,"inputFields",null),t.__decorate([s.aliasOf("groupElement.label")],c.prototype,"label",void 0),t.__decorate([p.property()],c.prototype,"state",null),t.__decorate([p.property()],c.prototype,"visible",null),c=t.__decorate([u.subclass("esri.widgets.FeatureForm.InputFieldGroup")],c);return c}));
