/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/Accessor","../../core/HandleOwner","../../core/accessorSupport/decorators/aliasOf","../../core/arrayUtils","../../core/has","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass"],(function(e,t,i,r,o,s,l,a,n,c){"use strict";let p=function(t){function i(e){var i;return(i=t.call(this,e)||this).arcade=null,i.config=null,i.description=null,i.feature=null,i.label=null,i.state=null,i.visibilityExpression=null,i}return e._inheritsLoose(i,t),i.prototype._dirtyEvaluatedVisibility=function(){this.visibilityExpression&&this.notifyChange("evaluatedVisibility")},e._createClass(i,[{key:"compiledFunc",get:function(){const{arcade:e}=this;return e&&e.arcadeUtils.createFunction(this.visibilityExpression)}},{key:"evaluatedVisibility",get:function(){const e=this.compiledFunc;if(!e)return;const{arcade:t}=this;return t.arcadeUtils.executeFunction(e,t.arcadeUtils.createExecContext(this.feature))}},{key:"inputFields",get:function(){return this._get("inputFields")},set:function(e){this.handles.removeAll(),e&&this.handles.add(e.map((e=>e.watch("visible",this._dirtyEvaluatedVisibility)))),this._set("inputFields",e)}},{key:"visible",get:function(){return!1!==this.evaluatedVisibility&&this.inputFields&&this.inputFields.some((e=>e.visible))}}]),i}(r.HandleOwnerMixin(i));t.__decorate([n.property()],p.prototype,"arcade",void 0),t.__decorate([n.property()],p.prototype,"compiledFunc",null),t.__decorate([n.property()],p.prototype,"config",void 0),t.__decorate([n.property()],p.prototype,"evaluatedVisibility",null),t.__decorate([o.aliasOf("config.description")],p.prototype,"description",void 0),t.__decorate([n.property()],p.prototype,"feature",void 0),t.__decorate([n.property()],p.prototype,"inputFields",null),t.__decorate([o.aliasOf("config.label")],p.prototype,"label",void 0),t.__decorate([o.aliasOf("config.state")],p.prototype,"state",void 0),t.__decorate([o.aliasOf("config.visibilityExpression")],p.prototype,"visibilityExpression",void 0),t.__decorate([n.property()],p.prototype,"visible",null),p=t.__decorate([c.subclass("esri.widgets.FeatureForm.InputFieldGroup")],p);return p}));
