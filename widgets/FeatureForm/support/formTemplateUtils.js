/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../layers/support/RangeDomain","../FieldConfig","../FieldGroupConfig"],(function(e,i,n,t){"use strict";function l(e,r,o,s=!0){return e.map((e=>{if("field"===e.type)return function(e,t,l){const{description:r,domain:o,editable:s,fieldName:p,hint:u,input:a,label:d,requiredExpression:m,visibilityExpression:f}=e,y=t[m]||null,c=t[f]||null,g=new n({description:r,domain:o,editable:s,hint:u,label:d,name:p,requiredExpression:y,visibilityExpression:c});if(a)if("text-area"===a.type||"text-box"===a.type)g.editorType=a.type,g.minLength=a.minLength,g.maxLength=a.maxLength;else if("datetime-picker"===a.type){g.editorType=a.type,g.includeTime=a.includeTime;const{max:e,min:n}=a;if(e||n){const t="range"===(null==o?void 0:o.type)?Math.min(null==e?void 0:e.getTime(),o.maxValue):null==e?void 0:e.getTime(),l="range"===(null==o?void 0:o.type)?Math.max(null==n?void 0:n.getTime(),o.minValue):null==n?void 0:n.getTime();g.domain=new i({maxValue:t,minValue:l,name:"__internal-range-domain-based-on-datetime-picker-input__"})}}else l.push({type:"unsupported-input-type",details:a});return g}(e,r,o);if("group"===e.type){if(!s)return o.push({type:"nested-group",details:e}),null;const i=r[e.visibilityExpression]||null;return new t({description:e.description,state:e.initialState,fieldConfig:l(e.elements,r,o,!1),label:e.label,visibilityExpression:i})}return o.push({type:"unsupported-element-type",details:e}),null})).filter((e=>!!e))}e.fieldConfigsFromFormTemplate=function(e){var i;const n={},t=[];return null==(i=e.expressionInfos)||i.map((e=>n[e.name]=e.expression)),{config:l(e.elements,n,t),encounteredUnsupportedTypes:t}},Object.defineProperty(e,"__esModule",{value:!0})}));
