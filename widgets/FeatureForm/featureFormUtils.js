/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../core/maybe","../../core/string"],(function(e,t,n){"use strict";const i=e=>!!e.inputFields,s=(e,n)=>t.isSome(e)&&e.input?.type===n,o={typeFieldName:null,types:[]};function p(e,i,s){const o=Object.keys(i).filter((t=>n.templateHasKey(e,t))),p=o.map((e=>i[e])),m=o.map((e=>s.get(e))).filter(t.isSome);return a(e,r(p,m))}function r(e,t){const n=t.map(((t,n)=>{let i=e[n];if(t.domain&&"coded-value"===t.domain.type){const e=t.domain.codedValues.find((e=>e.code===i));e?.name&&(i=e.name)}return[t.name,i]}));return Object.fromEntries(n)}function a(e,t){return n.replace(n.replace(e,(e=>`{${e.toLowerCase()}}`)),Object.fromEntries(Object.entries(t).map((([e,t])=>[e.toLowerCase(),t]))))}const m=e=>e?"subtype-sublayer"===e.type?{typeFieldName:e.parent?.subtypeField,types:e.parent?.subtypes}:"types"in e&&e.types?{typeFieldName:e.typeIdField,types:e.types.map((({id:e,name:t,domains:n})=>({code:e,name:t,domains:n})))}:o:o;e.getComputedAttributes=r,e.getNormalizedFeatureTypeInfo=m,e.isFieldElementWithInputType=s,e.isGroupField=i,e.parseFormTemplateString=p,e.substituteFieldTemplatesInString=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
