// COPYRIGHT Â© 2020 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/4.17/esri/copyright.txt for details.

define(["require","exports","tslib","../intl","../../esri/core/promiseUtils","../core/events","../core/Handles","../core/string","../core/watchUtils","../core/accessorSupport/decorators","./Widget","./Search/SearchResultRenderer","./Search/SearchViewModel","./support/widget"],(function(e,t,s,r,n,o,i,a,l,u,c,d,h,p){"use strict";var _="esri-search esri-widget",g="esri-widget__loader",v="esri-widget__loader-text",m="esri-widget__loader-animation",f="esri-input",y="esri-search--multiple-sources",M="esri-search--loading",w="esri-search--searching",S="esri-search--show-suggestions",b="esri-search--sources",I="esri-search--warning",x="esri-search__container",C="esri-search__input",T="esri-search__input-container",N="esri-search__form",k="esri-search__submit-button",E="esri-search__sources-button",R="esri-search__clear-button",L="esri-search__source-name",O="esri-search__suggestions-menu",B="esri-search__suggestions-list",A="esri-search__suggestions-list--current-location",D="esri-search__sources-menu",F="esri-search__source",K="esri-search__warning-menu",W="esri-search__warning-body",G="esri-search__warning-header",P="esri-search__warning-text",H="esri-search__no-value-text",U="esri-widget--disabled",V="esri-widget--button",$="esri-icon-font-fallback-text",j="esri-icon-locate-circled",X="esri-menu",q="esri-menu__list",z="esri-menu__list-item",J="esri-menu__list-item--active",Q="esri-menu__list-item--focus",Y="esri-menu__header",Z="esri-icon-search",ee="esri-icon-down-arrow esri-search__sources-button--down",te="esri-icon-up-arrow esri-search__sources-button--up",se="esri-icon-close",re="esri-icon-notice-triangle",ne="esri-icon-search",oe="esri-disabled",ie=/<[a-z/][\s\S]*>/i;return function(e){function t(t,s){var r=e.call(this,t,s)||this;return r._activeMenuItemIndex=-1,r._handles=new i,r._inputNode=null,r._menuItemCount=0,r._sourceMenuButtonNode=null,r._sourceListNode=null,r._suggestionListNode=null,r._searchResultRenderer=new d,r._relatedTarget=null,r._locateFailed=null,r.activeMenu="none",r.activeSource=null,r.activeSourceIndex=null,r.allPlaceholder=null,r.allSources=null,r.autoNavigate=null,r.autoSelect=null,r.defaultSources=null,r.disabled=!1,r.goToOverride=null,r.iconClass=ne,r.includeDefaultSources=null,r.label=void 0,r.locationEnabled=null,r.maxResults=null,r.maxSuggestions=null,r.messages=null,r.messagesCommon=null,r.minSuggestCharacters=null,r.popupEnabled=null,r.popupTemplate=null,r.portal=null,r.resultGraphic=null,r.resultGraphicEnabled=null,r.results=null,r.searchAllEnabled=null,r.searchTerm=null,r.selectedResult=null,r.sources=null,r.suggestions=null,r.suggestionsEnabled=null,r.view=null,r.viewModel=new h,r.own(l.watch(r,"searchTerm",(function(e){(e&&"warning"===r.activeMenu||!e&&!r.get("viewModel.selectedSuggestion.location"))&&(r.activeMenu="none")})),l.on(r,"viewModel.allSources","change",(function(){return r._watchSourceChanges()})),l.init(r,"viewModel.defaultPopupTemplate",(function(e){e&&(e.content=r._renderSearchResultsContent.bind(r))}))),r}return s.__extends(t,e),t.prototype.destroy=function(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)},Object.defineProperty(t.prototype,"displayedSearchTerm",{get:function(){return(""+this.viewModel.searchTerm).trim()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"suggestionsMenuId",{get:function(){return this._buildId("suggest-menu")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceMenuId",{get:function(){return this._buildId("source-menu")},enumerable:!1,configurable:!0}),t.prototype.clear=function(){},t.prototype.focus=function(){this._inputNode&&(this.activeMenu="suggestion",this._inputNode.focus(),this.emit("search-focus"))},t.prototype.blur=function(e){this._inputNode&&(this._inputNode.blur(),this._inputBlur(e),this.emit("search-blur"))},t.prototype.search=function(e){var t=this;this.activeMenu="none",this._cancelSuggest(),this._cancelSearch();var s=n.createAbortController(),r=s.signal;return this._searchController=s,this.viewModel.search(e,{signal:r}).catch((function(e){if(t._searchController===s)return t.activeMenu="none",t._searchController=null,e})).then((function(e){if(t._searchController===s)return t.activeMenu=e.numResults?"none":"warning",t._searchController=null,e}))},t.prototype.suggest=function(e){var t=this;this._cancelSuggest();var s=n.createAbortController(),r=s.signal;return this._suggestController=s,this.viewModel.suggest(e,null,{signal:r}).then((function(e){if(t._suggestController===s)return t._suggestController=null,e.numResults&&(t.activeMenu="suggestion"),t._scrollToTopSuggestion(),e})).catch((function(){if(t._suggestController===s)return t._suggestController=null,null}))},t.prototype.render=function(){var e,t=this.viewModel.state,s=((e={})[oe]="disabled"===t,e[U]=this.disabled,e);return p.tsx("div",{class:this.classes(_,s)},"loading"===t?this.renderLoader():this.renderContainer())},t.prototype.renderSubmitButton=function(){var e=this.messages;return p.tsx("button",{"aria-label":e.searchButtonTitle,bind:this,class:this.classes(k,V),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle},p.tsx("span",{"aria-hidden":"true",role:"presentation",class:Z}))},t.prototype.renderWarningMenu=function(){return p.tsx("div",{key:"esri-search__error-menu",class:this.classes(X,K)},p.tsx("div",{class:W},this.renderWarning()))},t.prototype.renderSourceMenuButton=function(){var e=this.messages,t=this.activeMenu,s=this.sourceMenuId,r=this.viewModel,n=r.activeSourceIndex,o=r.allSources,i="source"===t?this._buildId("source-item",n):null;return o.length>1?p.tsx("button",{"aria-activedescendant":i,key:"esri-search__source-menu-button",bind:this,title:e.searchIn,"aria-haspopup":"true","aria-expanded":"source"===t,"aria-controls":s,class:this.classes(E,V),onkeydown:this._handleSourceMenuButtonKeydown,onclick:this._handleSourcesMenuToggleClick,onkeyup:this._handleSourceMenuButtonKeyup,onblur:this._sourcesButtonBlur,afterCreate:p.storeNode,"data-node-ref":"_sourceMenuButtonNode"},p.tsx("span",{"aria-hidden":"true",role:"presentation",class:ee}),p.tsx("span",{"aria-hidden":"true",role:"presentation",class:te}),p.tsx("span",{class:L},this._getSourceName(n))):null},t.prototype.renderSourcesList=function(){var e=this,t=this.viewModel,s=t.allSources,r=t.searchAllEnabled;return s.length>1?p.tsx("ul",{id:this.sourceMenuId,role:"menu",bind:this,afterCreate:p.storeNode,"data-node-ref":"_sourceListNode",class:q},r?this.renderSource(h.ALL_INDEX):null,s.map((function(t,s){return e.renderSource(s)})).toArray()):null},t.prototype.renderSourcesMenu=function(){return this.viewModel.allSources.length>1?p.tsx("div",{key:"esri-search__source-menu",class:this.classes(X,D)},this.renderSourcesList()):null},t.prototype.renderLoader=function(){var e=this.messages,t=this.messagesCommon;return p.tsx("div",{role:"presentation",class:g,key:"base-loader"},p.tsx("span",{"aria-hidden":"true",role:"presentation",class:m}),p.tsx("span",{class:$},e.searchButtonTitle),p.tsx("span",{class:v},t.loading))},t.prototype.renderContainer=function(){var e,t=this.viewModel,s=t.allSources,r=t.state,n=this.activeMenu,o=((e={})[y]=s.length>1,e[M]="loading"===r,e[w]="searching"===r,e[I]="warning"===n,e[b]="source"===n,e[S]="suggestion"===n,e);return p.tsx("div",{role:"presentation",class:this.classes(o,x),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())},t.prototype.renderClearButton=function(){return this.searchTerm?p.tsx("button",{bind:this,class:this.classes(R,V),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearButtonFocus,title:this.messages.clearButtonTitle},p.tsx("span",{"aria-hidden":"true",class:se})):null},t.prototype.renderLocationGroup=function(){var e=this.messages,t=this.locationEnabled,s=this.displayedSearchTerm,r=t&&!s,n=0===this._activeMenuItemIndex;return r?p.tsx("ul",{role:"presentation",key:"esri-search__suggestion-list-current-location",class:this.classes(q,B,A)},p.tsx("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,role:"menuitem",class:this.classes(z,n?Q:null)},p.tsx("span",{"aria-hidden":"true",role:"presentation",class:j})," ",e.useCurrentLocation)):null},t.prototype.renderInput=function(){var e=this,t=e._activeMenuItemIndex,s=e.activeMenu,r=e.locationEnabled,n=e.displayedSearchTerm,o=e.messages,i=e.suggestionsMenuId,a=this.viewModel,l=a.maxInputLength,u=a.placeholder,c=a.searchTerm,d=a.suggestionCount,h=r&&!n||d,_="suggestion"===s?this._buildId("suggestion-item",t):null;return p.tsx("input",{"aria-activedescendant":_,bind:this,placeholder:u,"aria-label":o.searchButtonTitle,maxlength:l,autocomplete:"off",type:"text",class:this.classes(f,C),"aria-autocomplete":"list",value:c,"aria-haspopup":"true","aria-owns":h?i:null,role:"textbox",onkeyup:this._handleInputKeyup,onclick:this._handleInputClick,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:p.storeNode,"data-node-ref":"_inputNode",onfocusout:this._storeRelatedTarget,onfocus:this.focus,onblur:this.blur,title:c?"":u})},t.prototype.renderForm=function(){return p.tsx("form",{key:"esri-search__form",bind:this,class:N,onsubmit:this._formSubmit,role:"search"},this.renderInput())},t.prototype.renderSuggestList=function(e){var t=this,s=e.sourceIndex,r=e.results.length,n=e.results;return r?p.tsx("ul",{role:"presentation",key:"esri-search__suggestion-list-"+s,class:this.classes(q,B)},n.map((function(e){return t.renderSuggestion(e,t._menuItemCount++)}))):null},t.prototype.renderSuggestionsGroup=function(){var e=this,t=this.viewModel.suggestions;return t?t.map((function(t){return[e.renderSuggestionHeader(t),e.renderSuggestList(t)]})):null},t.prototype.renderSuggestionsMenu=function(){var e=this.activeMenu,t=this.displayedSearchTerm,s=this.locationEnabled,r=this.suggestionsMenuId,n=this.viewModel.suggestionCount,o=s&&!t||n;return this._menuItemCount=0,o?p.tsx("div",{id:r,"aria-expanded":"suggestion"===e,key:"esri-search__suggestions-menu",class:this.classes(X,O),role:"menu",bind:this,afterCreate:p.storeNode,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null},t.prototype.renderInputContainer=function(){return p.tsx("div",{key:"esri-search__input-container",class:T},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())},t.prototype.renderSuggestionHeader=function(e){var t=this.viewModel,s=t.allSources,r=t.activeSourceIndex,n=e.sourceIndex,o=e.results.length,i=s.length>1&&r===h.ALL_INDEX;return o&&i?p.tsx("div",{key:"esri-search__suggestion-header-"+n,class:Y},this._getSourceName(n)):null},t.prototype.renderSuggestion=function(e,t){var s=this._activeMenuItemIndex,r=this.messages,n=this.viewModel.searchTerm;if(n){var o=e.text||r.untitledResult,i=ie.test(o),a=[];if(i)a.push(p.tsx("div",{innerHTML:o}));else{var l=this._splitResult(o,n),u=n.toLowerCase();l.forEach((function(e,t){e&&e.length&&(e.toLowerCase()===u?a.push(p.tsx("strong",{key:t},e)):a.push(e))}))}var c=s===t;return p.tsx("li",{bind:this,id:this._buildId("suggestion-item",t),onclick:this._handleSuggestionClick,key:"esri-search__suggestion_"+t,"data-suggestion":e,role:"menuitem",class:this.classes(z,c?Q:null)},a)}},t.prototype.renderSource=function(e){var t,s=this.viewModel,r=s.activeSourceIndex,n=s.searchAllEnabled,o=((t={})[J]=e===r,t[Q]=e===(n?this._activeMenuItemIndex-1:this._activeMenuItemIndex),t);return p.tsx("li",{bind:this,key:"esri-search__source-"+e,id:this._buildId("source-item",e),onclick:this._handleSourceClick,"data-source-index":e,role:"menuitem",class:this.classes(F,z,o)},this._getSourceName(e))},t.prototype.renderNoResultsWarning=function(e){var t=this.messages,s=e?r.substitute(t.noResultsFoundForValue,{value:'"'+e+'"'}):t.noResultsFound;return p.tsx("div",{key:"esri-search__no_results"},p.tsx("div",{class:G},t.noResults),p.tsx("div",{class:P},s))},t.prototype.renderEmptySearchWarning=function(){var e=this.messages;return p.tsx("div",{key:"esri-search__empty-search"},p.tsx("span",{"aria-hidden":"true",class:re}),p.tsx("span",{class:H},e.emptyValue))},t.prototype.renderLocateWarning=function(){var e=this.messages;return p.tsx("div",{key:"esri-search__locate-error"},p.tsx("span",{"aria-hidden":"true",class:re}),p.tsx("span",{class:H},e.locateError))},t.prototype.renderWarning=function(){var e,t=this.displayedSearchTerm,s=this._locateFailed,r=this.viewModel;return s?this.renderLocateWarning():(null===(e=r.selectedSuggestion)||void 0===e?void 0:e.location)||t?this.renderNoResultsWarning(t):this.renderEmptySearchWarning()},t.prototype._buildId=function(e,t){return this.id+"-"+e+(void 0===t?"":"-"+t)},t.prototype._watchSourceChanges=function(){var e=this,t=this._handles,s=this.viewModel.allSources;t.remove("sources"),s.forEach((function(s){return t.add(l.watch(s,"name",(function(){return e.scheduleRender()})),"sources")}))},t.prototype._handleSourcesMenuToggleClick=function(){if("source"===this.activeMenu){var e=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(e)}else this.activeMenu="source",this.renderNow(),this._sourceMenuButtonNode&&this._sourceMenuButtonNode.focus(),this._activeMenuItemIndex=this.searchAllEnabled?this.activeSourceIndex+1:this.activeSourceIndex},t.prototype._handleClearButtonClick=function(){this.viewModel.clear(),this._focus()},t.prototype._handleSearchButtonClick=function(){this.search()},t.prototype._handleSuggestionClick=function(e){var t=e.currentTarget["data-suggestion"];t&&(this._focus(),this.search(t))},t.prototype._handleUseCurrentLocationClick=function(){this._useCurrentLocation()},t.prototype._useCurrentLocation=function(){var e=this;this._focus("none"),this._cancelSuggest(),this._cancelSearch();var t=n.createAbortController(),s=t.signal;this._searchController=t,this.viewModel.searchNearby({signal:s}).catch((function(){e._locateFailed=!0,e.activeMenu="warning"})).then((function(){e._searchController=null}))},t.prototype._handleSourceClick=function(e){this._setSourceFromMenuItem(e.currentTarget)},t.prototype._setSourceFromMenuItem=function(e){var t=e["data-source-index"];this.viewModel.activeSourceIndex=t,this._focus("none")},t.prototype._sourcesButtonBlur=function(e){var t=e&&e.relatedTarget;this._removeActiveMenu(t,this._sourceListNode)},t.prototype._inputBlur=function(e){var t=e&&e.relatedTarget;this._removeActiveMenu(t||this._relatedTarget,this._suggestionListNode)},t.prototype._storeRelatedTarget=function(e){this._relatedTarget=e.relatedTarget},t.prototype._clearButtonFocus=function(){this.activeMenu="none"},t.prototype._removeActiveMenu=function(e,t){!e||e&&t&&t.contains(e)||(this.activeMenu="none")},t.prototype._cancelSuggest=function(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)},t.prototype._cancelSearch=function(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1},t.prototype._handleInputKeyup=function(e){var t=o.eventKey(e);if(!(e.ctrlKey||e.metaKey||"Copy"===t||"ArrowLeft"===t||"ArrowRight"===t||"Shift"===t)){if("Tab"===t||"Escape"===t||e.shiftKey&&"Tab"===t)return this._cancelSuggest(),"Escape"===t&&(this.activeMenu="none"),void(this._activeMenuItemIndex=-1);var s="Home"===t||"End"===t||"ArrowUp"===t||"ArrowDown"===t,r=this._suggestionListNode.getElementsByTagName("li");if(r.length>0){if("suggestion"!==this.activeMenu&&(this.activeMenu="suggestion"),s)return e.preventDefault(),this._cancelSuggest(),void this.handleItemNavigation(t,r,this._suggestionListNode);var n=r[this._activeMenuItemIndex];if("Enter"===t&&n){var i=n["data-suggestion"];return void(i?(this._focus(),this.search(i)):n["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()}},t.prototype.handleItemNavigation=function(e,t,s){var r=this._activeMenuItemIndex;"Home"===e&&(this._activeMenuItemIndex=0),"End"===e&&(this._activeMenuItemIndex=t.length-1),"ArrowUp"===e&&(this._activeMenuItemIndex=0===this._activeMenuItemIndex?t.length-1:this._activeMenuItemIndex-1),"ArrowDown"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),r!==this._activeMenuItemIndex&&p.keepMenuItemWithinView(t[this._activeMenuItemIndex],s)},t.prototype._scrollToTopSuggestion=function(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)},t.prototype._handleInputClick=function(){this.activeMenu="suggestion"},t.prototype._handleInputPaste=function(e){var t=e.target;this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest()},t.prototype._handleSourceMenuButtonKeydown=function(e){var t=o.eventKey(e);"ArrowUp"!==t&&"ArrowDown"!==t&&"End"!==t&&"Home"!==t||e.preventDefault()},t.prototype._handleSourceMenuButtonKeyup=function(e){var t=o.eventKey(e),s="ArrowUp"===t||"ArrowDown"===t||"End"===t||"Home"===t;if(s&&e.preventDefault(),"Escape"!==t){var r=this._sourceListNode.getElementsByTagName("li");if(0!==r.length)return s?("source"!==this.activeMenu&&(this.activeMenu="source"),void this.handleItemNavigation(t,r,this._sourceListNode.parentElement)):void 0}else this._focus("none")},t.prototype._focus=function(e){this.focus(),this._activeMenuItemIndex=-1,e&&(this.activeMenu=e)},t.prototype._formSubmit=function(e){e.preventDefault(),-1===this._activeMenuItemIndex&&this.search()},t.prototype._getSourceName=function(e){var t=this.messages,s=this.viewModel.allSources.getItemAt(e);return e===h.ALL_INDEX?t.all:s&&s.name||t.untitledSource},t.prototype._splitResult=function(e,t){var s=a.escapeRegExpString(t);return e.replace(new RegExp("(^|)("+s+")(|$)","ig"),"$1|$2|$3").split("|")},t.prototype._renderSearchResultsContent=function(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer},s.__decorate([u.property({dependsOn:["viewModel.searchTerm"]}),p.renderable()],t.prototype,"displayedSearchTerm",null),s.__decorate([u.property({readOnly:!0,dependsOn:["id"]}),p.renderable()],t.prototype,"suggestionsMenuId",null),s.__decorate([u.property({readOnly:!0,dependsOn:["id"]}),p.renderable()],t.prototype,"sourceMenuId",null),s.__decorate([u.property(),p.renderable()],t.prototype,"activeMenu",void 0),s.__decorate([u.aliasOf("viewModel.activeSource"),p.renderable()],t.prototype,"activeSource",void 0),s.__decorate([u.aliasOf("viewModel.activeSourceIndex"),p.renderable()],t.prototype,"activeSourceIndex",void 0),s.__decorate([u.aliasOf("viewModel.allPlaceholder"),p.renderable()],t.prototype,"allPlaceholder",void 0),s.__decorate([u.aliasOf("viewModel.allSources")],t.prototype,"allSources",void 0),s.__decorate([u.aliasOf("viewModel.autoNavigate")],t.prototype,"autoNavigate",void 0),s.__decorate([u.aliasOf("viewModel.autoSelect")],t.prototype,"autoSelect",void 0),s.__decorate([u.aliasOf("viewModel.defaultSources")],t.prototype,"defaultSources",void 0),s.__decorate([p.renderable(),u.property()],t.prototype,"disabled",void 0),s.__decorate([u.aliasOf("viewModel.goToOverride")],t.prototype,"goToOverride",void 0),s.__decorate([u.property()],t.prototype,"iconClass",void 0),s.__decorate([u.aliasOf("viewModel.includeDefaultSources")],t.prototype,"includeDefaultSources",void 0),s.__decorate([u.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),s.__decorate([p.renderable(),u.aliasOf("viewModel.locationEnabled")],t.prototype,"locationEnabled",void 0),s.__decorate([u.aliasOf("viewModel.maxResults")],t.prototype,"maxResults",void 0),s.__decorate([u.aliasOf("viewModel.maxSuggestions")],t.prototype,"maxSuggestions",void 0),s.__decorate([u.property(),p.renderable(),p.messageBundle("esri/widgets/Search/t9n/Search")],t.prototype,"messages",void 0),s.__decorate([u.property(),p.renderable(),p.messageBundle("esri/t9n/common")],t.prototype,"messagesCommon",void 0),s.__decorate([u.aliasOf("viewModel.minSuggestCharacters")],t.prototype,"minSuggestCharacters",void 0),s.__decorate([u.aliasOf("viewModel.popupEnabled")],t.prototype,"popupEnabled",void 0),s.__decorate([u.aliasOf("viewModel.popupTemplate")],t.prototype,"popupTemplate",void 0),s.__decorate([u.aliasOf("viewModel.portal")],t.prototype,"portal",void 0),s.__decorate([u.aliasOf("viewModel.resultGraphic")],t.prototype,"resultGraphic",void 0),s.__decorate([u.aliasOf("viewModel.resultGraphicEnabled")],t.prototype,"resultGraphicEnabled",void 0),s.__decorate([u.aliasOf("viewModel.results"),p.renderable()],t.prototype,"results",void 0),s.__decorate([u.aliasOf("viewModel.searchAllEnabled"),p.renderable()],t.prototype,"searchAllEnabled",void 0),s.__decorate([u.aliasOf("viewModel.searchTerm"),p.renderable()],t.prototype,"searchTerm",void 0),s.__decorate([u.aliasOf("viewModel.selectedResult")],t.prototype,"selectedResult",void 0),s.__decorate([u.aliasOf("viewModel.sources")],t.prototype,"sources",void 0),s.__decorate([u.aliasOf("viewModel.suggestions"),p.renderable()],t.prototype,"suggestions",void 0),s.__decorate([u.aliasOf("viewModel.suggestionsEnabled")],t.prototype,"suggestionsEnabled",void 0),s.__decorate([u.aliasOf("viewModel.view"),p.renderable()],t.prototype,"view",void 0),s.__decorate([p.vmEvent(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),u.property({type:h}),p.renderable(["viewModel.allSources","viewModel.activeSource.placeholder","viewModel.activeSource.name","viewModel.state"])],t.prototype,"viewModel",void 0),s.__decorate([u.aliasOf("viewModel.clear")],t.prototype,"clear",null),t=s.__decorate([u.subclass("esri.widgets.Search")],t)}(c)}));