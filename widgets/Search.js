/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../intl","../core/events","../core/Handles","../core/reactiveUtils","../core/string","../core/accessorSupport/decorators/property","../core/arrayUtils","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/subclass","./Widget","./Search/SearchResultRenderer","./Search/SearchViewModel","./support/widgetUtils","./support/decorators/messageBundle","./support/decorators/vmEvent","./support/jsxFactory","../intl/substitute"],(function(e,t,s,n,r,i,o,u,a,c,l,d,h,g,_,p,m,v,M){"use strict";const y={base:"esri-search esri-widget",loader:"esri-widget__loader",loaderText:"esri-widget__loader-text",loaderAnimation:"esri-widget__loader-animation",esriInput:"esri-input",hasMultipleSources:"esri-search--multiple-sources",isLoading:"esri-search--loading",isSearching:"esri-search--searching",showSuggestions:"esri-search--show-suggestions",showSources:"esri-search--sources",showWarning:"esri-search--warning",container:"esri-search__container",input:"esri-search__input",inputContainer:"esri-search__input-container",form:"esri-search__form",submitButton:"esri-search__submit-button",sourcesButton:"esri-search__sources-button",clearButton:"esri-search__clear-button",sourceName:"esri-search__source-name",suggestionsMenu:"esri-search__suggestions-menu",suggestionList:"esri-search__suggestions-list",suggestionListCurrentLocation:"esri-search__suggestions-list--current-location",sourcesMenu:"esri-search__sources-menu",source:"esri-search__source",warningMenu:"esri-search__warning-menu",warningMenuBody:"esri-search__warning-body",warningMenuHeader:"esri-search__warning-header",warningMenuText:"esri-search__warning-text",noValueText:"esri-search__no-value-text",esriWidgetDisabled:"esri-widget--disabled",button:"esri-widget--button",fallbackText:"esri-icon-font-fallback-text",header:"esri-widget__heading",locate:"esri-icon-locate-circled",menu:"esri-menu",menuList:"esri-menu__list",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuHeader:"esri-menu__header",loadingIcon:"esri-icon-loading-indicator esri-rotating",searchIcon:"esri-icon-search",dropdownIcon:"esri-icon-down-arrow esri-search__sources-button--down",dropupIcon:"esri-icon-up-arrow esri-search__sources-button--up",clearIcon:"esri-icon-close",noticeIcon:"esri-icon-notice-triangle",widgetIcon:"esri-icon-search",disabled:"esri-disabled"},f=/<[a-z/][\s\S]*>/i;let w=function(t){function s(s,n){var o;return(o=t.call(this,s,n)||this)._activeMenuItemIndex=-1,o._handles=new r,o._inputNode=null,o._menuItemCount=0,o._sourceMenuButtonNode=null,o._sourceListNode=null,o._suggestionListNode=null,o._searchResultRenderer=new h,o._locateFailed=null,o._container=null,o.activeMenu="none",o.disabled=!1,o.iconClass=y.widgetIcon,o.messages=null,o.messagesCommon=null,o.viewModel=new g,o._clearActiveMenu=()=>{o.activeMenu="none"},o._removeActiveMenu=e=>{const t=e.relatedTarget;t&&o._container?.contains(t)||o._clearActiveMenu()},o.addHandles([i.watch((()=>o.searchTerm),(e=>{(e&&"warning"===o.activeMenu||!e&&!o.get("viewModel.selectedSuggestion.location"))&&o._clearActiveMenu()})),i.on((()=>o.viewModel?.allSources),"change",(()=>o._watchSourceChanges())),i.watch((()=>o.activeMenu),(()=>o._resetActiveMenuItemIndex()),i.initial),i.watch((()=>o.viewModel?.defaultPopupTemplate),(t=>{t&&(t.content=o._renderSearchResultsContent.bind(e._assertThisInitialized(o)))}),i.initial)]),o}e._inheritsLoose(s,t);var u=s.prototype;return u.destroy=function(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null)},u.clear=function(){this.viewModel.clear()},u.focus=function(){this._inputNode?.focus(),this.emit("search-focus")},u.blur=function(){this._inputNode?.blur(),this.emit("search-blur")},u.search=function(e){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:s}=t;return this._searchController=t,this.viewModel.search(e,{signal:s}).catch((e=>{if(this._searchController===t)return this._clearActiveMenu(),this._searchController=null,e})).then((e=>{if(this._searchController===t)return this.activeMenu=e.numResults?"none":"warning",this._searchController=null,e}))},u.suggest=function(e){this._cancelSuggest();const t=new AbortController,{signal:s}=t;return this._suggestController=t,this.viewModel.suggest(e,null,{signal:s}).then((e=>{if(this._suggestController===t)return this._suggestController=null,e.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),e})).catch((()=>{if(this._suggestController===t)return this._suggestController=null,null}))},u.render=function(){const{state:e}=this.viewModel,t={[y.disabled]:"disabled"===e,[y.esriWidgetDisabled]:this.disabled};return v.tsx("div",{class:this.classes(y.base,t)},"loading"===e?this.renderLoader():this.renderContainer())},u.renderSubmitButton=function(){const{messages:e,disabled:t}=this;return v.tsx("button",{"aria-label":e.searchButtonTitle,bind:this,disabled:t,class:this.classes(y.submitButton,y.button),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle,type:"button"},v.tsx("span",{"aria-hidden":"true",class:y.searchIcon}))},u.renderWarningMenu=function(){return v.tsx("div",{key:"esri-search__error-menu",class:this.classes(y.menu,y.warningMenu)},v.tsx("div",{class:y.warningMenuBody},this.renderWarning()))},u.renderSourceMenuButton=function(){const{messages:e,activeMenu:t,sourceMenuId:s,sourceMenuButtonId:n,disabled:r}=this,{activeSourceIndex:i,allSources:o}=this.viewModel;return o.length>1?v.tsx("button",{id:n,key:"esri-search__source-menu-button",bind:this,disabled:r,"aria-label":e.searchIn,title:e.searchIn,"aria-haspopup":"true","aria-expanded":("source"===t).toString(),"aria-controls":s,class:this.classes(y.sourcesButton,y.button),onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,afterCreate:_.storeNode,"data-node-ref":"_sourceMenuButtonNode",type:"button"},v.tsx("span",{"aria-hidden":"true",class:y.dropdownIcon}),v.tsx("span",{"aria-hidden":"true",class:y.dropupIcon}),v.tsx("span",{class:y.sourceName},this._getSourceName(i))):null},u.renderSourcesList=function(){const{allSources:e,searchAllEnabled:t}=this.viewModel,{_activeMenuItemIndex:s,activeMenu:n,sourceMenuId:r,sourceMenuButtonId:i}=this,o="source"===n&&s>-1?this._buildId("source-item",s):null;return e.length>1?v.tsx("ul",{"aria-activedescendant":o,"aria-labelledby":i,id:r,role:"menu",bind:this,afterCreate:_.storeNode,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:y.menuList,tabIndex:-1},t?this.renderSource(g.ALL_INDEX):null,e.map(((e,t)=>this.renderSource(t))).toArray()):null},u.renderSourcesMenu=function(){const{allSources:e}=this.viewModel;return e.length>1?v.tsx("div",{key:"esri-search__source-menu",class:this.classes(y.menu,y.sourcesMenu)},this.renderSourcesList()):null},u.renderLoader=function(){const{messages:e,messagesCommon:t,disabled:s}=this;return v.tsx("div",{class:y.loader,key:"base-loader",tabIndex:s?-1:null},v.tsx("span",{"aria-hidden":"true",class:y.loaderAnimation}),v.tsx("span",{class:y.fallbackText},e.searchButtonTitle),v.tsx("span",{class:y.loaderText},t.loading))},u.renderContainer=function(){const{allSources:e,state:t}=this.viewModel,{activeMenu:s}=this,n={[y.hasMultipleSources]:e.length>1,[y.isLoading]:"loading"===t,[y.isSearching]:"searching"===t,[y.showWarning]:"warning"===s,[y.showSources]:"source"===s,[y.showSuggestions]:"suggestion"===s};return v.tsx("div",{tabIndex:-1,afterCreate:e=>{this._container=e,e.addEventListener("focusout",this._removeActiveMenu)},afterRemoved:e=>{e.removeEventListener("focusout",this._removeActiveMenu)},class:this.classes(n,y.container),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())},u.renderClearButton=function(){return this.searchTerm?v.tsx("button",{bind:this,disabled:this.disabled,class:this.classes(y.clearButton,y.button),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},v.tsx("span",{"aria-hidden":"true",class:y.clearIcon})):null},u.renderLocationGroup=function(){const{messages:e,locationEnabled:t,displayedSearchTerm:s}=this,n=t&&!s,r="suggestion"===this.activeMenu&&0===this._activeMenuItemIndex;return n?v.tsx("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes(y.menuList,y.suggestionList,y.suggestionListCurrentLocation)},v.tsx("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":("suggestion"===this.activeMenu&&0===this._activeMenuItemIndex).toString(),role:"option",class:this.classes(y.menuItem,r?y.menuItemFocus:null)},v.tsx("span",{"aria-hidden":"true",class:y.locate})," ",e.useCurrentLocation)):null},u.renderInput=function(){const{activeMenu:e,locationEnabled:t,displayedSearchTerm:s,messages:n,suggestionsMenuId:r,inputId:i,_activeMenuItemIndex:o,disabled:u}=this,{maxInputLength:a,placeholder:c,searchTerm:l,suggestionCount:d}=this.viewModel,h=!(!(t&&!s)&&!d),g="suggestion"===e&&o>-1?this._buildId("suggestion-item",o):null;return v.tsx("input",{"aria-activedescendant":g,"aria-autocomplete":"list","aria-expanded":(h&&"suggestion"===e).toString(),"aria-controls":h?r:null,"aria-haspopup":"listbox","aria-label":n.searchButtonTitle,bind:this,disabled:u,placeholder:c,maxlength:a,autocomplete:"off",type:"text",class:this.classes(y.esriInput,y.input),value:l,id:i,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:_.storeNode,"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:l?"":c})},u.renderForm=function(){return v.tsx("form",{key:"esri-search__form",bind:this,disabled:this.disabled,class:y.form,onsubmit:this._formSubmit,role:"search"},this.renderInput())},u.renderSuggestList=function(e){const{sourceIndex:t}=e,s=e.results.length,n=e.results;return s?v.tsx("ul",{role:"group",key:`esri-search__suggestion-list-${t}`,class:this.classes(y.menuList,y.suggestionList)},n.map((e=>this.renderSuggestion(e,this._menuItemCount++)))):null},u.renderSuggestionsGroup=function(){const{suggestions:e}=this.viewModel;return e?e.map((e=>[this.renderSuggestionHeader(e),this.renderSuggestList(e)])):null},u.renderSuggestionsMenu=function(){const{displayedSearchTerm:e,locationEnabled:t,suggestionsMenuId:s,inputId:n}=this,{suggestionCount:r}=this.viewModel,i=t&&!e||r;return this._menuItemCount=0,i?v.tsx("div",{id:s,key:"esri-search__suggestions-menu",class:this.classes(y.menu,y.suggestionsMenu),role:"listbox","aria-labelledby":n,bind:this,afterCreate:_.storeNode,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null},u.renderInputContainer=function(){return v.tsx("div",{key:"esri-search__input-container",class:y.inputContainer},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())},u.renderSuggestionHeader=function(e){const{allSources:t,activeSourceIndex:s}=this.viewModel,{sourceIndex:n}=e,r=e.results.length,i=t.length>1&&s===g.ALL_INDEX;return r&&i?v.tsx("div",{key:`esri-search__suggestion-header-${n}`,class:y.menuHeader},this._getSourceName(n)):null},u.renderSuggestion=function(e,t){const{_activeMenuItemIndex:s,messages:n}=this,{searchTerm:r}=this.viewModel;if(r){const{text:i}=e,o=i||n.untitledResult,u=f.test(o),a=[];if(u)a.push(v.tsx("div",{innerHTML:o}));else{const e=this._splitResult(o,r),t=r.toLowerCase();e.forEach(((e,s)=>{e&&e.length&&(e.toLowerCase()===t?a.push(v.tsx("strong",{key:s},e)):a.push(e))}))}const c="suggestion"===this.activeMenu&&s===t;return v.tsx("li",{bind:this,id:this._buildId("suggestion-item",t),"aria-selected":("suggestion"===this.activeMenu&&this._activeMenuItemIndex===t).toString(),onclick:this._handleSuggestionClick,key:`esri-search__suggestion_${t}`,"data-suggestion":e,role:"option",class:this.classes(y.menuItem,c?y.menuItemFocus:null)},a)}},u.renderSource=function(e){const{activeSourceIndex:t,searchAllEnabled:s}=this.viewModel,n={[y.menuItemActive]:e===t,[y.menuItemFocus]:"source"===this.activeMenu&&e===(s?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},r=s?e+1:e;return v.tsx("li",{bind:this,key:`esri-search__source-${e}`,id:this._buildId("source-item",r),"aria-checked":(e===t).toString(),onclick:this._handleSourceClick,"data-source-index":e,role:"menuitemradio",class:this.classes(y.source,y.menuItem,n)},this._getSourceName(e))},u.renderNoResultsWarning=function(e){const{messages:t}=this,s=e?M.substitute(t.noResultsFoundForValue,{value:`"${e}"`}):t.noResultsFound;return v.tsx("div",{key:"esri-search__no_results"},v.tsx("div",{class:y.warningMenuHeader},t.noResults),v.tsx("div",{class:y.warningMenuText},s))},u.renderEmptySearchWarning=function(){const{messages:e}=this;return v.tsx("div",{key:"esri-search__empty-search"},v.tsx("span",{"aria-hidden":"true",class:y.noticeIcon}),v.tsx("span",{class:y.noValueText},e.emptyValue))},u.renderLocateWarning=function(){const{messages:e}=this;return v.tsx("div",{key:"esri-search__locate-error"},v.tsx("span",{"aria-hidden":"true",class:y.noticeIcon}),v.tsx("span",{class:y.noValueText},e.locateError))},u.renderWarning=function(){const{displayedSearchTerm:e,_locateFailed:t}=this,{viewModel:s}=this;return t?this.renderLocateWarning():s.selectedSuggestion?.location||e?this.renderNoResultsWarning(e):this.renderEmptySearchWarning()},u._resetActiveMenuItemIndex=function(){this._activeMenuItemIndex=-1},u._buildId=function(e,t){return`${this.id}-${e}${void 0===t?"":`-${t}`}`},u._watchSourceChanges=function(){const{_handles:e,viewModel:{allSources:t}}=this,s="sources";e.remove(s),t.forEach((t=>e.add(i.watch((()=>t.name),(()=>this.scheduleRender())),s)))},u._handleSourcesMenuToggleFocus=function(){"source"!==this.activeMenu&&this._clearActiveMenu()},u._handleSourcesMenuToggleClick=function(){const e="source"===this.activeMenu;this.activeMenu=e?"none":"source",this.renderNow(),"source"===this.activeMenu&&this._sourceListNode?.focus()},u._handleClearButtonClick=function(){this.viewModel.clear(),this._focus()},u._handleSearchButtonClick=function(){this.search()},u._handleSuggestionClick=function(e){const t=e.currentTarget["data-suggestion"];t&&(this._focus(),this.search(t))},u._handleUseCurrentLocationClick=function(){this._useCurrentLocation()},u._useCurrentLocation=function(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const e=new AbortController,{signal:t}=e;this._searchController=e,this.viewModel.searchNearby({signal:t}).then((e=>{this.activeMenu=e.numResults?"none":"warning"})).catch((()=>{this._locateFailed=!0,this.activeMenu="warning"})).then((()=>{this._searchController=null}))},u._handleSourceClick=function(e){this._setSourceFromMenuItem(e.currentTarget)},u._setSourceFromMenuItem=function(e){if(!e)return;const t=e["data-source-index"];this.viewModel.activeSourceIndex=t,this._clearActiveMenu(),this._sourceMenuButtonNode?.focus()},u._cancelSuggest=function(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null)},u._cancelSearch=function(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1},u._handleInputKeyup=function(e){const t=n.eventKey(e);if(e.ctrlKey||e.metaKey||"Copy"===t||"ArrowLeft"===t||"ArrowRight"===t||"Shift"===t)return;if("Tab"===t||"Escape"===t||e.shiftKey&&"Tab"===t)return this._cancelSuggest(),void("Escape"===t&&this._clearActiveMenu());const s="Home"===t||"End"===t||"ArrowUp"===t||"ArrowDown"===t;if("Enter"===t&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const r=this._suggestionListNode?.getElementsByTagName("li");if(r?.length){if("suggestion"!==this.activeMenu&&this._openSuggestionMenu(),s)return e.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(t,r,this._suggestionListNode);const n=r[this._activeMenuItemIndex];if("Enter"===t&&n){const e=n["data-suggestion"];return void(e?(this._focus(),this.search(e)):n["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest()},u._handleItemNavigation=function(e,t,s){const n=this._activeMenuItemIndex;"Home"===e&&(this._activeMenuItemIndex=0),"End"===e&&(this._activeMenuItemIndex=t.length-1),"ArrowUp"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?t.length-1:this._activeMenuItemIndex-1),"ArrowDown"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),n!==this._activeMenuItemIndex&&_.keepMenuItemWithinView(t[this._activeMenuItemIndex],s)},u._scrollToTopSuggestion=function(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0)},u._openSuggestionMenu=function(){this.activeMenu="suggestion"},u._handleInputPaste=function(e){const t=e.target;this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest()},u._handleSourceMenuKeydown=function(e){const t=n.eventKey(e);if(_.isActivationKey(t)){e.preventDefault();const t=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(t)}else"ArrowUp"!==t&&"ArrowDown"!==t&&"End"!==t&&"Home"!==t||e.preventDefault()},u._handleSourceMenuKeyup=function(e){const t=n.eventKey(e),s="ArrowUp"===t||"ArrowDown"===t||"End"===t||"Home"===t;if(s&&e.preventDefault(),"Escape"===t)return this._clearActiveMenu(),void this._sourceMenuButtonNode?.focus();const r=this._sourceListNode?.getElementsByTagName("li");return r&&0!==r.length&&s?("source"!==this.activeMenu&&(this.activeMenu="source"),void this._handleItemNavigation(t,r,this._sourceListNode.parentElement)):void 0},u._focus=function(e){this.focus(),e&&(this.activeMenu=e)},u._formSubmit=function(e){e.preventDefault(),-1===this._activeMenuItemIndex&&this.search()},u._getSourceName=function(e){const{messages:t}=this,s=this.viewModel,{allSources:n}=s,r=n.getItemAt(e);return e===g.ALL_INDEX?t.all:r&&r.name||t.untitledSource},u._splitResult=function(e,t){const s=o.escapeRegExpString(t);return e.replace(new RegExp(`(^|)(${s})(|$)`,"ig"),"$1|$2|$3").split("|")},u._renderSearchResultsContent=function(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer},e._createClass(s,[{key:"displayedSearchTerm",get:function(){return`${this.viewModel.searchTerm}`.trim()}},{key:"inputId",get:function(){return this._buildId("input")}},{key:"suggestionsMenuId",get:function(){return this._buildId("suggest-menu")}},{key:"sourceMenuId",get:function(){return this._buildId("source-menu")}},{key:"sourceMenuButtonId",get:function(){return this._buildId("source-menu-button")}},{key:"activeSource",get:function(){return this.viewModel.activeSource}},{key:"activeSourceIndex",get:function(){return this.viewModel.activeSourceIndex},set:function(e){this.viewModel.activeSourceIndex=e}},{key:"allPlaceholder",get:function(){return this.viewModel.allPlaceholder},set:function(e){this.viewModel.allPlaceholder=e}},{key:"allSources",get:function(){return this.viewModel.allSources}},{key:"autoNavigate",get:function(){return this.viewModel.autoNavigate},set:function(e){this.viewModel.autoNavigate=e}},{key:"autoSelect",get:function(){return this.viewModel.autoSelect},set:function(e){this.viewModel.autoSelect=e}},{key:"defaultSources",get:function(){return this.viewModel.defaultSources}},{key:"goToOverride",get:function(){return this.viewModel.goToOverride},set:function(e){this.viewModel.goToOverride=e}},{key:"includeDefaultSources",get:function(){return this.viewModel.includeDefaultSources},set:function(e){this.viewModel.includeDefaultSources=e}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(e){this._overrideIfSome("label",e)}},{key:"locationEnabled",get:function(){return this.viewModel.locationEnabled},set:function(e){this.viewModel.locationEnabled=e}},{key:"maxResults",get:function(){return this.viewModel.maxResults},set:function(e){this.viewModel.maxResults=e}},{key:"maxSuggestions",get:function(){return this.viewModel.maxSuggestions},set:function(e){this.viewModel.maxSuggestions=e}},{key:"minSuggestCharacters",get:function(){return this.viewModel.minSuggestCharacters},set:function(e){this.viewModel.minSuggestCharacters=e}},{key:"popupEnabled",get:function(){return this.viewModel.popupEnabled},set:function(e){this.viewModel.popupEnabled=e}},{key:"popupTemplate",get:function(){return this.viewModel.popupTemplate},set:function(e){this.viewModel.popupTemplate=e}},{key:"portal",get:function(){return this.viewModel.portal},set:function(e){this.viewModel.portal=e}},{key:"resultGraphic",get:function(){return this.viewModel.resultGraphic},set:function(e){this.viewModel.resultGraphic=e}},{key:"resultGraphicEnabled",get:function(){return this.viewModel.resultGraphicEnabled},set:function(e){this.viewModel.resultGraphicEnabled=e}},{key:"results",get:function(){return this.viewModel.results}},{key:"searchAllEnabled",get:function(){return this.viewModel.searchAllEnabled},set:function(e){this.viewModel.searchAllEnabled=e}},{key:"searchTerm",get:function(){return this.viewModel.searchTerm},set:function(e){this.viewModel.searchTerm=e}},{key:"selectedResult",get:function(){return this.viewModel.selectedResult}},{key:"sources",get:function(){return this.viewModel.sources},set:function(e){this.viewModel.sources=e}},{key:"suggestions",get:function(){return this.viewModel.suggestions}},{key:"suggestionsEnabled",get:function(){return this.viewModel.suggestionsEnabled},set:function(e){this.viewModel.suggestionsEnabled=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}}]),s}(d);t.__decorate([u.property()],w.prototype,"_activeMenuItemIndex",void 0),t.__decorate([u.property()],w.prototype,"displayedSearchTerm",null),t.__decorate([u.property({readOnly:!0})],w.prototype,"inputId",null),t.__decorate([u.property({readOnly:!0})],w.prototype,"suggestionsMenuId",null),t.__decorate([u.property({readOnly:!0})],w.prototype,"sourceMenuId",null),t.__decorate([u.property({readOnly:!0})],w.prototype,"sourceMenuButtonId",null),t.__decorate([u.property()],w.prototype,"activeMenu",void 0),t.__decorate([u.property({readOnly:!0})],w.prototype,"activeSource",null),t.__decorate([u.property()],w.prototype,"activeSourceIndex",null),t.__decorate([u.property()],w.prototype,"allPlaceholder",null),t.__decorate([u.property({readOnly:!0})],w.prototype,"allSources",null),t.__decorate([u.property()],w.prototype,"autoNavigate",null),t.__decorate([u.property()],w.prototype,"autoSelect",null),t.__decorate([u.property({readOnly:!0})],w.prototype,"defaultSources",null),t.__decorate([u.property()],w.prototype,"disabled",void 0),t.__decorate([u.property()],w.prototype,"goToOverride",null),t.__decorate([u.property()],w.prototype,"iconClass",void 0),t.__decorate([u.property()],w.prototype,"includeDefaultSources",null),t.__decorate([u.property()],w.prototype,"label",null),t.__decorate([u.property()],w.prototype,"locationEnabled",null),t.__decorate([u.property()],w.prototype,"maxResults",null),t.__decorate([u.property()],w.prototype,"maxSuggestions",null),t.__decorate([u.property(),p.messageBundle("esri/widgets/Search/t9n/Search")],w.prototype,"messages",void 0),t.__decorate([u.property(),p.messageBundle("esri/t9n/common")],w.prototype,"messagesCommon",void 0),t.__decorate([u.property()],w.prototype,"minSuggestCharacters",null),t.__decorate([u.property()],w.prototype,"popupEnabled",null),t.__decorate([u.property()],w.prototype,"popupTemplate",null),t.__decorate([u.property()],w.prototype,"portal",null),t.__decorate([u.property()],w.prototype,"resultGraphic",null),t.__decorate([u.property()],w.prototype,"resultGraphicEnabled",null),t.__decorate([u.property({readOnly:!0})],w.prototype,"results",null),t.__decorate([u.property()],w.prototype,"searchAllEnabled",null),t.__decorate([u.property()],w.prototype,"searchTerm",null),t.__decorate([u.property({readOnly:!0})],w.prototype,"selectedResult",null),t.__decorate([u.property()],w.prototype,"sources",null),t.__decorate([u.property({readOnly:!0})],w.prototype,"suggestions",null),t.__decorate([u.property()],w.prototype,"suggestionsEnabled",null),t.__decorate([u.property()],w.prototype,"view",null),t.__decorate([m.vmEvent(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),u.property({type:g})],w.prototype,"viewModel",void 0),w=t.__decorate([l.subclass("esri.widgets.Search")],w);return w}));
