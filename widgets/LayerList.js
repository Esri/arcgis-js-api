// COPYRIGHT Â© 2020 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/4.17/esri/copyright.txt for details.

define(["require","exports","tslib","../core/Collection","../core/deprecate","../core/events","../core/Handles","../core/has","../core/Logger","../core/watchUtils","../core/accessorSupport/decorators","../libs/sortablejs/Sortable","./Widget","./LayerList/LayerListViewModel","./LayerList/ListItem","./LayerList/support/layerListUtils","./support/widget"],(function(e,t,i,r,o,s,n,l,a,d,c,u,p,g,h,_,y){"use strict";function m(e,t,i){e.splice(i,0,e.splice(t,1)[0])}var v=r.ofType(h),b="esri-layer-list esri-widget esri-widget--panel",f="esri-layer-list--new-ui",I="esri-layer-list__no-items",w="esri-layer-list__list",A="esri-layer-list__list--root",C="esri-layer-list__list--exclusive",x="esri-layer-list__list--inherited",S="esri-layer-list__list--independent",k="esri-layer-list__item",L="esri-layer-list__item--error",E="esri-layer-list__item--invisible",M="esri-layer-list__item--invisible-at-scale",O="esri-layer-list__item--updating",T="esri-layer-list__item--has-children",U="esri-layer-list__item--selectable",N="esri-layer-list__item-container",P="esri-layer-list__item-actions-menu",V="esri-layer-list__item-actions-menu-item",R="esri-layer-list__item-actions-menu-item--active",B="esri-layer-list__item-actions",H="esri-layer-list__item-actions-list",F="esri-layer-list__item-action",K="esri-layer-list__item-action-icon",D="esri-layer-list__item-action-image",j="esri-layer-list__item-action-title",z="esri-layer-list__action-toggle",q="esri-layer-list__action-toggle--on",W="esri-layer-list__item-label",G="esri-layer-list__item-error-message",J="esri-layer-list__item-title",Q="esri-layer-list__item-toggle",X="esri-layer-list__item-toggle-icon",Y="esri-layer-list__item-toggle-icon",Z="esri-layer-list__item-radio-icon",$="esri-layer-list__child-toggle",ee="esri-layer-list__child-toggle--open",te="esri-layer-list__child-toggle-icon--opened",ie="esri-layer-list__child-toggle-icon--closed",re="esri-layer-list__child-toggle-icon--closed-rtl",oe="esri-layer-list--chosen",se="esri-disabled",ne="esri-disabled-element",le="esri-hidden",ae="esri-rotating",de="esri-icon-handle-horizontal",ce="esri-icon-visible",ue="esri-icon-non-visible",pe="esri-icon-radio-checked",ge="esri-icon-radio-unchecked",he="esri-icon-notice-triangle",_e="esri-icon-down-arrow",ye="esri-icon-right-triangle-arrow",me="esri-icon-left-triangle-arrow",ve="esri-icon-loading-indicator",be="esri-icon-default-action",fe="esri-icon-layers",Ie="actions",we="action-section",Ae="items",Ce="exclusive",xe="inherited";var Se=a.getLogger("esri.widgets.LayerList"),ke={statusIndicators:!0};return function(e){function t(t,r){var o=e.call(this,t,r)||this;return o._handles=new n,o._sortableNodes=new Map,o._sortableMap=new Map,o._focusSortUid=null,o._newUI=l("esri-layerlist-new-ui"),o.visibleItems=null,o.iconClass=fe,o.label=void 0,o.listItemCreatedFunction=null,o.messages=null,o.messagesCommon=null,o.multipleSelectionEnabled=!1,o.operationalItems=null,o.selectionEnabled=!1,o.selectedItems=new v,o.view=null,o.viewModel=new g,o.visibleElements=i.__assign({},ke),o._onSortableSort=function(e){var t=e.to,i=e.from,r=e.item,s=e.newIndex;i&&t&&(i===t?o._sortLayers(o._sortableMap.get(i.dataset.group)):o._moveLayerFromChildList({to:t,from:i,item:r,newIndex:s}))},o._sortableCanPut=function(e,t,i){var r,o,s=e.el.dataset.group,n=t.el.dataset.group,l=e.el["data-item"],a=i["data-item"],d=null===(r=null==a?void 0:a.layer)||void 0===r?void 0:r.type,c=null===(o=null==l?void 0:l.layer)||void 0===o?void 0:o.type;return s&&n&&d&&!("group"===c&&"group"===d)},o._sortableCanPull=function(e,t,i){var r,o=e.el.dataset.group,s=t.el.dataset.group,n=i["data-item"],l=null===(r=null==n?void 0:n.layer)||void 0===r?void 0:r.type;return o&&s&&!!l},o._onSortableEnd=function(e){var t=e.oldIndex,i=e.from,r=e.to,o=e.item;i!==r&&i.insertBefore(o,i.children[t])},o}return i.__extends(t,e),t.prototype.initialize=function(){var e=this,t=this.operationalItems;this._setVisibleItems(t),this.own(d.on(this,"operationalItems","change",(function(){return e._itemsChanged(t)})),d.init(this,"selectionEnabled",(function(){return e._toggleAllSorting()})))},t.prototype.destroy=function(){this._destroySortables(),this._handles.destroy(),this._handles=null},Object.defineProperty(t.prototype,"statusIndicatorsVisible",{set:function(e){o.deprecatedProperty(Se,"statusIndicatorsVisible",{replacement:"visibleElements.statusIndicators",version:"4.15"}),this.visibleElements=i.__assign(i.__assign({},this.visibleElements),{statusIndicators:e})},enumerable:!1,configurable:!0}),t.prototype.castVisibleElements=function(e){return i.__assign(i.__assign({},ke),e)},t.prototype.triggerAction=function(e,t){this.viewModel.triggerAction(e,t)},t.prototype.render=function(){var e,t,i=this.visibleItems,r=this._newUI,o=null===(t=this.viewModel)||void 0===t?void 0:t.state,s=((e={})[f]=r,e[le]="loading"===o,e[se]="disabled"===o,e);return y.tsx("div",{class:this.classes(b,s)},(null==i?void 0:i.length)?this.renderItems():this.renderNoItems())},t.prototype.renderNoItems=function(){return y.tsx("div",{class:I},this.messages.noItemsToDisplay)},t.prototype.renderItems=function(){var e=this,t=this.visibleItems,i=this.selectionEnabled,r=this.messages;return y.tsx("ul",{"aria-label":r.widgetLabel,role:i?"listbox":void 0,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,"data-group":"root",bind:this,class:this.classes(w,A,S)},null==t?void 0:t.map((function(t){return e.renderItem(t,null)})).toArray())},t.prototype.renderActionsMenuIcon=function(e,t){var i,r=this.messagesCommon,o=((i={})[R]=e.actionsOpen,i),s=e.actionsOpen?r.close:r.open;return y.tsx("div",{key:"actions-menu-toggle","data-item":e,bind:this,onclick:this._toggleActionsOpen,onkeydown:this._toggleActionsOpen,class:this.classes(V,o),tabindex:"0",role:"button","aria-controls":t,"aria-label":s,title:s},y.tsx("span",{"aria-hidden":"true",class:de}))},t.prototype.renderActionsMenu=function(e,t,i,r){var o=e.panel,s=o&&o.visible?this.renderPanelButton(o):null,n=1===i&&this._getSingleActionButton(t),l=n?this.renderAction({item:e,action:n,singleAction:!0}):null,a=!n&&i?this.renderActionsMenuIcon(e,r):null;return a||s||n?y.tsx("div",{key:"actions-menu",class:P},s,l,a):null},t.prototype.renderChildList=function(e,t){var i,r,o=this,s=this.selectionEnabled,n=e.visibilityMode,l=e.children,a=!!e.error,d=!!l.length&&!a,c=!d&&s&&"group"===(null===(r=e.layer)||void 0===r?void 0:r.type),u=Ce,p=xe,g=((i={})[C]=n===u,i[x]=n===p,i[S]=n!==p&&n!==u,i);return d||c?y.tsx("ul",{bind:this,key:"list-items",id:t,"data-group":e.uid,"data-item":e,afterCreate:this._sortNodeCreated,afterUpdate:this._sortNodeCreated,afterRemoved:this._sortNodeRemoved,class:this.classes(w,g),"aria-expanded":e.open?"true":"false",role:s?"listbox":n===u?"radiogroup":"group",hidden:!e.open&&!c||null},null==l?void 0:l.map((function(t){return o.renderItem(t,e)})).toArray()):null},t.prototype.renderChildrenToggle=function(e,t){var i,r=this.messagesCommon,o=e.children,s=!!e.error,n=!!o.length&&!s,l=((i={})[ee]=e.open,i),a=e.open?r.collapse:r.expand;return n?y.tsx("span",{onclick:this._toggleChildrenClick,onkeydown:this._toggleChildrenClick,"data-item":e,key:"toggle-children",class:this.classes($,l),tabindex:"0",role:"button","aria-controls":t,"aria-label":a,title:a},y.tsx("span",{"aria-hidden":"true",class:this.classes(ie,ye)}),y.tsx("span",{"aria-hidden":"true",class:this.classes(te,_e)}),y.tsx("span",{"aria-hidden":"true",class:this.classes(re,me)})):null},t.prototype.renderError=function(e){return e.error?y.tsx("div",{key:"esri-layer-list__error",class:G,role:"alert"},y.tsx("span",null,this.messages.layerError)):null},t.prototype.renderItemContent=function(e,t,i){var r=this.id+"_"+e.uid,o=r+"_actions",s=r+"__list",n=e.panel,l=this._filterActions(e.actionsSections),a=this._countActions(l);return[y.tsx("div",{key:"list-item-container",class:N},this.renderChildrenToggle(e,s),this.renderLabel(e,t,i),this.renderActionsMenu(e,l,a,o)),this.renderError(e),a?this.renderActionsSections(e,l,o):null,n&&n.open?n.render():null,this.renderChildList(e,s)]},t.prototype.renderItem=function(e,t){var r,o,s,n=this,l=n._newUI,a=n.id,d=n.selectionEnabled,c=n.selectedItems,u=n.visibleElements,p=e.children,g=a+"_"+e.uid+"__title",h=!!e.error,m=!!p.length&&!h,v=((r={})[T]=m,r[L]=!!h,r[O]=e.updating&&!t&&u.statusIndicators,r[E]=l&&!e.visible,r[M]=!e.visibleAtCurrentScale,r[U]=d,r);if(d){var b=((o={})["data-layer-uid"]=null===(s=e.layer)||void 0===s?void 0:s.uid,o["data-sort-filter"]=(!e.sortable).toString(),o);return y.tsx("li",i.__assign({key:"item-with-selection-"+e.uid,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(k,v),"aria-labelledby":g,onclick:this._toggleSelection,onkeydown:this._selectionKeydown,"data-item":e,"data-group":t?t.uid:"root",tabIndex:0,"aria-selected":_.findSelectedItem(e,c)?"true":"false",role:"option"},b),this.renderItemContent(e,t,g))}return y.tsx("li",{key:"item-no-selection-"+e.uid,bind:this,afterCreate:this._focusListItem,afterUpdate:this._focusListItem,class:this.classes(k,v),"aria-labelledby":g},this.renderItemContent(e,t,g))},t.prototype.renderItemTitle=function(e,t){var i=this.messages,r=e.title||i.untitledLayer,o=e.visibleAtCurrentScale?r:r+" ("+i.layerInvisibleAtScale+")";return y.tsx("span",{key:"layer-title-container",id:t,title:o,"aria-label":o,class:J},r)},t.prototype.renderItemToggleIcon=function(e,t){var i,r=this._newUI,o=Ce,s=t&&t.visibilityMode,n=((i={})[X]=r,i[Y]=r&&s!==o,i[Z]=r&&s===o,i[pe]=s===o&&e.visible,i[ge]=s===o&&!e.visible,i[ce]=s!==o&&e.visible,i[ue]=s!==o&&!e.visible,i);return y.tsx("span",{key:"item-toggle-icon",class:this.classes(n),"aria-hidden":"true"})},t.prototype.renderItemToggle=function(e,t,i){var r=this.selectionEnabled,o=Ce,s=t&&t.visibilityMode,n=s===o?"radio":"switch";return r?y.tsx("span",{key:"item-toggle-selection-enabled",class:Q,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":s,tabIndex:0,"aria-checked":e.visible?"true":"false",role:n,"aria-labelledby":i},this.renderItemToggleIcon(e,t)):y.tsx("span",{key:"item-toggle",class:Q},this.renderItemToggleIcon(e,t))},t.prototype.renderItemError=function(e){return e.error?y.tsx("span",{key:"notice-triangle","aria-hidden":"true",class:he}):null},t.prototype.renderLabel=function(e,t,i){var r=this.selectionEnabled,o=this._newUI,s=xe,n=Ce,l=null==t?void 0:t.visibilityMode,a=l===n?"radio":"switch",d=[this.renderItemToggle(e,t,i),this.renderItemTitle(e,i)];o&&d.reverse();var c=r?y.tsx("div",{key:"item-label-no-selection-"+e.uid,class:W},d):y.tsx("div",{key:"item-label-with-selection-"+e.uid,class:W,bind:this,onclick:this._toggleVisibility,onkeydown:this._toggleVisibility,"data-item":e,"data-parent-visibility":l,tabIndex:0,"aria-checked":e.visible?"true":"false",role:a,"aria-labelledby":i},d);return l===s||e.error?y.tsx("div",{key:"item-label-container-"+e.uid,class:W},this.renderItemError(e),this.renderItemTitle(e,i)):c},t.prototype.renderPanelButton=function(e){var t,i,r=e.className,o=e.open,s=e.title,n=e.image||r?r:be,l=this._getIconImageStyles(e),a=((t={})[R]=o,t),d=((i={})[D]=!!l["background-image"],i);return n&&(d[n]=!!n),y.tsx("div",{key:e,bind:this,"data-panel":e,onclick:this._triggerPanel,onkeydown:this._triggerPanel,class:this.classes(V,a),role:"button",tabindex:"0",title:s,"aria-label":s},y.tsx("span",{class:this.classes(d),styles:l}))},t.prototype.renderActionsSections=function(e,t,i){var r=this,o=t.toArray().map((function(t){return y.tsx("ul",{key:t,class:H},r.renderActionSection(e,t))}));return y.tsx("div",{role:"group","aria-expanded":e.actionsOpen?"true":"false",key:"actions-section",id:i,class:B,hidden:!e.actionsOpen||null},o)},t.prototype.renderActionSection=function(e,t){var i=this;return(t&&t.toArray()).map((function(t){return i.renderAction({item:e,action:t})}))},t.prototype.renderActionIcon=function(e){var t,i=e.active,r=e.className,o=this._getIconImageStyles(e),s="button"!==e.type||e.image||r?r:be,n=((t={})[D]=!i&&!!o["background-image"],t[ve]=i,t[ae]=i,t);return s&&!i&&(n[s]=!0),y.tsx("span",{key:"action-icon","aria-hidden":"true",class:this.classes(K,n),styles:o})},t.prototype.renderActionTitle=function(e,t){return t?null:y.tsx("span",{key:"action-title",class:j},e)},t.prototype.renderAction=function(e){var t,i=e.item,r=e.action,o=e.singleAction,s=r.active,n=r.disabled,l=r.title,a=((t={})[V]=o&&"button"===r.type,t[F]=s||!o&&"toggle"!==r.type,t[z]=!s&&"toggle"===r.type,t[q]=!s&&"toggle"===r.type&&r.value,t[ne]=n,t),d=[this.renderActionIcon(r),this.renderActionTitle(l,o)];return o?y.tsx("div",{bind:this,"data-item":i,"data-action":r,role:"button",key:r,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:a,tabindex:"0",title:l,"aria-label":l},d):y.tsx("li",{bind:this,"data-item":i,"data-action":r,key:r,onclick:this._triggerAction,onkeydown:this._triggerAction,classes:a,tabindex:"0",role:"button",title:l,"aria-label":l},d)},t.prototype._sortNodeRemoved=function(e){var t=this._sortableMap,i=e.dataset.group,r=t.get(i);r&&r.destroy(),t.delete(i)},t.prototype._destroySortables=function(){var e=this._sortableMap,t=this._sortableNodes;e.forEach((function(e){return e&&e.destroy()})),e.clear(),t.clear()},t.prototype._moveLayerFromChildList=function(e){var t=e.to,i=e.from,r=e.item,o=e.newIndex,s=r["data-item"],n=t["data-item"],l=i["data-item"];this.viewModel.moveListItem(s,l,n,o)},t.prototype._sortLayers=function(e){var t,i;if(e){var r=e.el["data-item"],o=e.toArray();r?_.sortChildLayersToIds(r,o):_.sortLayersToIds(null===(i=null===(t=this.view)||void 0===t?void 0:t.map)||void 0===i?void 0:i.layers,o)}},t.prototype._toggleSorting=function(e,t){var i=this._sortableMap,r=this.selectionEnabled,o=i.get(t),s=e["data-item"],n=("root"===t||s.childrenSortable&&_.canSortSublayers(s))&&r;if(o)o.option("disabled",!n);else if(n){var l=u.create(e,{dataIdAttr:"data-layer-uid",group:{name:t,pull:this._sortableCanPull,put:this._sortableCanPut},filter:'[data-sort-filter="true"]',fallbackTolerance:4,onSort:this._onSortableSort,onEnd:this._onSortableEnd,disabled:!n,chosenClass:oe});i.set(t,l)}},t.prototype._toggleAllSorting=function(){var e=this;this._sortableNodes.forEach((function(t,i){return e._toggleSorting(t,i)}))},t.prototype._sortNodeCreated=function(e){var t=e.dataset.group;t&&(this._sortableNodes.set(t,e),this._toggleSorting(e,t))},t.prototype._setVisibleItems=function(e){var t=this;this.visibleItems=null==e?void 0:e.filter((function(e){return t.errorsVisible||!e.error}))},t.prototype._getSingleActionButton=function(e){return e.reduce((function(e){return e})).filter((function(e){return e&&"button"===e.type})).getItemAt(0)},t.prototype._focusListItem=function(e){var t,i=this._focusSortUid;e&&i&&((null===(t=e["data-item"].layer)||void 0===t?void 0:t.uid)===i&&(e.focus(),this._focusSortUid=null))},t.prototype._watchActionSectionChanges=function(e,t){var i=this,r=we+t;this._handles.add(e.on("change",this.scheduleRender.bind(this)),r),e.forEach((function(e){return i._renderOnActionChanges(e,t)}))},t.prototype._renderOnActionChanges=function(e,t){var i=this,r=Ie+t;"toggle"!==e.type?"slider"!==e.type?this._handles.add([d.init(e,["className","image","id","title","visible"],(function(){return i.scheduleRender()}))],r):this._handles.add([d.init(e,["className","id","title","visible","value","displayValueEnabled","max","min","step"],(function(){return i.scheduleRender()}))],r):this._handles.add([d.init(e,["className","image","id","title","visible","value"],(function(){return i.scheduleRender()}))],r)},t.prototype._renderOnItemChanges=function(e){var t=this,i=e.uid,r=Ae+i;this._handles.add([d.init(e,["actionsOpen","visible","open","updating","title","visibleAtCurrentScale","error","visibilityMode","panel","panel.title","panel.content","panel.className","sortable","childrenSortable"],(function(){return t.scheduleRender()})),e.actionsSections.on("change",(function(){return t.scheduleRender()})),e.children.on("change",(function(){return t.scheduleRender()}))],r),e.children.forEach((function(e){return t._renderOnItemChanges(e)})),e.actionsSections.forEach((function(e){return t._watchActionSectionChanges(e,i)}))},t.prototype._itemsChanged=function(e){var t=this;this._handles.removeAll(),e.forEach((function(e){return t._renderOnItemChanges(e)})),this._setVisibleItems(e),this.scheduleRender()},t.prototype._filterActions=function(e){return e.map((function(e){return e.filter((function(e){return e.visible}))}))},t.prototype._countActions=function(e){return e.reduce((function(e,t){return e+t.length}),0)},t.prototype._getIconImageStyles=function(e){var t="esri.widgets.LayerList.ListItemPanel"===e.declaredClass||"esri.support.Action.ActionButton"===e.declaredClass||"esri.support.Action.ActionToggle"===e.declaredClass?e.image:null;return{"background-image":t?'url("'+t+'")':null}},t.prototype._selectionKeydown=function(e){var t,i,r,o,n=s.eventKey(e);if(-1!==["ArrowDown","ArrowUp"].indexOf(n)){e.stopPropagation();var l=e.currentTarget,a=l["data-item"],d=this._sortableMap,c=this.selectedItems,u=l.dataset.group,p=d.get(u);if(p){var g=_.findSelectedItem(a,c),h=p.toArray(),y=e.target,v=h.indexOf(y.dataset.layerUid);if(-1!==v){if("ArrowDown"===n){if((b=v+1)>=h.length)return;g?(m(h,v,b),p.sort(h),this._sortLayers(p),this._focusSortUid=null===(t=a.layer)||void 0===t?void 0:t.uid):(this._focusSortUid=null===(i=a.layer)||void 0===i?void 0:i.uid,this.scheduleRender())}if("ArrowUp"===n){var b;if((b=v-1)<=-1)return;g?(m(h,v,b),p.sort(h),this._sortLayers(p),this._focusSortUid=null===(r=a.layer)||void 0===r?void 0:r.uid):(this._focusSortUid=null===(o=a.layer)||void 0===o?void 0:o.uid,this.scheduleRender())}}}}else this._toggleSelection(e)},t.prototype._toggleActionsOpen=function(e){var t=e.currentTarget["data-item"],i=!t.actionsOpen;i&&this.operationalItems.forEach((function(e){return function e(t){var i=t.actionsOpen,r=t.children;i&&(t.actionsOpen=!1),r.forEach((function(t){return e(t)}))}(e)})),t.actionsOpen=i,e.stopPropagation()},t.prototype._triggerPanel=function(e){var t=e.currentTarget["data-panel"];t&&(t.open=!t.open),e.stopPropagation()},t.prototype._triggerAction=function(e){var t=e.currentTarget,i=t["data-action"],r=t["data-item"];"toggle"===i.type&&(i.value=!i.value),this.triggerAction(i,r),e.stopPropagation()},t.prototype._toggleVisibility=function(e){var t=e.currentTarget,i=t.getAttribute("data-parent-visibility"),r=t["data-item"];i===Ce&&r.visible||(r.visible=!r.visible),e.stopPropagation()},t.prototype._toggleChildrenClick=function(e){var t=e.currentTarget["data-item"];t.open=!t.open,e.stopPropagation()},t.prototype._toggleSelection=function(e){e.stopPropagation();var t=this.multipleSelectionEnabled,i=this.selectedItems,r=t&&(e.metaKey||e.ctrlKey),o=e.currentTarget["data-item"],s=_.findSelectedItem(o,i),n=i.length;if(!r)return n&&!(s&&1===n)?(i.removeAll(),void i.add(o)):void(s?i.remove(s):i.add(o));s?i.remove(s):i.add(o)},i.__decorate([c.property()],t.prototype,"visibleItems",void 0),i.__decorate([c.property()],t.prototype,"iconClass",void 0),i.__decorate([c.property(),y.renderable()],t.prototype,"errorsVisible",void 0),i.__decorate([c.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],t.prototype,"label",void 0),i.__decorate([c.aliasOf("viewModel.listItemCreatedFunction"),y.renderable()],t.prototype,"listItemCreatedFunction",void 0),i.__decorate([c.property(),y.renderable(),y.messageBundle("esri/widgets/LayerList/t9n/LayerList")],t.prototype,"messages",void 0),i.__decorate([c.property(),y.renderable(),y.messageBundle("esri/t9n/common")],t.prototype,"messagesCommon",void 0),i.__decorate([c.property()],t.prototype,"multipleSelectionEnabled",void 0),i.__decorate([c.aliasOf("viewModel.operationalItems"),y.renderable()],t.prototype,"operationalItems",void 0),i.__decorate([c.property(),y.renderable()],t.prototype,"selectionEnabled",void 0),i.__decorate([c.property(),y.renderable()],t.prototype,"selectedItems",void 0),i.__decorate([c.property(),y.renderable()],t.prototype,"statusIndicatorsVisible",null),i.__decorate([c.aliasOf("viewModel.view"),y.renderable()],t.prototype,"view",void 0),i.__decorate([y.vmEvent("trigger-action"),c.property({type:g}),y.renderable("viewModel.state")],t.prototype,"viewModel",void 0),i.__decorate([c.property(),y.renderable()],t.prototype,"visibleElements",void 0),i.__decorate([c.cast("visibleElements")],t.prototype,"castVisibleElements",null),i.__decorate([c.aliasOf("viewModel.triggerAction")],t.prototype,"triggerAction",null),i.__decorate([y.accessibleHandler()],t.prototype,"_toggleActionsOpen",null),i.__decorate([y.accessibleHandler()],t.prototype,"_triggerPanel",null),i.__decorate([y.accessibleHandler()],t.prototype,"_triggerAction",null),i.__decorate([y.accessibleHandler()],t.prototype,"_toggleVisibility",null),i.__decorate([y.accessibleHandler()],t.prototype,"_toggleChildrenClick",null),i.__decorate([y.accessibleHandler()],t.prototype,"_toggleSelection",null),t=i.__decorate([c.subclass("esri.widgets.LayerList")],t)}(p)}));