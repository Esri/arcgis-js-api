/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../../core/collectionUtils","../support/InteractiveToolViewModel","../../views/3d/interactive/analysisTools/lineOfSight/LineOfSightTool"],(function(t,e,o,r,s,i,n,l,c,a,u,p,h){"use strict";const g=r.getLogger("esri.widgets.LineOfSight.LineOfSightViewModel");let d=function(e){function o(t){var o;return(o=e.call(this,t)||this).supportedViewType="3d",o}t._inheritsLoose(o,e);var r=o.prototype;return r.start=function(){return this.createTool()},r.clear=function(){this.removeTool(),this._set("observer",null),this.targets.removeAll()},r.continue=function(){this.tool&&this.tool.continue()},r.stop=function(){this.tool&&this.tool.stop()},r.createToolParams=function(){return{toolConstructor:h.LineOfSightTool,constructorArguments:()=>({observer:this.observer,targets:this.targets})}},r.logUnsupportedError=function(){this.logError("LineOfSight widget is not implemented for MapView")},r.logError=function(...t){g.error(...t)},t._createClass(o,[{key:"state",get:function(){return this.isDisabled?"disabled":this.tool?this.tool.state:"ready"}},{key:"observer",get:function(){return this.tool?this.tool.observer:this._get("observer")||null},set:function(t){this.tool?this.tool.observer=t:this._set("observer",t)}},{key:"targets",get:function(){return this.tool?this.tool.targets:this._get("targets")||new h.LineOfSightTargetCollection},set:function(t){const e=u.referenceSetter(t,this.targets,h.LineOfSightTargetCollection);this.tool?this.tool.targets=e:this._set("targets",e)}}]),o}(p.InteractiveToolViewModel);return e.__decorate([i.property({dependsOn:["isDisabled","tool.attached","tool.state"],readOnly:!0})],d.prototype,"state",null),e.__decorate([i.property()],d.prototype,"tool",void 0),e.__decorate([i.property({dependsOn:["tool.observer"]})],d.prototype,"observer",null),e.__decorate([i.property({type:h.LineOfSightTargetCollection,dependsOn:["tool.targets"],cast:u.castForReferenceSetter,nonNullable:!0})],d.prototype,"targets",null),d=e.__decorate([n.subclass("esri.widgets.lineOfSight.LineOfSightViewModel")],d),d}));
