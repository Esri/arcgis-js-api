/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/Accessor","../../../core/Collection","../../../core/accessorSupport/decorators/property","../../../core/arrayUtils","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/decorators/subclass"],(function(e,t,o,r,n,s,i,l){"use strict";let c=function(t){function o(o){var n;return(n=t.call(this,o)||this).cellClassNameGenerator=null,n.columnReorderingEnabled=!0,n.columns=new r,n.dataProvider=function(){var t=e._asyncToGenerator((function*({page:t,pageSize:o},r){const{store:s}=e._assertThisInitialized(n);r&&(s?r(yield s.fetchItems({page:t,pageSize:o})):r&&r([]))}));return function(e,o){return t.apply(this,arguments)}}(),n.multiSortEnabled=!1,n.pageSize=50,n.rowDetailsRenderer=null,n.store=null,n}e._inheritsLoose(o,t);var n=o.prototype;return n.closeColumnMenus=function(){this.columns?.forEach((e=>{e.menu&&e.menu.open&&e.menu.set("open",!1)}))},n.sortColumn=function(e,t){const o=this.findColumn(e);o&&(o.direction=t)},n.hideColumn=function(e){const t=this.findColumn(e);t&&!1===t.hidden&&(t.hidden=!0)},n.showColumn=function(e){const t=this.findColumn(e);t&&t.hidden&&(t.hidden=!1)},n.showAllColumns=function(){this.columns?.forEach((e=>{e.hidden&&(e.hidden=!1)}))},n.findColumn=function(e){const t=[];return this.columns.forEach((e=>{t.push(e),"columns"in e&&e.columns?.forEach((e=>t.push(e)))})),t.find((t=>t.path===e))},n.getRowItemAt=function(e){return this.store?.getLocalItemAt(e)},n.refresh=function(){this.store&&(this.store.reset(),this.store.load())},e._createClass(o,[{key:"highlightIds",get:function(){return this._get("highlightIds")||new r},set:function(e){Array.isArray(e)?this._set("highlightIds",new r(e)):this._set("highlightIds",e)}},{key:"size",get:function(){return this.store&&this.store.count||0}},{key:"state",get:function(){const{store:e}=this;return e&&"disabled"!==e.state?"loading"===e.state?"loading":"loaded"===e.state?"loaded":"ready":"disabled"}}]),o}(o);t.__decorate([n.property()],c.prototype,"cellClassNameGenerator",void 0),t.__decorate([n.property()],c.prototype,"columnReorderingEnabled",void 0),t.__decorate([n.property()],c.prototype,"columns",void 0),t.__decorate([n.property()],c.prototype,"dataProvider",void 0),t.__decorate([n.property()],c.prototype,"highlightIds",null),t.__decorate([n.property()],c.prototype,"multiSortEnabled",void 0),t.__decorate([n.property()],c.prototype,"pageSize",void 0),t.__decorate([n.property()],c.prototype,"rowDetailsRenderer",void 0),t.__decorate([n.property({readOnly:!0})],c.prototype,"size",null),t.__decorate([n.property()],c.prototype,"store",void 0),t.__decorate([n.property({readOnly:!0})],c.prototype,"state",null),c=t.__decorate([l.subclass("esri.widgets.FeatureTable.Grid.GridViewModel")],c);return c}));
