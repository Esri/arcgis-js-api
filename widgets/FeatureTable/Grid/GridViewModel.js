/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/has","../../../core/Logger","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/decorators/subclass","../../../core/urlUtils","../../../core/uuid","../../../portal/support/resourceExtension","../../../core/Accessor","../../../core/Collection"],(function(e,o,t,r,n,s,i,c,l,a,d,u){"use strict";let p=function(o){function t(t){var r;return(r=o.call(this,t)||this).cellClassNameGenerator=null,r.columnReorderingEnabled=!0,r.columns=new u,r.dataProvider=async({page:o,pageSize:t},n)=>{const{store:s}=e._assertThisInitialized(r);n&&(s?n(await s.fetchItems({page:o,pageSize:t})):n&&n([]))},r.pageSize=50,r.rowDetailsRenderer=null,r.store=null,r}e._inheritsLoose(t,o);var r=t.prototype;return r.closeColumnMenus=function(){var e;null==(e=this.columns)||e.forEach((e=>{e.menu&&e.menu.open&&e.menu.set("open",!1)}))},r.sortColumn=function(e,o){const t=this.findColumn(e);t&&(t.direction=o)},r.hideColumn=function(e){const o=this.findColumn(e);o&&!1===o.hidden&&(o.hidden=!0)},r.showColumn=function(e){const o=this.findColumn(e);o&&o.hidden&&(o.hidden=!1)},r.showAllColumns=function(){var e;null==(e=this.columns)||e.forEach((e=>{e.hidden&&(e.hidden=!1)}))},r.findColumn=function(e){return this.columns.find((o=>o.path===e))},r.getRowItemAt=function(e){return this.store&&this.store.getLocalItemAt(e)},r.refresh=function(){this.store&&(this.store.reset(),this.store.load())},e._createClass(t,[{key:"size",get:function(){return this.store&&this.store.count||0}},{key:"state",get:function(){const{store:e}=this;return e&&"disabled"!==e.state?"loading"===e.state?"loading":"ready":"disabled"}}]),t}(d);return o.__decorate([s.property()],p.prototype,"cellClassNameGenerator",void 0),o.__decorate([s.property()],p.prototype,"columnReorderingEnabled",void 0),o.__decorate([s.property()],p.prototype,"columns",void 0),o.__decorate([s.property()],p.prototype,"dataProvider",void 0),o.__decorate([s.property()],p.prototype,"pageSize",void 0),o.__decorate([s.property()],p.prototype,"rowDetailsRenderer",void 0),o.__decorate([s.property({readOnly:!0})],p.prototype,"size",null),o.__decorate([s.property()],p.prototype,"store",void 0),o.__decorate([s.property({readOnly:!0})],p.prototype,"state",null),p=o.__decorate([i.subclass("esri.widgets.FeatureTable.Grid.GridViewModel")],p),p}));
