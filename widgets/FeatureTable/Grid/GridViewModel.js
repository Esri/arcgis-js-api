/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/has","../../../core/Logger","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/decorators/subclass","../../../core/urlUtils","../../../core/uuid","../../../portal/support/resourceExtension","../../../core/Accessor","../../../core/Collection"],(function(e,o,t,r,s,n,i,c,a,l,u,d){"use strict";let p=function(o){function t(t){var r;return(r=o.call(this,t)||this).cellClassNameGenerator=null,r.columnReorderingEnabled=!0,r.columns=new d,r.dataProvider=async({page:o,pageSize:t},s)=>{const{store:n}=e._assertThisInitialized(r);s&&(n?s(await n.fetchItems({page:o,pageSize:t})):s&&s([]))},r.pageSize=50,r.rowDetailsRenderer=null,r.store=null,r}e._inheritsLoose(t,o);var r=t.prototype;return r.closeColumnMenus=function(){var e;null==(e=this.columns)||e.forEach((e=>{var o;return null==(o=e.menu)?void 0:o.set("open",!1)}))},r.sortColumn=function(e,o){const t=this.findColumn(e);t&&(t.direction=o)},r.hideColumn=function(e){const o=this.findColumn(e);o&&(o.hidden=!0)},r.showColumn=function(e){const o=this.findColumn(e);o&&(o.hidden=!1)},r.showAllColumns=function(){this.columns.forEach((e=>e.hidden=!1))},r.findColumn=function(e){return this.columns.find((o=>o.path===e))},r.getRowItemAt=function(e){return this.store&&this.store.getLocalItemAt(e)},r.refresh=function(){this.store&&(this.store.reset(),this.store.load())},e._createClass(t,[{key:"size",get:function(){return this.store&&this.store.count||0}},{key:"state",get:function(){const{store:e}=this;return e&&"disabled"!==e.state?"loading"===e.state?"loading":"ready":"disabled"}}]),t}(u);return o.__decorate([n.property()],p.prototype,"cellClassNameGenerator",void 0),o.__decorate([n.property()],p.prototype,"columnReorderingEnabled",void 0),o.__decorate([n.property()],p.prototype,"columns",void 0),o.__decorate([n.property()],p.prototype,"dataProvider",void 0),o.__decorate([n.property()],p.prototype,"pageSize",void 0),o.__decorate([n.property()],p.prototype,"rowDetailsRenderer",void 0),o.__decorate([n.property({readOnly:!0,dependsOn:["store.count"]})],p.prototype,"size",null),o.__decorate([n.property()],p.prototype,"store",void 0),o.__decorate([n.property({dependsOn:["store","store.querying","store.state","store.syncing"],readOnly:!0})],p.prototype,"state",null),p=o.__decorate([i.subclass("esri.widgets.FeatureTable.Grid.GridViewModel")],p),p}));
