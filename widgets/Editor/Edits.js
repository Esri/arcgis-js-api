/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/maybe","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../../core/Accessor","../../core/HandleOwner"],(function(e,t,r,i,o,s,n,u,a,d,c,f,l){"use strict";function p(e){return i.isNone(e)?null:JSON.stringify(e)}let y=function(t){function r(e){var r;return(r=t.call(this,e)||this)._baselineAttributesJSON=null,r._baselineGeometryJSON=null,r.feature=null,r}e._inheritsLoose(r,t);var i=r.prototype;return i.trackChanges=function(){this.feature&&(this._baselineAttributesJSON=p(this.feature.attributes),this._baselineGeometryJSON=p(this.feature.geometry),this.notifyChange("attributesModified"),this.notifyChange("geometryModified"))},i.updateAttributes=function(e){this.feature.attributes=e,this.notifyChange("attributesModified")},i.updateGeometry=function(e){this.feature.geometry=e,this.notifyChange("geometryModified")},e._createClass(r,[{key:"attributesModified",get:function(){const{_baselineAttributesJSON:e,feature:t}=this;return!(!t||e===p(t.attributes))}},{key:"geometryModified",get:function(){const{_baselineGeometryJSON:e,feature:t}=this;return!(!t||e===p(t.geometry))}},{key:"modified",get:function(){return this.attributesModified||this.geometryModified}}]),r}(l.HandleOwnerMixin(f));return t.__decorate([n.property()],y.prototype,"attributesModified",null),t.__decorate([n.property()],y.prototype,"feature",void 0),t.__decorate([n.property()],y.prototype,"geometryModified",null),t.__decorate([n.property({dependsOn:["attributesModified","geometryModified"]})],y.prototype,"modified",null),y=t.__decorate([u.subclass("esri.widgets.Editor.Edits")],y),y}));
