/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/has","../../../core/Logger","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/decorators/subclass","../../../core/urlUtils","../../../core/uuid","../../../portal/support/resourceExtension","../../../core/Collection","../../../core/watchUtils","../../support/widgetUtils","../../../chunks/index","../../Widget","../css","./LegendItem"],(function(e,t,i,o,r,s,n,d,c,p,a,l,u,_,h,f,g,L){"use strict";e.Legend=function(e){function i(t,i){var o;return(o=e.call(this,t,i)||this)._items=new l,o._expandedLine=null,o}t._inheritsLoose(i,e);var o=i.prototype;return o.initialize=function(){this.own([u.init(this,"profiles",(e=>{this._destroyItems(),this._items.addMany(e.map((e=>this._createItemForLine(e))))})),this.watch("effectiveUnits",(e=>{this._items.forEach((t=>{t.effectiveUnits=e}))}))])},o.destroy=function(){this._destroyItems()},o.render=function(){return h.jsx("div",{class:g.LEGEND_CSS.base},this._items.toArray().map((e=>e.render())))},o._onExpandedToggle=function(e){this._expandedLine=e===this._expandedLine?null:e,this._items.forEach((e=>e.expanded=e.line===this._expandedLine))},o._createItemForLine=function(e){return new L.LegendItem({line:e,effectiveUnits:this.effectiveUnits,expanded:e===this._expandedLine,checkboxVisible:this.profiles.length>1,onExpandedToggle:()=>this._onExpandedToggle(e)})},o._destroyItems=function(){this._items.drain((e=>e.destroy()))},i}(f),i.__decorate([n.property()],e.Legend.prototype,"profiles",void 0),i.__decorate([n.property()],e.Legend.prototype,"effectiveUnits",void 0),i.__decorate([n.property()],e.Legend.prototype,"_items",void 0),i.__decorate([n.property()],e.Legend.prototype,"_expandedLine",void 0),e.Legend=i.__decorate([d.subclass("esri.widgets.ElevationProfile.Legend")],e.Legend),Object.defineProperty(e,"__esModule",{value:!0})}));
