/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../core/maybe","../../../core/handleUtils","../../../chunks/vec4f64","../../../support/elevationInfoUtils","./constants","../../../views/3d/interactive/visualElements/OutlineVisualElement","../../../views/3d/layers/graphics/GraphicState"],(function(e,t,n,i,a,r,o,l){"use strict";let s=function(){function e(e){this._params=e,this._visualElementHandle=null}var s=e.prototype;return s.destroy=function(){this.remove()},s.remove=function(){this._visualElementHandle=t.removeMaybe(this._visualElementHandle)},s.update=function(e){if(this.remove(),t.isNone(e))return;const s=this._params.view,c=new o.OutlineVisualElement({view:s,geometry:E(e)?e.geometry:null,attached:!1,elevationInfo:a.getGraphicEffectiveElevationInfo(e),renderOccluded:8,innerWidth:r.INPUT_LINE_SELECTED_STYLE_3D.width-r.INPUT_LINE_SELECTED_STYLE_3D.outlineSize,width:r.INPUT_LINE_SELECTED_STYLE_3D.width,innerColor:i.fromArray(r.INPUT_LINE_SELECTED_STYLE_3D.color),color:i.fromArray(r.INPUT_LINE_SELECTED_STYLE_3D.outlineColor),falloff:r.INPUT_LINE_SELECTED_STYLE_3D.falloff}),u=new l.GraphicState({graphic:e}),_=()=>c.attached=u.displaying,d=[u.watch("displaying",_),u.watch("isDraped",(e=>c.isDraped=e)),u.on("changed",(()=>c.geometry=E(e)?e.geometry:null)),s.trackGraphicState(u),s.maskOccludee(e),n.destroyHandle(c)];_(),this._visualElementHandle=n.handlesGroup(d)},e}();function E(e){return t.isSome(e.geometry)&&"polyline"===e.geometry.type}e.InputRepresentation3D=s,Object.defineProperty(e,"__esModule",{value:!0})}));
