/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../core/has","../core/Logger","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/aliasOf","../core/accessorSupport/decorators/cast","../core/deprecate","../core/accessorSupport/decorators/subclass","../core/urlUtils","../core/uuid","../portal/support/resourceExtension","./support/widgetUtils","./support/decorators/accessibleHandler","./support/decorators/messageBundle","./support/decorators/renderable","./support/decorators/vmEvent","../chunks/index","./Widget","./BasemapToggle/BasemapToggleViewModel"],(function(e,t,s,a,l,o,r,i,n,p,d,c,g,u,m,b,_,v,y,h){"use strict";const w="esri-basemap-toggle esri-widget",B="esri-basemap-toggle__image--secondary",f="esri-basemap-thumbnail esri-basemap-toggle__container",x="esri-basemap-thumbnail__image esri-basemap-toggle__image",E="esri-basemap-toggle__image--loading",M="esri-basemap-thumbnail__overlay esri-basemap-toggle__image-overlay",k="esri-basemap-thumbnail__title esri-basemap-toggle__title",j="esri-widget__loader-animation";function T(e){const t=h.getThumbnailUrl(e);return t?{backgroundImage:"url("+t+")"}:{backgroundImage:""}}const O=a.getLogger("esri.widgets.BasemapToggle"),S={title:!1};let V=function(t){function s(e,s){var a;return(a=t.call(this,e,s)||this).activeBasemap=null,a.label=void 0,a.messages=null,a.nextBasemap=null,a.view=null,a.viewModel=new h,a.visibleElements={...S},a}e._inheritsLoose(s,t);var a=s.prototype;return a.castVisibleElements=function(e){return{...S,...e}},a.toggle=function(){},a.render=function(){const e=this.viewModel,t="disabled"===e.state?null:e.activeBasemap,s="disabled"===e.state?null:e.nextBasemap,a=s?s.title:"",l=s&&"loaded"!==s.loadStatus;let o;return this.visibleElements.title&&a&&(o=v.jsx("div",{class:M,key:"esri-basemap-toggle__overlay"},v.jsx("span",{class:k,title:a},a))),v.jsx("div",{class:w,role:"button","data-basemap-id":s?s.id:"",bind:this,onclick:this._toggle,onkeydown:this._toggle,tabIndex:0,title:this.label},v.jsx("div",{class:this.classes(f,B)},v.jsx("div",{class:x,styles:T(t)})),v.jsx("div",{class:f},v.jsx("div",{class:this.classes(x,l?E:null),styles:T(s)},l?v.jsx("span",{"aria-hidden":"true",role:"presentation",class:j}):null),o))},a._toggle=function(){this.toggle()},e._createClass(s,[{key:"titleVisible",set:function(e){i.deprecatedProperty(O,"titleVisible",{replacement:"visibleElements.title",version:"4.15"}),this.visibleElements={...this.visibleElements,title:e}}}]),s}(y);return t.__decorate([o.aliasOf("viewModel.activeBasemap"),b.renderable()],V.prototype,"activeBasemap",void 0),t.__decorate([l.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],V.prototype,"label",void 0),t.__decorate([l.property(),b.renderable(),m.messageBundle("esri/widgets/BasemapToggle/t9n/BasemapToggle")],V.prototype,"messages",void 0),t.__decorate([o.aliasOf("viewModel.nextBasemap"),b.renderable()],V.prototype,"nextBasemap",void 0),t.__decorate([l.property(),b.renderable()],V.prototype,"titleVisible",null),t.__decorate([o.aliasOf("viewModel.view"),b.renderable()],V.prototype,"view",void 0),t.__decorate([_.vmEvent("toggle"),l.property({type:h}),b.renderable(["viewModel.nextBasemap.loadStatus","viewModel.state"])],V.prototype,"viewModel",void 0),t.__decorate([l.property(),b.renderable()],V.prototype,"visibleElements",void 0),t.__decorate([r.cast("visibleElements")],V.prototype,"castVisibleElements",null),t.__decorate([o.aliasOf("viewModel.toggle")],V.prototype,"toggle",null),t.__decorate([u.accessibleHandler()],V.prototype,"_toggle",null),V=t.__decorate([n.subclass("esri.widgets.BasemapToggle")],V),V}));
