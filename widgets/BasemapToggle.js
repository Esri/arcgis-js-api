/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["require","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../core/accessorSupport/decorators/property","../core/arrayUtils","../core/accessorSupport/decorators/cast","../core/accessorSupport/decorators/subclass","./Widget","./BasemapToggle/BasemapToggleViewModel","./support/decorators/accessibleHandler","./support/decorators/messageBundle","./support/jsxFactory","./support/widgetUtils"],(function(e,t,s,a,i,l,o,r,n,c,p,d,m){"use strict";const g={base:"esri-basemap-toggle esri-widget",secondaryBasemapImage:"esri-basemap-toggle__image--secondary",container:"esri-basemap-thumbnail esri-basemap-toggle__container",image:"esri-basemap-thumbnail__image esri-basemap-toggle__image",imageLoading:"esri-basemap-toggle__image--loading",overlay:"esri-basemap-thumbnail__overlay esri-basemap-toggle__image-overlay",title:"esri-basemap-thumbnail__title esri-basemap-toggle__title",overlayScrim:"esri-basemap-thumbnail__overlay-scrim",disabled:"esri-disabled",loaderAnimation:"esri-widget__loader-animation"};function u(e){const t=n.getThumbnailUrl(e);return t?{backgroundImage:"url("+t+")"}:{backgroundImage:""}}const b={title:!1};let _=function(s){function a(e,t){var a;return(a=s.call(this,e,t)||this).messages=null,a.viewModel=new n,a.visibleElements={...b},a}t._inheritsLoose(a,s);var i=a.prototype;return i.loadDependencies=function(){return Promise.all([new Promise(((t,s)=>e(["../chunks/calcite-icon"],t,s))),new Promise(((t,s)=>e(["../chunks/calcite-scrim"],t,s)))])},i.castVisibleElements=function(e){return{...b,...e}},i.toggle=function(){return this.viewModel.toggle()},i.render=function(){const e=this.viewModel,t="disabled"===e.state?null:e.activeBasemap,s="disabled"===e.state?null:e.nextBasemap,a="loading"===e.state,i="incompatible-next-basemap"===e.state,l=s?s.title:"",o=s&&"loaded"!==s.loadStatus;let r;const n=this.visibleElements.title&&l,c=i;return(n||c)&&(r=d.tsx("div",{class:g.overlay,key:"overlay"},n?d.tsx("span",{class:g.title,title:l},l):null,c?d.tsx("calcite-scrim",{class:g.overlayScrim,title:this.messages.incompatibleSpatialReference},d.tsx("calcite-icon",{icon:"exclamation-mark-triangle"})):null)),d.tsx("div",{class:this.classes(g.base,i?g.disabled:null),role:"button","data-basemap-id":s?s.id:"",bind:this,onclick:this._toggle,onkeydown:this._toggle,tabIndex:i?-1:0,title:this.label},d.tsx("div",{class:this.classes(g.container,g.secondaryBasemapImage)},d.tsx("div",{class:g.image,styles:u(t)})),d.tsx("div",{class:g.container},d.tsx("div",{class:this.classes(g.image,o?g.imageLoading:null),styles:u(s)},o||a?d.tsx("calcite-scrim",null,d.tsx("span",{"aria-hidden":"true",role:"presentation",class:g.loaderAnimation})):null),r))},i._toggle=function(){this.toggle()},t._createClass(a,[{key:"activeBasemap",get:function(){return this.viewModel.activeBasemap}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(e){this._overrideIfSome("label",e)}},{key:"nextBasemap",get:function(){return this.viewModel.nextBasemap},set:function(e){this.viewModel.nextBasemap=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}}]),a}(r);s.__decorate([a.property({readOnly:!0})],_.prototype,"activeBasemap",null),s.__decorate([a.property()],_.prototype,"label",null),s.__decorate([a.property(),p.messageBundle("esri/widgets/BasemapToggle/t9n/BasemapToggle")],_.prototype,"messages",void 0),s.__decorate([a.property()],_.prototype,"nextBasemap",null),s.__decorate([a.property()],_.prototype,"view",null),s.__decorate([a.property({type:n})],_.prototype,"viewModel",void 0),s.__decorate([a.property()],_.prototype,"visibleElements",void 0),s.__decorate([l.cast("visibleElements")],_.prototype,"castVisibleElements",null),s.__decorate([c.accessibleHandler()],_.prototype,"_toggle",null),_=s.__decorate([o.subclass("esri.widgets.BasemapToggle")],_);return _}));
