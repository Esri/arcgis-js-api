/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["require","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/arrayUtils","../core/accessorSupport/decorators/subclass","./Widget","./BasemapToggle/BasemapToggleViewModel","./BasemapToggle/css","./support/decorators/accessibleHandler","./support/decorators/messageBundle","./support/jsxFactory","./support/widgetUtils"],(function(e,t,s,a,l,i,o,r,n,c,p,d,u,g){"use strict";function m(e){const t=n.getThumbnailUrl(e);return t?{backgroundImage:"url("+t+")"}:{backgroundImage:""}}const v={title:!1};let y=function(s){function a(e,t){var a;return(a=s.call(this,e,t)||this).messages=null,a.viewModel=new n,a.visibleElements={...v},a}t._inheritsLoose(a,s);var l=a.prototype;return l.loadDependencies=function(){return Promise.all([new Promise(((t,s)=>e(["../chunks/calcite-icon"],t,s))),new Promise(((t,s)=>e(["../chunks/calcite-scrim"],t,s)))])},l.castVisibleElements=function(e){return{...v,...e}},l.toggle=function(){return this.viewModel.toggle()},l.render=function(){const e=this.viewModel,t="disabled"===e.state?null:e.activeBasemap,s="disabled"===e.state?null:e.nextBasemap,a="loading"===e.state,l="incompatible-next-basemap"===e.state,i=s?s.title:"",o=s&&"loaded"!==s.loadStatus;let r;const n=this.visibleElements.title&&i,p=l;return(n||p)&&(r=u.tsx("div",{class:c.CSS.overlay,key:"overlay"},n?u.tsx("span",{class:c.CSS.title,title:i},i):null,p?u.tsx("calcite-scrim",{class:c.CSS.overlayScrim,title:this.messages.incompatibleSpatialReference},u.tsx("calcite-icon",{icon:"exclamation-mark-triangle"})):null)),u.tsx("div",{class:this.classes(c.CSS.base,l?c.CSS.disabled:null),role:"button","data-basemap-id":s?s.id:"",bind:this,onclick:this._toggle,onkeydown:this._toggle,tabIndex:l?-1:0,title:this.label},u.tsx("div",{class:this.classes(c.CSS.container,c.CSS.secondaryBasemapImage)},u.tsx("div",{class:c.CSS.image,styles:m(t)})),u.tsx("div",{class:c.CSS.container},u.tsx("div",{class:this.classes(c.CSS.image,o?c.CSS.imageLoading:null),styles:m(s)},o||a?u.tsx("calcite-scrim",null,u.tsx("span",{"aria-hidden":"true",role:"presentation",class:c.CSS.loaderAnimation})):null),r))},l._toggle=function(){this.toggle()},t._createClass(a,[{key:"activeBasemap",get:function(){return this.viewModel.activeBasemap}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(e){this._overrideIfSome("label",e)}},{key:"nextBasemap",get:function(){return this.viewModel.nextBasemap},set:function(e){this.viewModel.nextBasemap=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}}]),a}(r);s.__decorate([a.property({readOnly:!0})],y.prototype,"activeBasemap",null),s.__decorate([a.property()],y.prototype,"label",null),s.__decorate([a.property(),d.messageBundle("esri/widgets/BasemapToggle/t9n/BasemapToggle")],y.prototype,"messages",void 0),s.__decorate([a.property()],y.prototype,"nextBasemap",null),s.__decorate([a.property()],y.prototype,"view",null),s.__decorate([a.property({type:n})],y.prototype,"viewModel",void 0),s.__decorate([a.property()],y.prototype,"visibleElements",void 0),s.__decorate([l.cast("visibleElements")],y.prototype,"castVisibleElements",null),s.__decorate([p.accessibleHandler()],y.prototype,"_toggle",null),y=s.__decorate([o.subclass("esri.widgets.BasemapToggle")],y);return y}));
