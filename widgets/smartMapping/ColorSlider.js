/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/aliasOf","../../core/accessorSupport/decorators/subclass","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../support/widgetUtils","../support/decorators/messageBundle","../support/decorators/renderable","../../chunks/index","./SmartMappingSliderBase","./ColorSlider/ColorSliderViewModel"],(function(e,r,o,i,l,s,t,a,n,d,p,c,u,m,v,g,h){"use strict";var w;const b="esri-color-slider",y="esri-color-slider__ramp",_="esri-color-slider__slider-container",f="esri-color-slider__histogram-container",M="esri-widget",S="esri-widget--panel",x="esri-disabled";let F=w=function(r){function o(e,o){var i;return(i=r.call(this,e,o)||this)._bgFillId=null,i._rampFillId=null,i.handlesSyncedToPrimary=null,i.label=void 0,i.messages=null,i.primaryHandleEnabled=null,i.stops=null,i.viewModel=new h,i.zoomOptions=null,i.viewModel&&i.viewModel.set("thumbsConstrained",!1),i._bgFillId=`${i.id}-bg-fill`,i._rampFillId=`${i.id}-linear-gradient`,i}e._inheritsLoose(o,r),o.fromRendererResult=function(e,r){const{visualVariable:{stops:o},statistics:i}=e,{avg:l,stddev:s}=i,t=e.renderer.authoringInfo.visualVariables.filter((e=>"color"===e.type))[0],a=t.minSliderValue,n=t.maxSliderValue;return new w({max:n,min:a,stops:o,histogramConfig:{average:l,standardDeviation:s,bins:r?r.bins:[]},primaryHandleEnabled:"high-to-low"!==t.theme})};var i=o.prototype;return i.updateFromRendererResult=function(e,r){const{visualVariable:{stops:o},statistics:i}=e,{avg:l,stddev:s}=i,t=e.renderer.authoringInfo.visualVariables.filter((e=>"color"===e.type))[0],a=t.minSliderValue,n=t.maxSliderValue;this.set({max:n,min:a,stops:o,histogramConfig:{average:l,standardDeviation:s,bins:r?r.bins:[]},primaryHandleEnabled:"high-to-low"!==t.theme})},i.render=function(){const{state:e,label:r}=this,o="disabled"===e,i=this.classes(b,M,S,{[x]:o});return v.jsx("div",{"aria-label":r,class:i},o?null:this.renderContent(this.renderRamp(),_,f))},i.renderRamp=function(){const{_bgFillId:e,_rampFillId:r,viewModel:o,zoomOptions:i}=this,l=o.getStopInfo();return v.jsx("div",{class:y},v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg"},v.jsx("defs",null,this.renderRampFillDefinition(r,l),this.renderBackgroundFillDefinition(e)),v.jsx("rect",{x:"0",y:"0",fill:`url(#${e})`,height:"100%",width:"100%"}),v.jsx("rect",{x:"0",y:"0",fill:`url(#${r})`,height:"100%",width:"100%"})),i?this.renderZoomCaps():null)},o}(g.SmartMappingSliderBase);return r.__decorate([t.aliasOf("viewModel.handlesSyncedToPrimary")],F.prototype,"handlesSyncedToPrimary",void 0),r.__decorate([s.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],F.prototype,"label",void 0),r.__decorate([s.property(),m.renderable(),u.messageBundle("esri/widgets/smartMapping/ColorSlider/t9n/ColorSlider")],F.prototype,"messages",void 0),r.__decorate([t.aliasOf("viewModel.primaryHandleEnabled")],F.prototype,"primaryHandleEnabled",void 0),r.__decorate([t.aliasOf("viewModel.stops")],F.prototype,"stops",void 0),r.__decorate([s.property(),m.renderable(["viewModel.handlesSyncedToPrimary","viewModel.hasTimeData","viewModel.inputFormatFunction","viewModel.inputParseFunction","viewModel.labelFormatFunction","viewModel.max","viewModel.min","viewModel.primaryHandleEnabled","viewModel.stops","viewModel.values","viewModel.zoomOptions"])],F.prototype,"viewModel",void 0),r.__decorate([t.aliasOf("viewModel.zoomOptions")],F.prototype,"zoomOptions",void 0),F=w=r.__decorate([a.subclass("esri.widgets.smartMapping.ColorSlider")],F),F}));
