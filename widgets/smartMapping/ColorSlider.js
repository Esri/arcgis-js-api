/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/aliasOf","../../core/accessorSupport/decorators/subclass","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../support/widgetUtils","../support/decorators/messageBundle","../../chunks/index","./SmartMappingSliderBase","./ColorSlider/ColorSliderViewModel"],(function(e,r,i,s,o,t,l,a,n,d,p,c,u,m,g,h){"use strict";var v;const b={base:"esri-color-slider",rampElement:"esri-color-slider__ramp",sliderContainer:"esri-color-slider__slider-container",histogramContainer:"esri-color-slider__histogram-container",esriWidget:"esri-widget",esriWidgetPanel:"esri-widget--panel",widgetIcon:"esri-icon-edit",disabled:"esri-disabled"};let _=v=function(r){function i(e,i){var s;return(s=r.call(this,e,i)||this)._bgFillId=null,s._rampFillId=null,s.handlesSyncedToPrimary=null,s.label=void 0,s.messages=null,s.primaryHandleEnabled=null,s.stops=null,s.viewModel=new h,s.zoomOptions=null,s.viewModel&&s.viewModel.set("thumbsConstrained",!1),s._bgFillId=`${s.id}-bg-fill`,s._rampFillId=`${s.id}-linear-gradient`,s}e._inheritsLoose(i,r),i.fromRendererResult=function(e,r){const{visualVariable:{stops:i},statistics:s}=e,{avg:o,stddev:t}=s,l=e.renderer.authoringInfo.visualVariables.filter((e=>"color"===e.type))[0],a=l.minSliderValue,n=l.maxSliderValue;return new v({max:n,min:a,stops:i,histogramConfig:{average:o,standardDeviation:t,bins:r?r.bins:[]},primaryHandleEnabled:"high-to-low"!==l.theme})};var s=i.prototype;return s.updateFromRendererResult=function(e,r){const{visualVariable:{stops:i},statistics:s}=e,{avg:o,stddev:t}=s,l=e.renderer.authoringInfo.visualVariables.filter((e=>"color"===e.type))[0],a=l.minSliderValue,n=l.maxSliderValue;this.set({max:n,min:a,stops:i,histogramConfig:{average:o,standardDeviation:t,bins:r?r.bins:[]},primaryHandleEnabled:"high-to-low"!==l.theme})},s.render=function(){const{state:e,label:r}=this,i="disabled"===e,s=this.classes(b.base,b.esriWidget,b.esriWidgetPanel,{[b.disabled]:i});return m.jsx("div",{"aria-label":r,class:s},i?null:this.renderContent(this.renderRamp(),b.sliderContainer,b.histogramContainer))},s.renderRamp=function(){const{_bgFillId:e,_rampFillId:r,viewModel:i,zoomOptions:s}=this,o=i.getStopInfo();return m.jsx("div",{class:b.rampElement},m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg"},m.jsx("defs",null,this.renderRampFillDefinition(r,o),this.renderBackgroundFillDefinition(e)),m.jsx("rect",{x:"0",y:"0",fill:`url(#${e})`,height:"100%",width:"100%"}),m.jsx("rect",{x:"0",y:"0",fill:`url(#${r})`,height:"100%",width:"100%"})),s?this.renderZoomCaps():null)},i}(g.SmartMappingSliderBase);return r.__decorate([l.aliasOf("viewModel.handlesSyncedToPrimary")],_.prototype,"handlesSyncedToPrimary",void 0),r.__decorate([t.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],_.prototype,"label",void 0),r.__decorate([t.property(),u.messageBundle("esri/widgets/smartMapping/ColorSlider/t9n/ColorSlider")],_.prototype,"messages",void 0),r.__decorate([l.aliasOf("viewModel.primaryHandleEnabled")],_.prototype,"primaryHandleEnabled",void 0),r.__decorate([l.aliasOf("viewModel.stops")],_.prototype,"stops",void 0),r.__decorate([t.property()],_.prototype,"viewModel",void 0),r.__decorate([l.aliasOf("viewModel.zoomOptions")],_.prototype,"zoomOptions",void 0),_=v=r.__decorate([a.subclass("esri.widgets.smartMapping.ColorSlider")],_),_}));
