/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/has","../../../core/maybe","../../../core/Logger","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/decorators/subclass","../../../core/urlUtils","../../../core/uuid","../../../portal/support/resourceExtension","../SmartMappingSliderViewModel"],(function(e,t,o,n,r,s,a,i,c,l,u,p){"use strict";let h=function(t){function o(e){var o;return(o=t.call(this,e)||this).zoomingEnabled=!1,o}e._inheritsLoose(o,t);var r=o.prototype;return r.setValue=function(e,t){const{max:o,min:n}=this;t>o||t<n||(this._updateBreakInfos(t,e),this.notifyChange("values"),this.notifyChange("labels"))},r.getStopInfo=function(){const{breaks:e,max:t,min:o}=this,n=t-o;if(!e||!e.length||!n)return[];const r=[];return e.forEach((e=>{const{color:s,max:a,min:i}=e;let c,l;t===o?c=l=0:(c=(t-i)/n,l=(t-a)/n),r.push({offset:c,color:s},{offset:l,color:s})})),r},r._updateBreakMax=function(e){const{breaks:t,max:o,min:r}=this;!isNaN(e)&&o!==e&&n.isSome(r)&&e>r&&t&&t.length&&(t[t.length-1].max=e)},r._updateBreakMin=function(e){const{breaks:t,max:o,min:r}=this;!isNaN(e)&&r!==e&&n.isSome(o)&&e<o&&t&&t.length&&(t[0].min=e)},r._updateBreakInfos=function(e,t){const{breaks:o}=this;o[t].max=e,o[t].min>o[t].max&&(o[t].min=e),n.isSome(o[t+1])&&(o[t+1].min=e)},e._createClass(o,[{key:"breaks",set:function(e){this._set("breaks",e),this.notifyChange("max"),this.notifyChange("min")}},{key:"max",get:function(){const{breaks:e}=this;return e&&e.length?e[e.length-1].max:null},set:function(e){this._updateBreakMax(e),this.setMax(e)}},{key:"min",get:function(){const{breaks:e}=this;return e&&e.length?e[0].min:null},set:function(e){this._updateBreakMin(e),this.setMin(e)}},{key:"values",get:function(){const{breaks:e}=this;if(!e||!e.length)return[];const t=e.map((e=>e.max));return t.pop(),t}}]),o}(p);return t.__decorate([a.property()],h.prototype,"breaks",null),t.__decorate([a.property()],h.prototype,"max",null),t.__decorate([a.property()],h.prototype,"min",null),t.__decorate([a.property({readOnly:!0})],h.prototype,"values",null),t.__decorate([a.property({readOnly:!0})],h.prototype,"zoomingEnabled",void 0),h=t.__decorate([i.subclass("esri.widgets.smartMapping.ClassedColorSlider.ClassedColorSliderViewModel")],h),h}));
