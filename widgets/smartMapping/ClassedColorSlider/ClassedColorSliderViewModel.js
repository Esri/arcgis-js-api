/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/has","../../../core/maybe","../../../core/Logger","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/decorators/subclass","../../../core/urlUtils","../../../core/uuid","../../../portal/support/resourceExtension","../SmartMappingSliderViewModel"],(function(e,t,n,o,r,s,a,i,c,l,u,p){"use strict";let h=function(t){function n(e){var n;return(n=t.call(this,e)||this).zoomingEnabled=!1,n}e._inheritsLoose(n,t);var r=n.prototype;return r.setValue=function(e,t){const{max:n,min:o}=this;t>n||t<o||(this._updateBreakInfos(t,e),this.notifyChange("values"),this.notifyChange("labels"))},r.getStopInfo=function(){const{breaks:e,max:t,min:n}=this,o=t-n;if(!e||!e.length||!o)return[];const r=[];return e.forEach((e=>{const{color:s,max:a,min:i}=e;let c,l;t===n?c=l=0:(c=(t-i)/o,l=(t-a)/o),r.push({offset:c,color:s},{offset:l,color:s})})),r},r._updateBreakMax=function(e){const{breaks:t,max:n,min:r}=this;!isNaN(e)&&n!==e&&o.isSome(r)&&e>r&&t&&t.length&&(t[t.length-1].max=e)},r._updateBreakMin=function(e){const{breaks:t,max:n,min:r}=this;!isNaN(e)&&r!==e&&o.isSome(n)&&e<n&&t&&t.length&&(t[0].min=e)},r._updateBreakInfos=function(e,t){const{breaks:n}=this;n[t].max=e,n[t].min>n[t].max&&(n[t].min=e),o.isSome(n[t+1])&&(n[t+1].min=e)},e._createClass(n,[{key:"breaks",set:function(e){this._set("breaks",e),this.notifyChange("max"),this.notifyChange("min")}},{key:"max",set:function(e){this._updateBreakMax(e),this.setMax(e)},get:function(){const{breaks:e}=this;return e&&e.length?e[e.length-1].max:null}},{key:"min",set:function(e){this._updateBreakMin(e),this.setMin(e)},get:function(){const{breaks:e}=this;return e&&e.length?e[0].min:null}},{key:"values",get:function(){const{breaks:e}=this;if(!e||!e.length)return[];const t=e.map((e=>e.max));return t.pop(),t}}]),n}(p);return t.__decorate([a.property()],h.prototype,"breaks",null),t.__decorate([a.property({dependsOn:["breaks"]})],h.prototype,"max",null),t.__decorate([a.property({dependsOn:["breaks"]})],h.prototype,"min",null),t.__decorate([a.property({dependsOn:["breaks"],readOnly:!0})],h.prototype,"values",null),t.__decorate([a.property({readOnly:!0})],h.prototype,"zoomingEnabled",void 0),h=t.__decorate([i.subclass("esri.widgets.smartMapping.ClassedColorSlider.ClassedColorSliderViewModel")],h),h}));
