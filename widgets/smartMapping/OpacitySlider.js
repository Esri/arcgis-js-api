/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/Logger","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/aliasOf","../../core/accessorSupport/decorators/cast","../../core/accessorSupport/decorators/subclass","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../../Color","../support/widgetUtils","../support/decorators/messageBundle","../../chunks/index","./SmartMappingSliderBase","./OpacitySlider/OpacitySliderViewModel"],(function(e,i,s,t,r,o,a,l,n,d,p,c,u,g,m,v,y){"use strict";var _;const b={base:"esri-opacity-slider",rampElement:"esri-opacity-slider__ramp",sliderContainer:"esri-opacity-slider__slider-container",histogramContainer:"esri-opacity-slider__histogram-container",esriWidget:"esri-widget",esriWidgetPanel:"esri-widget--panel",widgetIcon:"esri-icon-edit",disabled:"esri-disabled"},h={trackFillColor:new c([0,121,193])};let f=_=function(i){function s(e,s){var t;return(t=i.call(this,e,s)||this)._bgFillId=null,t._rampFillId=null,t.label=void 0,t.messages=null,t.stops=null,t.style={...h},t.viewModel=new y,t.zoomOptions=null,t._rampFillId=`${t.id}-ramp-fill`,t._bgFillId=`${t.id}-bg-fill`,t}e._inheritsLoose(s,i);var t=s.prototype;return t.castStyle=function(e){return{...h,...e}},s.fromVisualVariableResult=function(e,i){const{visualVariable:{stops:s},statistics:t}=e,{avg:r,max:o,min:a,stddev:l}=t;return new _({max:o,min:a,stops:s,histogramConfig:{average:r,standardDeviation:l,bins:i?i.bins:[]}})},t.updateFromVisualVariableResult=function(e,i){const{visualVariable:{stops:s},statistics:t}=e,{avg:r,max:o,min:a,stddev:l}=t;this.set({max:o,min:a,stops:s,histogramConfig:{average:r,standardDeviation:l,bins:i?i.bins:[]}})},t.render=function(){const{state:e,label:i}=this,s="disabled"===e,t=this.classes(b.base,b.esriWidget,b.esriWidgetPanel,{[b.disabled]:s});return m.jsx("div",{"aria-label":i,class:t},s?null:this.renderContent(this.renderRamp(),b.sliderContainer,b.histogramContainer))},t.renderRamp=function(){const{_bgFillId:e,_rampFillId:i,style:{trackFillColor:s},viewModel:t,zoomOptions:r}=this,o=t.getStopInfo(s);return m.jsx("div",{class:b.rampElement},m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg"},m.jsx("defs",null,this.renderRampFillDefinition(i,o),this.renderBackgroundFillDefinition(e)),m.jsx("rect",{x:"0",y:"0",fill:`url(#${e})`,height:"100%",width:"100%"}),m.jsx("rect",{x:"0",y:"0",fill:`url(#${i})`,height:"100%",width:"100%"})),r?this.renderZoomCaps():null)},s}(v.SmartMappingSliderBase);return i.__decorate([r.property({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],f.prototype,"label",void 0),i.__decorate([r.property(),g.messageBundle("esri/widgets/smartMapping/OpacitySlider/t9n/OpacitySlider")],f.prototype,"messages",void 0),i.__decorate([o.aliasOf("viewModel.stops")],f.prototype,"stops",void 0),i.__decorate([r.property()],f.prototype,"style",void 0),i.__decorate([a.cast("style")],f.prototype,"castStyle",null),i.__decorate([r.property()],f.prototype,"viewModel",void 0),i.__decorate([o.aliasOf("viewModel.zoomOptions")],f.prototype,"zoomOptions",void 0),f=_=i.__decorate([l.subclass("esri.widgets.smartMapping.OpacitySlider")],f),f}));
