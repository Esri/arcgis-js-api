/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../intl/date","../../../intl/number","../../../intl/substitute","../../../intl"],(function(t,e,r,i,n){"use strict";function s(t,e){return!(!g(t)||!e||-22091616e5===t.get("attributes.ETA"))}function u(t,i,n,s){const u=new Date(n),o=new Date(u.getTime()+60*u.getTimezoneOffset()*1e3),a=e.formatDate(o,{hour:"2-digits",minute:"2-digits",hour12:!1});if(i){const e=(n-i)/1e3/60/60,s=Math.floor(e),u=60*(e-s),o=r.formatNumber(s,{minimumIntegerDigits:2}),c=r.formatNumber(u,{minimumIntegerDigits:2});return`${a} ${t.gmt}${s<0?"":"+"}${o}${c}`}return s?e.formatDate(o,{hour:"numeric",minute:"numeric"}):a}function o(t){return"esriNAUSeconds"===t||"esriNAUMinutes"===t||"esriNAUHours"===t||"esriNAUDays"===t}function a(t,e,r){const i=o(e),n=o(r),s=i?c(t,e):m(t,e);return i===n?n?l(s,r):f(s,r):t}function c(t,e,r){switch(t=t||0,e){case"esriNAUSeconds":t/=60**(r?-1:1);break;case"esriNAUHours":t*=60**(r?-1:1);break;case"esriNAUDays":t*=1440**(r?-1:1)}return t}function l(t,e){return c(t,e,!0)}function m(t,e,r){switch(t=t||0,(e||"").replace("esriNAU","esri")){case"esriInches":t*=.0254**(r?-1:1);break;case"esriFeet":t*=.3048**(r?-1:1);break;case"esriYards":t*=.9144**(r?-1:1);break;case"esriMiles":t*=1609.344**(r?-1:1);break;case"esriNauticalMiles":t*=1851.995396854**(r?-1:1);break;case"esriMillimeters":t/=1e3**(r?-1:1);break;case"esriCentimeters":t/=100**(r?-1:1);break;case"esriKilometers":t*=1e3**(r?-1:1);break;case"esriDecimeters":t/=10**(r?-1:1)}return t}function f(t,e){return m(t,e,!0)}function p(t){const e=t&&t.attributes||{};return null===(e.ArriveCurbApproach||null)&&null!==(e.DepartCurbApproach||null)}function b(t){const e=t&&t.attributes||{};return null!==(e.ArriveCurbApproach||null)&&null!==(e.DepartCurbApproach||null)}function d(t){const e=t&&t.attributes||{};return null!==(e.ArriveCurbApproach||null)&&null===(e.DepartCurbApproach||null)}function A(t){return t&&t.get("attributes.isWaypoint")}function h(t){const e=t&&t.get("attributes.Status");return!e||6===e}function g(t){return t._associatedStop}function D(t,e={}){const{unit:r="minutes"}=e;return M(t,r)}function M(t,e){const r=60,i=60,n="days"===(e=e.toLowerCase())?t*24:"hours"===e?t:"minutes"===e?t/r:t/r/i;if(n<1)return`${Math.floor(n*i)}m`;const s=n%1*r;return`${Math.floor(n)}:${String(Math.floor(s)).padStart(2,"0")}h`}function S(t,e,r,n={}){const{fromUnits:s,toUnits:u}=n,o=a(r,s,u);if(!o)return"";const c=e.units[u],l=c?c.abbr:u.replace("esri","").toLowerCase();return i.substitute(t.distanceTemplate,{distance:o,units:l},{format:{distance:{type:"number",intlOptions:{minimumFractionDigits:2,maximumFractionDigits:2}}}})}t.convertCostValue=a,t.formatDistance=S,t.formatTime=D,t.fromMeters=f,t.fromMinutes=l,t.getAssociatedStop=g,t.isFirstStop=p,t.isLastStop=d,t.isMiddleStop=b,t.isStopLocated=h,t.isTimeUnits=o,t.isWaypoint=A,t.toMeters=m,t.toMinutes=c,t.toSpatiallyLocalTimeString=u,t.useSpatiallyLocalTime=s,Object.defineProperty(t,"__esModule",{value:!0})}));
