/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../../../intl/date","../../../intl/number","../../../intl/substitute","../../../intl"],(function(t,e,r,i,n){"use strict";function s(t){return"esriNAUSeconds"===t||"esriNAUMinutes"===t||"esriNAUHours"===t||"esriNAUDays"===t}function o(t,e,r){const i=s(e),n=s(r),o=i?a(t,e):c(t,e);return i===n?n?u(o,r):l(o,r):t}function a(t,e,r){switch(t=t||0,e){case"esriNAUSeconds":t/=Math.pow(60,r?-1:1);break;case"esriNAUHours":t*=Math.pow(60,r?-1:1);break;case"esriNAUDays":t*=Math.pow(1440,r?-1:1)}return t}function u(t,e){return a(t,e,!0)}function c(t,e,r){switch(t=t||0,(e||"").replace("esriNAU","esri")){case"esriInches":t*=Math.pow(.0254,r?-1:1);break;case"esriFeet":t*=Math.pow(.3048,r?-1:1);break;case"esriYards":t*=Math.pow(.9144,r?-1:1);break;case"esriMiles":t*=Math.pow(1609.344,r?-1:1);break;case"esriNauticalMiles":t*=Math.pow(1851.995396854,r?-1:1);break;case"esriMillimeters":t/=Math.pow(1e3,r?-1:1);break;case"esriCentimeters":t/=Math.pow(100,r?-1:1);break;case"esriKilometers":t*=Math.pow(1e3,r?-1:1);break;case"esriDecimeters":t/=Math.pow(10,r?-1:1)}return t}function l(t,e){return c(t,e,!0)}function m(t){return t._associatedStop}t.convertCostValue=o,t.formatDistance=function(t,e,r,n={}){const{fromUnits:s,toUnits:a}=n,u=o(r,s,a);if(!u)return"";const c=e.units[a],l=c?c.abbr:a.replace("esri","").toLowerCase();return i.substitute(t.distanceTemplate,{distance:u,units:l},{format:{distance:{type:"number",intlOptions:{minimumFractionDigits:2,maximumFractionDigits:2}}}})},t.formatTime=function(t,e={}){const{unit:r="minutes"}=e;return function(t,e){e=e.toLowerCase();const r=24,i=60,n=60,s="days"===e?t*r:"hours"===e?t:"minutes"===e?t/i:t/i/n;if(s<1)return`${Math.floor(s*n)}m`;const o=s%1*i;return`${Math.floor(s)}:${String(Math.floor(o)).padStart(2,"0")}h`}(t,r)},t.fromMeters=l,t.fromMinutes=u,t.getAssociatedStop=m,t.isFirstStop=function(t){const e=t&&t.attributes||{};return null===(e.ArriveCurbApproach||null)&&null!==(e.DepartCurbApproach||null)},t.isLastStop=function(t){const e=t&&t.attributes||{};return null!==(e.ArriveCurbApproach||null)&&null===(e.DepartCurbApproach||null)},t.isMiddleStop=function(t){const e=t&&t.attributes||{};return null!==(e.ArriveCurbApproach||null)&&null!==(e.DepartCurbApproach||null)},t.isStopLocated=function(t){const e=t&&t.get("attributes.Status");return!e||6===e},t.isTimeUnits=s,t.isWaypoint=function(t){return t&&t.get("attributes.isWaypoint")},t.toMeters=c,t.toMinutes=a,t.toSpatiallyLocalTimeString=function(t,i,n,s){const o=new Date(n),a=new Date(o.getTime()+60*o.getTimezoneOffset()*1e3),u=e.formatDate(a,{hour:"2-digits",minute:"2-digits",hour12:!1});if(i){const e=(n-i)/1e3/60/60,s=Math.floor(e),o=60*(e-s),a=r.formatNumber(s,{minimumIntegerDigits:2}),c=r.formatNumber(o,{minimumIntegerDigits:2});return`${u} ${t.gmt}${s<0?"":"+"}${a}${c}`}return s?e.formatDate(a,{hour:"numeric",minute:"numeric"}):u},t.useSpatiallyLocalTime=function(t,e){return!(!m(t)||!e||-22091616e5===t.get("attributes.ETA"))},Object.defineProperty(t,"__esModule",{value:!0})}));
