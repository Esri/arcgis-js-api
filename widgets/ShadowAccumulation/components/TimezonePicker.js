/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../chunks/icon","../../../core/maybe","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/accessorSupport/ensureType","../../../core/Logger","../../../core/accessorSupport/decorators/subclass","../../Widget","../css","../../support/timeWidgetUtils","../../support/widgetUtils","../../support/decorators/messageBundle","../../support/jsxFactory"],(function(e,t,o,s,r,n,i,c,l,u,a,p,d,_,h,m){"use strict";e.TimezonePicker=function(e){function o(t,o){var s;return(s=e.call(this,t,o)||this)._focused=!1,s}t._inheritsLoose(o,e);var s=o.prototype;return s.render=function(){const e=this._gmtOffsets,t=this._timezoneMessages;if(r.isNone(e)||r.isNone(t))return m.tsx("div",{class:p.TIMEZONE_PICKER_CSS.base});const o=this.value,s=this._selectedItemText;return m.tsx("div",{class:p.TIMEZONE_PICKER_CSS.base},m.tsx("select",{key:"hidden-select",class:p.TIMEZONE_PICKER_CSS.hiddenSelect,"aria-label":t.chooseTimezone,title:t.chooseTimezone,value:String(o),bind:this,onfocus:this._onFocus,onblur:this._onBlur,onchange:this._onDropdownSelectChange},e.map((({utcOffset:e,shortWithUTC:t,long:o})=>m.tsx("option",{value:String(e)},t," - ",o)))),m.tsx("div",{key:"visible-select",class:this.classes({[p.TIMEZONE_PICKER_CSS.select]:!0,[p.TIMEZONE_PICKER_CSS.selectFocused]:this._focused})},s,m.tsx("calcite-icon",{icon:"chevron-down",scale:"s"})))},s._onDropdownSelectChange=function(e){const t=e.target,o=parseInt(null==t?void 0:t.value,10);Number.isFinite(o)&&r.isSome(this.onChange)&&this.onChange(o)},s._onFocus=function(){this._focused=!0},s._onBlur=function(){this._focused=!1},t._createClass(o,[{key:"_gmtOffsets",get:function(){return r.applySome(this._timezoneMessages,d.getTimezoneInfos)}},{key:"_selectedItem",get:function(){const e=this.value,t=this._gmtOffsets;return r.isNone(e)||r.isNone(t)?null:t.find((t=>t.utcOffset===e))}},{key:"_selectedItemText",get:function(){const e=this._selectedItem;return r.isSome(e)?e.short:""}}]),o}(a),o.__decorate([n.property()],e.TimezonePicker.prototype,"value",void 0),o.__decorate([n.property()],e.TimezonePicker.prototype,"onChange",void 0),o.__decorate([n.property(),h.messageBundle("esri/widgets/support/t9n/timezone")],e.TimezonePicker.prototype,"_timezoneMessages",void 0),o.__decorate([n.property()],e.TimezonePicker.prototype,"_focused",void 0),o.__decorate([n.property({readOnly:!0})],e.TimezonePicker.prototype,"_gmtOffsets",null),o.__decorate([n.property({readOnly:!0})],e.TimezonePicker.prototype,"_selectedItem",null),o.__decorate([n.property({readOnly:!0})],e.TimezonePicker.prototype,"_selectedItemText",null),e.TimezonePicker=o.__decorate([u.subclass("esri.widgets.ShadowAccumulation.components.TimezonePicker")],e.TimezonePicker),Object.defineProperty(e,"__esModule",{value:!0})}));
