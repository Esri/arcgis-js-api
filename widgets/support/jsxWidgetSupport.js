/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
define(["exports","../../core/handleUtils"],(function(e,t){"use strict";const n=Symbol("widget"),r=[],o={},d=new WeakMap;function i(e,t){const n=t.children;if(n)for(let r=0;r<n.length;++r)n[r]=i(e,n[r]);const d=t.vnodeSelector;if(l(d)){const i=t.properties||o;return{vnodeSelector:"div",properties:{key:i.key||d,parentWidget:e,widgetConstructor:d,widgetProps:i,widgetChildren:n||r,afterCreate:s,afterUpdate:c,afterRemoved:a},children:void 0,text:void 0,domNode:null}}return t}function s(e,n,r,{key:o,parentWidget:i,widgetConstructor:s,widgetProps:c,widgetChildren:l}){const f=new s({...c,key:o,children:l,container:e});d.set(e,f),null==f.afterCreate||f.afterCreate(f,e),i._internalHandles.add(t.makeHandle((()=>a(e))))}function c(e,t,n,{widgetProps:r}){const o=d.get(e);o&&(o.set(r),null==o.afterUpdate||o.afterUpdate(o,e))}function a(e){const t=d.get(e);t&&(t.destroy(),d.delete(e))}function l(e){return"function"==typeof e&&e[n]}e.WIDGET_SYMBOL=n,e.isWidgetConstructor=l,e.processWidgets=i,Object.defineProperty(e,"__esModule",{value:!0})}));
