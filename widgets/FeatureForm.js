/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["require","../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../intl","../core/compilerUtils","../core/maybe","../core/reactiveUtils","../core/accessorSupport/decorators/property","../core/accessorSupport/ensureType","../core/arrayUtils","../core/accessorSupport/decorators/subclass","../layers/support/domainUtils","../layers/support/fieldUtils","./Widget","./FeatureForm/css","./FeatureForm/featureFormUtils","./FeatureForm/FeatureFormViewModel","./support/Heading","./support/widgetUtils","./support/decorators/messageBundle","./support/decorators/vmEvent","./support/jsxFactory","../chunks/datetime","../intl/locale"],(function(e,t,i,n,a,l,s,o,r,u,d,p,c,m,h,f,_,g,v,b,I,F,y,S){"use strict";const C="TT",w="data-field-name",x="latn",V=e=>"valueAsDate"in e;let D=function(i){function n(e,n){var a;return(a=i.call(this,e,n)||this)._dateInputFieldMap=new Map,a._activeInputName="",a._activeNumberFieldEdit=null,a._fieldFocusNeeded=!1,a._fieldToInitialIncompatibleDomainValue=new Map,a._switchFieldsWithInitialIncompatibleValue=new Set,a._userUpdatedInputFieldNames=new Set,a.disabled=!1,a.groupDisplay="all",a.headingLevel=2,a.messages=null,a.messagesTemplates=null,a.viewModel=new _,a._handleInputInput=e=>{a._commitInputValue(e.currentTarget)},a._handleFormKeyDown=a._handleFormKeyDown.bind(t._assertThisInitialized(a)),a._handleInputBlur=a._handleInputBlur.bind(t._assertThisInitialized(a)),a._handleInputFocus=a._handleInputFocus.bind(t._assertThisInitialized(a)),a._handleNumberInputMouseDown=a._handleNumberInputMouseDown.bind(t._assertThisInitialized(a)),a._handleInputKeyDown=a._handleInputKeyDown.bind(t._assertThisInitialized(a)),a._handleOptionChange=a._handleOptionChange.bind(t._assertThisInitialized(a)),a._handleGroupClick=a._handleGroupClick.bind(t._assertThisInitialized(a)),a._handleSubmit=a._handleSubmit.bind(t._assertThisInitialized(a)),a._afterInputCreateOrUpdate=a._afterInputCreateOrUpdate.bind(t._assertThisInitialized(a)),a._afterDateInputCreateOrUpdate=a._afterDateInputCreateOrUpdate.bind(t._assertThisInitialized(a)),a}t._inheritsLoose(n,i);var o=n.prototype;return o.initialize=function(){this.addHandles([s.watch((()=>this.feature),(()=>{const e=this._getFocusableInput("forward");this._activeInputName=e?.name||"",this._userUpdatedInputFieldNames.clear(),this._fieldToInitialIncompatibleDomainValue.clear(),this._switchFieldsWithInitialIncompatibleValue.clear(),this._dateInputFieldMap.clear(),this._fieldFocusNeeded=!0})),this.on("submit",(e=>{if(e.invalid.length>0){const[t]=e.invalid;e.invalid.forEach((e=>this._userUpdatedInputFieldNames.add(e))),this._activeInputName=t,this._fieldFocusNeeded=!0,this.scheduleRender()}}))])},o.loadDependencies=function(){return Promise.all([new Promise(((t,i)=>e(["../chunks/calcite-combobox"],t,i))),new Promise(((t,i)=>e(["../chunks/calcite-combobox-item"],t,i))),new Promise(((t,i)=>e(["../chunks/calcite-combobox-item-group"],t,i))),new Promise(((t,i)=>e(["../chunks/calcite-input-message"],t,i))),new Promise(((t,i)=>e(["../chunks/calcite-progress"],t,i))),new Promise(((t,i)=>e(["../chunks/calcite-switch"],t,i))),new Promise(((t,i)=>e(["../chunks/calcite-input-date-picker"],t,i))),new Promise(((t,i)=>e(["../chunks/calcite-input-time-picker"],t,i)))])},o.getValues=function(){return this.viewModel.getValues()},o.submit=function(){return this.viewModel.submit()},o.render=function(){const{state:e}=this.viewModel;return F.tsx("div",{class:this.classes(h.CSS.base,h.CSS.widget,h.CSS.panel)},"ready"===e?this.renderForm():null)},o.renderForm=function(){const e=this.viewModel,t=l.isSome(e.formTitle)&&F.tsx(g.Heading,{key:"title",level:this.headingLevel},e.formTitle),i=l.isSome(e.formDescription)&&F.tsx("p",{class:h.CSS.description,key:"description"},e.formDescription),n=t||i?F.tsx("div",{class:h.CSS.formHeader},t,i):null;return F.tsx("form",{class:h.CSS.form,novalidate:!0,onsubmit:this._handleSubmit,onkeydown:this._handleFormKeyDown},n,this.renderFields())},o.renderFields=function(){const{viewModel:{inputFields:e}}=this;return e.filter((e=>e.visible)).map(((e,t)=>f.isGroupField(e)?this.renderGroup(e,t):this.renderLabeledField(e)))},o.renderGroup=function(e,t){const{formTemplate:i,disabled:n}=this,{description:a,inputFields:s,label:o,state:r}=e,u=s.filter((e=>e.visible)),d=this.viewModel.findField(this._activeInputName),p=!(!d||d.group!==e),c=`${this.id}_group_${t}`,m=`${this.id}_group-label_${t}`,f=`${this.id}_group-description_${t}`,_=a?F.tsx("p",{class:this.classes(h.CSS.groupDescription,h.CSS.description),id:f},a):null,v="sequential"===this.groupDisplay,b=v?p:"expanded"===r,I=b?h.CSS.collapseIcon:h.CSS.expandIcon;return F.tsx("fieldset",{"aria-expanded":b.toString(),"aria-labelledby":m,"aria-describedby":a?f:"",class:this.classes(h.CSS.group,v?h.CSS.groupSequential:null,b?null:h.CSS.groupCollapsed,p?h.CSS.groupActive:null,n?h.CSS.inputDisabled:null),disabled:n,"data-group":e,id:c,key:t,onclick:this._handleGroupClick},F.tsx("button",{role:v?"presentation":void 0,class:h.CSS.groupHeader,type:"button",tabIndex:v?-1:0},F.tsx("div",{class:h.CSS.groupTitle},F.tsx(g.Heading,{class:h.CSS.groupLabel,id:m,level:l.isSome(i)&&i.title?g.incrementHeadingLevel(this.headingLevel):this.headingLevel},o),_),v?null:F.tsx("span",{class:this.classes(I,h.CSS.groupToggleIcon)})),u.map((e=>this.renderLabeledField(e))))},o._getFocusableInput=function(e,t){const i=this.viewModel.allInputFields,n="forward"===e?i:i.slice().reverse();let a;if(t)if(f.isGroupField(t))a=n.indexOf(t.inputFields[0]);else{let i;if(this._isInputFieldInGroup(t)&&"collapsed"===t.group.state){const{inputFields:n}=t.group;i="forward"===e?n[n.length-1]:n[0]}else i=t;a=n.indexOf(i)+1}else a=0;for(let l=a;l<n.length;l++){const e=n[l];if(e.visible)return e}return null},o.renderLabeledField=function(e){const{feature:t,label:i,layer:n,type:a}=e;return F.tsx("label",{key:`${n.id}-${t.uid}-${e.name}`,class:h.CSS.label},[i,"unsupported"!==a?this.renderInputField(e):this.renderUnsupportedField(e),this.renderAuxiliaryText(e)])},o.renderInputField=function(e){const{domain:t,name:i,type:n,updating:a,value:s}=e,o=this.getCommonInputProps(e);if("coded-value"===t?.type){if(f.isFieldElementWithInputType(e.fieldElement,"switch")){const{fieldElement:t}=e;if(!(this._switchFieldsWithInitialIncompatibleValue.has(i)||null==s||t.input.onValue!==s&&t.input.offValue!==s))return this.renderSwitchInputField(e,o);this._switchFieldsWithInitialIncompatibleValue.add(i)}return"radio-buttons"===e.inputType?this.renderRadioButtonsInputField(e,t.codedValues.map((({code:e,name:t})=>({value:e,name:t}))),o):this.renderSelectInputField(e,this._getFieldValueOptions(i,t),o)}if("datetime-picker"===e.inputType||"date"===n)return this.renderDateInputField(e,o);const r="number"===n?F.tsx("input",{type:"number",...o,value:l.isSome(this._activeNumberFieldEdit)&&this._activeNumberFieldEdit.fieldName===e.name?this._activeNumberFieldEdit.value:`${o.value}`}):"text-area"===e.inputType?F.tsx("textarea",{...o}):F.tsx("input",{type:"text",...o});return a?F.tsx("div",{class:h.CSS.inputFieldWrapper},r,F.tsx("div",{class:h.CSS.inputFieldLoader},F.tsx("calcite-progress",{type:"indeterminate"}))):r},o.renderDateInputField=function(e,t){const{includeTime:i,label:n,name:a,valid:s,value:o}=e,{readOnly:r,required:u}=t,{date:d,time:p}=this._formatValueForDateInputs(o),c=l.isSome(t.max)?this._formatValueForDateInputs(t.max):void 0,m=l.isSome(t.min)?this._formatValueForDateInputs(t.min):void 0,f=c?.date??void 0,_=m?.date??void 0,g={afterCreate:this._afterDateInputCreate,afterUpdate:this._afterDateInputCreateOrUpdate,"aria-invalid":!s,label:n,numberingSystem:x,overlayPositioning:"fixed",readOnly:r,required:u,tabIndex:0,[w]:a};return F.tsx("div",{key:`${t.key}-date-time-container`,class:h.CSS.dateInputContainer},F.tsx("calcite-input-date-picker",{bind:this,...g,class:this.classes(t.class,h.CSS.inputDate),"data-date-part":"date",key:`${t.key}-date-input`,valueAsDate:d??void 0,maxAsDate:f,minAsDate:_,onCalciteInputDatePickerChange:e=>this._commitDateChanges(e.target),onblur:e=>this._commitDateChanges(e.target,!0)}),i?F.tsx("calcite-input-time-picker",{bind:this,...g,class:this.classes(t.class,h.CSS.inputTime),"data-date-part":"time",key:`${t.key}-time-input`,value:p??void 0,step:1,onCalciteInputTimePickerChange:e=>this._commitDateChanges(e.target),onfocus:e=>{e.target.calciteTimePickerEl&&(e.target.calciteTimePickerEl.showSecond=!0)},onblur:e=>this._commitDateChanges(e.target,!0)}):null)},o.renderUnsupportedField=function(e){const t=this.getCommonInputProps(e);return F.tsx("input",{afterCreate:t.afterCreate,afterUpdate:t.afterUpdate,class:this.classes(h.CSS.input,h.CSS.inputField,h.CSS.inputDisabled),onfocus:t.onfocus,readOnly:!0,tabIndex:t.tabIndex,type:"text",value:t.value,[w]:t[w]})},o.renderSelectInputField=function(e,t,i){const{value:n}=e,{messages:a,messagesTemplates:s}=this,o=t.map((e=>e.map((e=>F.tsx("calcite-combobox-item",{value:`${e.value}`,textLabel:e.name,key:`#${e.value}`,selected:n===e.value}))))),[r,u]=o;this._registerIncompatibleValue(n,t.flat(),e,(e=>{u.unshift(F.tsx("calcite-combobox-item",{value:`${e}`,textLabel:`${e}`,key:"incompatible-option",readOnly:!0}))}));const d=u.length>0?[F.tsx("calcite-combobox-item-group",{key:"recommended",label:a.recommended},r),F.tsx("calcite-combobox-item-group",{key:"other",label:s.other},u)]:r,p=l.isNone(e.fieldElement)||f.isFieldElementWithInputType(e.fieldElement,"combo-box")&&e.fieldElement.input.showNoValueOption;if(!e.required&&p){const t="",i=f.isFieldElementWithInputType(e.fieldElement,"combo-box")&&e.fieldElement.input.noValueOptionLabel||this.messages.empty;d.unshift(F.tsx("calcite-combobox-item",{value:t,textLabel:this.messages.empty,key:"empty-option"},i))}return F.tsx("calcite-combobox",{...i,selectionMode:"single",disabled:i.readOnly,allowCustomValues:!1,onCalciteComboboxChange:e=>this._handleOptionChange(e.target)},d)},o._registerIncompatibleValue=function(e,t,i,n){const a=this._fieldToInitialIncompatibleDomainValue,l=a.has(i.name);(l||null!=e&&""!==e&&!t.some((t=>t.value===e)))&&(l||a.set(i.name,e),n?.(e))},o.renderRadioButtonsInputField=function(e,t,i){const{value:n}=e,a=t.map((t=>this.renderRadioButton({key:t.name,label:t.name,name:e.name,value:t.value,selected:t.value===n,props:i})));this._registerIncompatibleValue(n,t,e);const s=l.isNone(e.fieldElement)||f.isFieldElementWithInputType(e.fieldElement,"radio-buttons")&&e.fieldElement.input.showNoValueOption;if(!e.required&&s){const t="",l=f.isFieldElementWithInputType(e.fieldElement,"radio-buttons")&&e.fieldElement.input.noValueOptionLabel||this.messages.empty,s=n===t||null===n;a.unshift(this.renderRadioButton({key:"empty-option",label:l,name:e.name,value:t,selected:s,props:i}))}return F.tsx("div",{key:`${i.key}-radio`,class:h.CSS.inputRadioGroup},a)},o.renderSwitchInputField=function(e,t){const{value:i}=e,n=!!f.isFieldElementWithInputType(e.fieldElement,"switch")&&i===e.fieldElement.input.onValue;return F.tsx("calcite-switch",{...t,class:h.CSS.inputSwitch,onCalciteSwitchChange:e=>this._commitInputValue(e.target),checked:n,disabled:t.readOnly})},o.renderRadioButton=function({key:e,name:t,value:i,selected:n,label:a,props:l}){return F.tsx("label",{key:e,class:h.CSS.inputRadioLabel},F.tsx("input",{...l,class:h.CSS.inputRadio,name:t,type:"radio",value:i,checked:n,disabled:l.readOnly,onchange:e=>this._commitInputValue(e.target)}),a)},o.renderAuxiliaryText=function(e){const t=this._userUpdatedInputFieldNames.has(e.name)&&!e.valid?e.errorMessage:l.isSome(this.viewModel.contingencyConstraintViolations.get(e.name))?this.messages.validationErrors.valuesIncompatible:l.isSome(e.valueExpressionExecutor)&&e.valueExpressionExecutor.stale?this.messages.valueExpressionError:null;return l.isSome(t)?F.tsx("calcite-input-message",{status:"invalid",icon:!0},t):e.description?F.tsx("div",{key:"description",class:h.CSS.description},e.description):null},o.getCommonInputProps=function(e){const{disabled:t,groupDisplay:i}=this,{editable:n,group:a,hint:s,label:o,maxLength:r,minLength:u,name:d,required:p,type:c,valid:m,value:f}=e,_=this._userUpdatedInputFieldNames.has(d),g=!n||t,v="all"===i&&l.isSome(a)&&"collapsed"===a.state;return{afterCreate:this._afterInputCreateOrUpdate,afterUpdate:this._afterInputCreateOrUpdate,"aria-invalid":m?"false":"true",class:this.classes(h.CSS.input,h.CSS.inputField,g?h.CSS.inputDisabled:null,_&&!m?h.CSS.inputInvalid:null),key:d,label:o,minlength:u>-1?`${u}`:"",maxlength:r>-1?`${r}`:"",...this._getNumberFieldConstraints(e),readOnly:g,value:null==f?"":`${f}`,[w]:d,onfocus:this._handleInputFocus,oninput:this._handleInputInput,onblur:this._handleInputBlur,onkeydown:this._handleInputKeyDown,onmousedown:"number"===c?this._handleNumberInputMouseDown:null,placeholder:"number"===c||"text"===c?s:"",required:p,tabIndex:v?-1:0}},o._isInputFieldInGroup=function(e){return!f.isGroupField(e)&&l.isSome(e.group)},o._handleNumberInputMouseDown=function({target:e}){e.focus(),this.scheduleRender()},o._getFieldValueOptions=function(e,t){const i=t.codedValues.map((({code:e,name:t})=>({value:e,name:t}))),n=this.viewModel.fieldsWithContingentValues.has(e)?this._getContingentValueOptions(e):[];if(n.length>0){const e=new Set(n.map((e=>e.value)));return[n,i.filter((t=>!e.has(t.value)))]}return[i,[]]},o._getContingentValueOptions=function(e){const t={};for(const a of this.viewModel.allInputFields){const{name:i,value:n}=a;!l.isNone(n)&&i!==e&&this.viewModel.fieldsWithContingentValues.has(i)&&(t[i]=n)}const i=this.viewModel.joinedContingentValues.slice(),n=new Map;for(const a of i){const i=a.values[e];if(l.isNone(i)||"code"!==i.objectType&&"null"!==i.objectType)continue;const{code:s,name:o}=i.codedValue&&"null"!==i.objectType?i.codedValue:{code:"",name:this.messages.empty};if(n.has(s))continue;Object.entries(t).every((([e,t])=>!a.values.hasOwnProperty(e)||this._valueIsValidContingentValue(t,a.values[e])))&&n.set(s,{name:o,value:s})}return[...n.values()]},o._getInputFieldFromInput=function(e){return this.viewModel.findField(e.getAttribute(w))},o._getNumberFieldConstraints=function(e){const t=p.getDomainRange(e.domain)||c.getFieldRange(e.field);return t&&t.max!==Number.MAX_VALUE&&t.min!==Number.MIN_VALUE?t:{min:null,max:null}},o._afterDateInputCreate=function(){var e=t._asyncToGenerator((function*(e){!V(e)&&l.isSome(e.value)&&"setValue"in e&&e.setValue({value:e.value,origin:"external"}),this._afterDateInputCreateOrUpdate(e)}));function i(t){return e.apply(this,arguments)}return i}(),o._afterDateInputCreateOrUpdate=function(e){const{name:t}=this._getInputFieldFromInput(e),i=this._dateInputFieldMap.get(t),n=V(e);l.isSome(i)?n?i.date=e:i.time=e:this._dateInputFieldMap.set(t,{[n?"date":"time"]:e}),this._afterInputCreateOrUpdate(e)},o._afterInputCreateOrUpdate=function(e){const{viewModel:t}=this,i=this._getInputFieldFromInput(e),n=t.findField(this._activeInputName),a=this._fieldToInitialIncompatibleDomainValue.get(i.name)===i.value;this._fieldFocusNeeded&&n===i&&("radio-buttons"!==i.inputType||a||e.checked)&&(this._fieldFocusNeeded=!1,this._isInputFieldInGroup(i)&&(i.group.state="expanded"),e.focus())},o._handleInputFocus=function(e){const t=e.target,i=this._getInputFieldFromInput(t);this._activeInputName=i.name,this._isNumberInputField(i)&&(this._activeNumberFieldEdit={fieldName:i.name,input:t,value:t.value})},o._isNumberInputField=function({domain:e,inputType:t="text-box",type:i}){return"number"===i&&"text-box"===t&&(!e||"coded-value"!==e.type)},o._handleInputBlur=function(e){const t=e.target,i=this._getInputFieldFromInput(t);"number"===i.type&&l.isSome(this._activeNumberFieldEdit)&&(this._activeNumberFieldEdit.input.value=`${i.value}`,this._activeNumberFieldEdit=null),this._commitInputValue(t),this.scheduleRender()},o._commitDateChanges=function(e,t=!1){const{name:i}=this._getInputFieldFromInput(e);if(!this._dateInputFieldMap.has(i))return;const n=this._dateInputFieldMap.get(i);if(!n||!n.date)return;const a=this._getFieldValueFromDateInput(e),l=this._getFieldValueFromDateInputs(n.date,n.time);this.viewModel.getValue(i)!==l&&(null!==a&&null!==l?this._updateFieldValue(i,l):t&&this._updateFieldValue(i,null))},o._commitInputValue=function(e){const t=this._getInputFieldFromInput(e);l.isSome(this._activeNumberFieldEdit)&&this._isNumberInputField(t)&&(this._activeNumberFieldEdit.value=e.value),this._updateFieldValue(t.name,this._parseValue(e))},o._handleInputKeyDown=function(e){const{key:t,altKey:i,ctrlKey:n,metaKey:a}=e,l=this._getInputFieldFromInput(e.target);if("Enter"===t)this._isInputFieldInGroup(l)&&"collapsed"===l.group.state&&(l.group.state="expanded");else{const{type:s}=l.field,o="single"===s||"double"===s;if(("integer"===s||"small-integer"===s||o)&&(!i&&!n&&!a)&&1===t.length){const i=Number(t),n=["-","+"],a=["e","."],l=o?[...n,...a]:n;isNaN(i)&&!l.includes(t)&&e.preventDefault()}}},o._updateFieldValue=function(e,t){if(this.viewModel.setValue(e,t),this._userUpdatedInputFieldNames.add(e),this.viewModel.fieldsWithContingentValues.has(e)){const e=Object.fromEntries(Object.entries(this.getValues()).filter((([e,t])=>l.isSome(t))));this.viewModel.validateContingencyConstraints(e)}},o._parseValue=function(e){const t=this._getInputFieldFromInput(e),i=e.value;if(f.isFieldElementWithInputType(t.fieldElement,"switch")&&"CALCITE-COMBOBOX"!==e.tagName)return e.checked?t.fieldElement.input.onValue:t.fieldElement.input.offValue;if("radio-buttons"===t.inputType&&"radio"===e.type&&!e.checked)return t.value;const{type:n}=t;return"number"===n?i?parseFloat(i):null:i},o._handleOptionChange=function(e){this._commitInputValue(e),this.scheduleRender()},o._handleGroupClick=function(e){const t=e.currentTarget["data-group"],i="expanded"===t.state,n="sequential"===this.groupDisplay,a=`.${h.CSS.groupHeader}`;if(!(i&&!e.target.closest(a))){if(this._activeInputName=this._getFocusableInput("forward",t)?.name||"",n){const n=e.target.closest(a);if(i&&!n)return;this.viewModel.inputFields.forEach((e=>{f.isGroupField(e)&&e!==t&&(e.state="collapsed")}))}t.state=i?"collapsed":"expanded",this._fieldFocusNeeded=n,this.scheduleRender()}},o._handleSubmit=function(e){e.preventDefault()},o._handleFormKeyDown=function(e){"Enter"===e.key&&this.viewModel.submit()},o._getDefaultLocaleOptions=function(){return{locale:S.getLocale(),numberingSystem:x}},o._getFieldValueFromDateInputs=function(e,t){const i=this._getDateTimeFromInput(e),n=this._getDateTimeFromInput(t);if(!i&&!n)return null;const a=this._getInputFieldFromInput(e),s=this._getNumberFieldConstraints(a),o=Date.now(),r=l.isSome(s.max)&&s.max<o?s.max:o,u=y.DateTime.fromMillis(r,this._getDefaultLocaleOptions()),d=i||u,{year:p,month:c,day:m}=d,{hour:h,minute:f,second:_}=n||u,g=d.set({year:p,month:c,day:m,hour:h,minute:f,second:_});return g.isValid?g.toMillis():null},o._getDateTimeFromInput=function(e){if(!e)return null;let t=null;if(V(e)){const i=e.valueAsDate;if(!i||Array.isArray(i))return null;t=y.DateTime.fromJSDate(i)}else{if(!e.value)return null;t=y.DateTime.fromFormat(e.value,C,this._getDefaultLocaleOptions())}return t??null},o._getFieldValueFromDateInput=function(e){return this._dateTimeToFieldValue(this._getDateTimeFromInput(e))},o._dateTimeToFieldValue=function(e){return e?.isValid?e.toMillis():null},o._dateTimeFromFieldValue=function(e){return null===e?null:y.DateTime.fromMillis(e,this._getDefaultLocaleOptions())},o._formatValueForDateInputs=function(e){if(null==e||isNaN(e))return{date:null,time:null};const t=this._dateTimeFromFieldValue(e);return t?{date:t.toJSDate(),time:t.toFormat(C,this._getDefaultLocaleOptions())}:{date:null,time:null}},o._valueIsValidContingentValue=function(e,t){switch(t.objectType){case"any":return!0;case"null":return null==e;case"code":return e===t.codedValue?.code;case"range":return l.isSome(e)&&l.isSome(t.minValue)&&l.isSome(t.maxValue)&&e>=t.minValue&&e<=t.maxValue;default:return a.neverReached(t.objectType),!1}},t._createClass(n,[{key:"feature",get:function(){return this.viewModel.feature},set:function(e){this.viewModel.feature=e}},{key:"formTemplate",get:function(){return this.viewModel.formTemplate},set:function(e){this.viewModel.formTemplate=e}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(e){this._overrideIfSome("label",e)}},{key:"layer",get:function(){return this.viewModel.layer},set:function(e){this.viewModel.layer=e}},{key:"spatialReference",get:function(){return this.viewModel.spatialReference},set:function(e){this.viewModel.spatialReference=e}},{key:"strict",get:function(){return this.viewModel.strict},set:function(e){this.viewModel.strict=e}},{key:"view",get:function(){return this.viewModel.view},set:function(e){this.viewModel.view=e}}]),n}(m);i.__decorate([o.property()],D.prototype,"disabled",void 0),i.__decorate([o.property()],D.prototype,"feature",null),i.__decorate([o.property()],D.prototype,"formTemplate",null),i.__decorate([o.property()],D.prototype,"groupDisplay",void 0),i.__decorate([o.property()],D.prototype,"headingLevel",void 0),i.__decorate([o.property()],D.prototype,"label",null),i.__decorate([o.property()],D.prototype,"layer",null),i.__decorate([o.property(),b.messageBundle("esri/widgets/FeatureForm/t9n/FeatureForm")],D.prototype,"messages",void 0),i.__decorate([o.property(),b.messageBundle("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],D.prototype,"messagesTemplates",void 0),i.__decorate([o.property()],D.prototype,"spatialReference",null),i.__decorate([o.property()],D.prototype,"strict",null),i.__decorate([o.property()],D.prototype,"view",null),i.__decorate([o.property(),I.vmEvent(["value-change","submit"])],D.prototype,"viewModel",void 0),D=i.__decorate([d.subclass("esri.widgets.FeatureForm")],D);return D}));
