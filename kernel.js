/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["require","exports","./chunks/_rollupPluginBabelHelpers","./core/has","./core/urlUtils","./support/revision"],(function(e,t,r,n,a,s){"use strict";const o=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"})),i="4.25",d={request:(t,n)=>r._asyncToGenerator((function*(){const{default:r}=yield new Promise(((t,r)=>e(["./request"],(e=>t(o(e))),r))),s=t.options,i=s.responseType;s.signal=n?.signal,s.responseType="native"===i||"native-request-init"===i?"native-request-init":i&&["blob","json","text"].includes(i)&&a.getInterceptor(t.url)?.after?i:"array-buffer";const d=yield r(t.url,s),u={data:d.data,ssl:d.ssl};switch(d.requestOptions?.responseType){case"native-request-init":return delete u.data.signal,u;case"blob":u.data=yield u.data.arrayBuffer();break;case"json":u.data=(new TextEncoder).encode(JSON.stringify(u.data)).buffer;break;case"text":u.data=(new TextEncoder).encode(u.data).buffer}return{result:u,transferList:[u.data]}}))()};function u(e){t.id=e}function l(e){const r=t.id&&t.id.findCredential(e);return r&&r.token?a.addQueryParameter(e,"token",r.token):e}t.id=void 0,n("host-webworker"),t.buildDate=s.buildDate,t.revision=s.commitHash,t.addTokenParameter=l,t.setId=u,t.version=i,t.workerMessages=d,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
