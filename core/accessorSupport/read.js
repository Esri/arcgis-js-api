/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","./utils","./get","./extensions/serializableProperty"],(function(e,t,r,i){"use strict";function n(e,t,i){if(!e||!e.read||!1===e.read.enabled||!e.read.source)return!1;const n=e.read.source;if("string"==typeof n){if(n===t)return!0;if(n.indexOf(".")>-1&&0===n.indexOf(t)&&r.exists(n,i))return!0}else for(const e of n){if(e===t)return!0;if(e.indexOf(".")>-1&&0===e.indexOf(t)&&r.exists(e,i))return!0}return!1}function o(e,t,r,o,s){let f=i.originSpecificReadPropertyDefinition(t[r],s);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(f)&&(e[r]=!0);for(const a of Object.getOwnPropertyNames(t))f=i.originSpecificReadPropertyDefinition(t[a],s),n(f,r,o)&&(e[a]=!0)}function s(e,t,r,n){const o=r.metadatas,s=i.originSpecificPropertyDefinition(o[t],"any",n),f=s&&s.default;if(void 0===f)return;const a="function"==typeof f?f.call(e,t,n):f;void 0!==a&&r.set(t,a)}const f={origin:"service"};function a(e,n,a=f){if(!n||"object"!=typeof n)return;const c=t.getProperties(e),d=c.metadatas,u={};for(const e of Object.getOwnPropertyNames(n))o(u,d,e,n,a);c.setDefaultOrigin(a.origin);for(const t of Object.getOwnPropertyNames(u)){const o=i.originSpecificReadPropertyDefinition(d[t],a).read,s=o&&o.source;let f;f=s&&"string"==typeof s?r.valueOf(n,s):n[t],o&&o.reader&&(f=o.reader.call(e,f,n,a)),void 0!==f&&c.set(t,f)}if(!a||!a.ignoreDefaults)for(const t of Object.getOwnPropertyNames(d))u[t]||s(e,t,c,a);c.setDefaultOrigin("user")}e.default=a,e.read=a,e.readLoadable=function(e,t,r,i=f){var n;const o={...i,messages:[]};r(o),null==(n=o.messages)||n.forEach((t=>{"warning"!==t.type||e.loaded?i&&i.messages&&i.messages.push(t):e.loadWarnings.push(t)}))},Object.defineProperty(e,"__esModule",{value:!0})}));
