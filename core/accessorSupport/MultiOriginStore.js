/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../lang","../maybe","./PropertyOrigin"],(function(t,i,e){"use strict";return function(){function s(){this._propertyOriginMap=new Map,this._originStores=new Array(e.OriginIdNum),this._values=new Map}var r=s.prototype;return r.clone=function(i){const r=new s,n=this._originStores[0];n&&n.forEach(((i,e)=>{r.set(e,t.clone(i),0)}));for(let s=2;s<e.OriginIdNum;s++){const e=this._originStores[s];e&&e.forEach(((e,n)=>{i&&i.has(n)||r.set(n,t.clone(e),s)}))}return r},r.get=function(t,i){const e=void 0===i?this._values:this._originStores[i];return e?e.get(t):void 0},r.keys=function(t){const i=null==t?this._values:this._originStores[t];return i?[...i.keys()]:[]},r.set=function(t,e,s=6){let r=this._originStores[s];if(r||(r=new Map,this._originStores[s]=r),r.set(t,e),!this._values.has(t)||i.assumeNonNull(this._propertyOriginMap.get(t))<=s){const i=this._values.get(t);return this._values.set(t,e),this._propertyOriginMap.set(t,s),i!==e}return!1},r.delete=function(t,i=6){const e=this._originStores[i];if(!e)return;const s=e.get(t);if(e.delete(t),this._values.has(t)&&this._propertyOriginMap.get(t)===i){this._values.delete(t);for(let e=i-1;e>=0;e--){const i=this._originStores[e];if(i&&i.has(t)){this._values.set(t,i.get(t)),this._propertyOriginMap.set(t,e);break}}}return s},r.has=function(t,i){const e=void 0===i?this._values:this._originStores[i];return!!e&&e.has(t)},r.revert=function(t,i){for(;i>0&&!this.has(t,i);)--i;const e=this._originStores[i],s=e&&e.get(t),r=this._values.get(t);return this._values.set(t,s),this._propertyOriginMap.set(t,i),r!==s},r.originOf=function(t){return this._propertyOriginMap.get(t)||0},r.forEach=function(t){this._values.forEach(t)},s}()}));
