/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../has","../metadata","../tracking","../extensions/serializableProperty"],(function(e,t,r,s,o,i){"use strict";const n=new Set,a=new Set;function c(e){return r=>{r.prototype.declaredClass=e,p(r);const o=[],i=[];let c=r.prototype;for(;c;)c.hasOwnProperty("initialize")&&!n.has(c.initialize)&&(n.add(c.initialize),o.push(c.initialize)),c.hasOwnProperty("destroy")&&!a.has(c.destroy)&&(a.add(c.destroy),i.push(c.destroy)),c=Object.getPrototypeOf(c);n.clear(),a.clear();let l=function(e){function r(...s){var n;if((n=e.call(this,...s)||this).constructor===r&&"function"==typeof n.postscript){if(o.length&&Object.defineProperty(t._assertThisInitialized(n),"initialize",{enumerable:!1,configurable:!0,value(){for(let e=o.length-1;e>=0;e--)o[e].call(this)}}),i.length){let e=!1;Object.defineProperty(t._assertThisInitialized(n),"destroy",{enumerable:!1,configurable:!0,value(){if(!e){e=!0;for(let e=0;e<i.length;e++)i[e].call(this)}}})}n.postscript(...s)}return n}return t._inheritsLoose(r,e),r}(r);return l.__accessorMetadata__=s.getOwnClassMetadata(r.prototype),l.prototype.declaredClass=e,l}}function l(e,t){return null==t.get?function(){const t=this.__accessor__.properties.get(e);if(void 0===t)return;o.trackAccess(t);const r=this.__accessor__.store;return r.has(e)?r.get(e):t.metadata.value}:function(){const t=this.__accessor__.properties.get(e);if(void 0!==t)return t.getComputed()}}function p(e){const t=e.prototype,r=s.getOwnClassMetadata(t).properties,o={};for(const s of Object.getOwnPropertyNames(r)){const e=r[s];i.processPrototypePropertyMetadata(e),o[s]={enumerable:!0,configurable:!0,get:l(s,e),set(t){const r=this.__accessor__;if(void 0!==r){if(!Object.isFrozen(this)){if(r.initialized&&e.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${s}' of ${this.declaredClass}`);if(2===r.lifecycle&&e.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${s}' of ${this.declaredClass}`);r.set(s,t)}}else Object.defineProperty(this,s,{enumerable:!0,configurable:!0,writable:!0,value:t})}}}Object.defineProperties(e.prototype,o)}e.finalizeClass=p,e.subclass=c,Object.defineProperty(e,"__esModule",{value:!0})}));
