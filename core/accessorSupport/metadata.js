/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../lang","../maybe","./utils"],(function(e,t,r,o){"use strict";let n=function(e){this.autoDestroy=!1,this.properties=e};function a(e){let o=e.constructor.__accessorMetadata__;const a=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(o){if(!a){const r=Object.create(o.properties),a=o.autoDestroy;for(const e in r)r[e]=t.clone(r[e]);o=new n(r),o.autoDestroy=a,Object.defineProperty(e.constructor,"__accessorMetadata__",{value:o,enumerable:!1,configurable:!0,writable:!0})}}else o=new n({}),Object.defineProperty(e.constructor,"__accessorMetadata__",{value:o,enumerable:!1,configurable:!0,writable:!0});return r.assumeNonNull(e.constructor.__accessorMetadata__)}function s(e){return a(e).properties}const c=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function u(e){return c.test(e)?"replace":"merge"}const i=/^properties\./;function l(e){return i.test(e)?u(e.slice(11)):"merge"}e.ClassMetadata=n,e.getOwnClassMetadata=a,e.getOwnPropertiesMetadata=s,e.getOwnPropertyMetadata=function(e,t){const r=s(e);let o=r[t];return o||(o=r[t]={}),o},e.merge=function(e,t){return o.merge(e,t,l)},e.mergeProperty=function(e,t){return o.merge(e,t,u)},e.setPropertyMetadata=function(e,t,r){s(e)[t]=r},Object.defineProperty(e,"__esModule",{value:!0})}));
