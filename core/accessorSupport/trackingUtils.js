/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","./tracking","./tracking/SimpleTrackingTarget"],(function(n,e,r){"use strict";const t={runImmediately:!1};function u(n,u,c=t){let i=new r.SimpleTrackingTarget(a),l=null,o=!1;function a(){if(!i||o)return;const r=l;i.clear(),o=!0,l=e.runTracked(i,n),o=!1,u(l,r)}function f(){i&&(i.destroy(),i=null,l=null)}return o=!0,l=e.runTracked(i,n),o=!1,c.runImmediately&&u(l,l),{remove:f}}function c(n,e){return u(n,e,{runImmediately:!0})}function i(n,e){return u((()=>n()),(n=>{n&&e()}),{runImmediately:!0})}function l(n,t){let u=new r.SimpleTrackingTarget(i),c=null;function i(){t(c,o)}function l(){u&&(u.destroy(),u=null),c=null}function o(){return u?(u.clear(),c=e.runTracked(u,n),c):null}return o(),{remove:l}}function o(n){let t=new r.SimpleTrackingTarget(c),u=!1;function c(){t&&!u&&(t.clear(),u=!0,e.runTracked(t,n),u=!1)}function i(){t&&(t.destroy(),t=null)}return u=!0,e.runTracked(t,n),u=!1,{remove:i}}n.autorun=o,n.reaction=u,n.reactionAsync=l,n.reactionInit=c,n.when=i,Object.defineProperty(n,"__esModule",{value:!0})}));
