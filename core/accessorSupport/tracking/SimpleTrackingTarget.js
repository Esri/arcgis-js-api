/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports"],(function(t){"use strict";let e=function(){function t(t){this._notify=t,this._accessed=[],this._handles=[],this._observerObject=new n(this._notify),i.register(this,this._observerObject)}var e=t.prototype;return e.destroy=function(){this._accessed.length=0,this._observerObject?.destroy(),this.clear(),i.unregister(this)},e.onObservableAccessed=function(t){const e=this._accessed;e.includes(t)||e.push(t)},e.onTrackingEnd=function(){const t=this._handles,e=this._accessed,n=this._observerObject;for(let i=0;i<e.length;++i)t.push(e[i].observe(n));e.length=0},e.clear=function(){const t=this._handles;for(let e=0;e<t.length;++e)t[e].remove();t.length=0},t}(),n=function(){function t(t){this._notify=t,this._invalidCount=0,this.destroyed=!1}var e=t.prototype;return e.onInvalidated=function(){this._invalidCount++},e.onCommitted=function(){if(this.destroyed)return;const t=this._invalidCount;if(1===t)return this._invalidCount=0,void this._notify();this._invalidCount=t>0?t-1:0},e.destroy=function(){this.destroyed=!0,this._notify=s},t}();const i=new FinalizationRegistry((t=>{t.destroy()}));function s(){}t.SimpleTrackingTarget=e,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
