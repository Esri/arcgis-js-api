/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
define(["exports","./events","./handleUtils","./maybe","./accessorSupport/watch","./accessorSupport/trackingUtils"],(function(n,e,t,r,c,i){"use strict";function o(n,e,t={}){return l(n,e,t,s)}function u(n,e,t={}){return l(n,e,t,a)}function l(n,e,t={},i){let o=null;const u=t.once?(n,t)=>{i(n)&&(r.removeMaybe(o),e(n,t))}:(n,t)=>{i(n)&&e(n,t)};if(o=c.watchTracked(n,u,t.sync,t.equals),t.initial){const e=n();u(e,e)}return o}function s(n){return!0}function a(n){return!!n}function d(n,i,o,u={}){let l=null,s=null,a=null;function d(){l&&s&&(s.remove(),null==u.onListenerRemove||u.onListenerRemove(l),l=null,s=null)}function f(n){u.once&&u.once&&r.removeMaybe(a),o(n)}const y=c.watchTracked(n,((n,t)=>{d(),e.isEventTarget(n)&&(l=n,s=e.on(n,i,f),null==u.onListenerAdd||u.onListenerAdd(n))}),u.sync);return a=t.makeHandle((()=>{y.remove(),d()})),a}const f={sync:!0},y={initial:!0},v={sync:!0,initial:!0};n.autorun=i.autorun,n.initial=y,n.react=o,n.reactListener=d,n.reactTruthy=u,n.sync=f,n.syncAndInitial=v,Object.defineProperty(n,"__esModule",{value:!0})}));
