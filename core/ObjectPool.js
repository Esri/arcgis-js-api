/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define((function(){"use strict";let t=function(){function t(t,i,e,o=1,n=0){if(this.ctor=t,this.acquireFunction=i,this.releaseFunction=e,this.allocationSize=o,this._pool=new Array(n),this._initialSize=n,this.ctor)for(let t=0;t<n;t++)this._pool[t]=new this.ctor;this.allocationSize=Math.max(o,1)}var i=t.prototype;return i.destroy=function(){this.prune(0)},i.acquire=function(...i){let e;const o=this.ctor;if(t.test.disabled)e=new o;else{if(0===this._pool.length){const t=this.allocationSize;for(let i=0;i<t;i++)this._pool[i]=new o}e=this._pool.pop()}return this.acquireFunction?this.acquireFunction(e,...i):function(t){return t&&t.acquire&&"function"==typeof t.acquire}(e)&&e.acquire(...i),e},i.release=function(i){i&&!t.test.disabled&&(this.releaseFunction?this.releaseFunction(i):function(t){return t&&t.release&&"function"==typeof t.release}(i)&&i.release(),this._pool.push(i))},i.prune=function(t=this._initialSize){if(!(t>=this._pool.length)){for(let i=t;i<this._pool.length;++i){const t=this._pool[i];this._dispose(t)}this._pool.length=t}},i._dispose=function(t){t.dispose&&"function"==typeof t.dispose&&t.dispose()},t}();return t.test={disabled:!1},t}));
