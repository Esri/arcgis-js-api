/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","./byteSizeEstimations","./Cyclical","./mathUtils","./maybe","./string","./unitUtils","../intl/number"],(function(t,e,r,n,i,a,o,c){"use strict";function m(t,e,r){return t.units[e][r]}function u(t,e,r,n=2,i="abbr"){return`${c.formatNumber(e,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:e>0?"never":"exceptZero"})} ${m(t,r,i)}`}function l(t,e,r,n=2,i="abbr"){return`${c.formatNumber(e,{minimumFractionDigits:n,maximumFractionDigits:n,signDisplay:"exceptZero"})} ${m(t,r,i)}`}function f(t,e,r,n=2,i="abbr"){const a=o.preferredMetricLengthUnit(e,r);return u(t,o.convertUnit(e,r,a),a,n,i)}function s(t,e,r,n=2,i="abbr"){const a=o.preferredMetricLengthUnit(e,r);return l(t,o.convertUnit(e,r,a),a,n,i)}function g(t,e,r,n=2,i="abbr"){const a=o.preferredMetricVerticalLengthUnit(e,r);return u(t,o.convertUnit(e,r,a),a,n,i)}function p(t,e,r,n=2,i="abbr"){const a=o.preferredMetricVerticalLengthUnit(e,r);return l(t,o.convertUnit(e,r,a),a,n,i)}function b(t,e,r,n=2,i="abbr"){const a=o.preferredImperialLengthUnit(e,r);return u(t,o.convertUnit(e,r,a),a,n,i)}function U(t,e,r,n=2,i="abbr"){const a=o.preferredImperialLengthUnit(e,r);return l(t,o.convertUnit(e,r,a),a,n,i)}function h(t,e,r,n=2,i="abbr"){const a=o.preferredImperialVerticalLengthUnit(e,r);return u(t,o.convertUnit(e,r,a),a,n,i)}function v(t,e,r,n=2,i="abbr"){const a=o.preferredImperialVerticalLengthUnit(e,r);return l(t,o.convertUnit(e,r,a),a,n,i)}function d(t,e,r,n=2,i="abbr"){const a=o.preferredMetricAreaUnit(e,r);return u(t,o.convertUnit(e,r,a),a,n,i)}function D(t,e,r,n=2,i="abbr"){const a=o.preferredImperialAreaUnit(e,r);return u(t,o.convertUnit(e,r,a),a,n,i)}function M(t,e,r=2){let n=o.convertUnit(t,e,"degrees"),i=n-Math.floor(n);n-=i,i*=60;let a=i-Math.floor(i);return i-=a,a*=60,`${n.toFixed()}Â° ${i.toFixed()}' ${a.toFixed(r)}"`}function y(t,e,n,a,m){m=i.unwrapOr(m,2);let u=r.cyclicalDegrees.normalize(I(o.convertUnit(t,e,"degrees"),n,a),0,!0);const l={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:m,minimumFractionDigits:m,signDisplay:u>0?"never":"exceptZero"};return u=x(u,l),c.formatNumber(u,l)}function L(t,e,r,n,a){r!==n&&(t=-t);const m={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:a=i.unwrapOr(a,2),minimumFractionDigits:a,signDisplay:"exceptZero"};let u=o.convertUnit(t,e,"degrees")%360;return u=x(u,m),c.formatNumber(u,m)}const F=new Map;function x(t,e){const r=JSON.stringify(e);let n=F.get(r);return n||(n=new Intl.NumberFormat("en-US",e),F.set(r,n)),/\-?\+?360/.test(n.format(t))?0:t}function I(t,e,r){if(e===r)return t;switch(r){case"arithmetic":return S(t);case"geographic":return B(t)}}function S(t){return 90-t}function B(t){return-t-90}const N=["B","kB","MB","GB","TB"];function V(t,r){let i=0===r?0:Math.floor(Math.log(r)/Math.log(e.ByteSizeUnit.KILOBYTES));i=n.clamp(i,0,N.length-1);const o=c.formatNumber(r/e.ByteSizeUnit.KILOBYTES**i,{maximumFractionDigits:2});return a.replace(t.units.bytes[N[i]],{fileSize:o})}t.formatAngleDegrees=y,t.formatDMS=M,t.formatDecimal=u,t.formatFileSize=V,t.formatImperialArea=D,t.formatImperialLength=b,t.formatImperialRelativeLength=U,t.formatImperialRelativeVerticalLength=v,t.formatImperialVerticalLength=h,t.formatMetricArea=d,t.formatMetricLength=f,t.formatMetricRelativeLength=s,t.formatMetricRelativeVerticalLength=p,t.formatMetricVerticalLength=g,t.formatRelativeAngleDegrees=L,t.formatRelativeDecimal=l,t.unitName=m,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}));
