/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["./global"],(function(e){"use strict";var d,a;let o;var r,i;null!=(d=e.dojoConfig)&&d.has||null!=(a=e.esriConfig)&&a.has?o={...null==(r=e.dojoConfig)?void 0:r.has,...null==(i=e.esriConfig)?void 0:i.has}:o={};function t(d){return"function"==typeof o[d]?o[d]=o[d](e):o[d]}return t.add=(e,d,a,r)=>((r||void 0===o[e])&&(o[e]=d),a&&t(e)),t.cache=o,t.add("esri-deprecation-warnings",!0),(()=>{t.add("host-webworker",void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope);const d="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(t.add("host-browser",d),t.add("host-node","object"==typeof e.process&&e.process.versions&&e.process.versions.node&&e.process.versions.v8),t.add("dom",d),t("host-browser")){const e=navigator,d=e.userAgent,a=e.appVersion,o=parseFloat(a);if(t.add("wp",parseFloat(d.split("Windows Phone")[1])||void 0),t.add("msapp",parseFloat(d.split("MSAppHost/")[1])||void 0),t.add("khtml",a.indexOf("Konqueror")>=0?o:void 0),t.add("edge",parseFloat(d.split("Edge/")[1])||void 0),t.add("opr",parseFloat(d.split("OPR/")[1])||void 0),t.add("webkit",!t("wp")&&!t("edge")&&parseFloat(d.split("WebKit/")[1])||void 0),t.add("chrome",!t("edge")&&!t("opr")&&parseFloat(d.split("Chrome/")[1])||void 0),t.add("android",!t("wp")&&parseFloat(d.split("Android ")[1])||void 0),t.add("safari",!(a.indexOf("Safari")>=0)||t("wp")||t("chrome")||t("android")||t("edge")||t("opr")?void 0:parseFloat(a.split("Version/")[1])),t.add("mac",a.indexOf("Macintosh")>=0),t.add("quirks","BackCompat"===document.compatMode),!t("wp")&&d.match(/(iPhone|iPod|iPad)/)){const e=RegExp.$1.replace(/P/,"p"),a=d.match(/OS ([\d_]+)/)?RegExp.$1:"1",o=parseFloat(a.replace(/_/,".").replace(/_/g,""));t.add(e,o),t.add("ios",o)}t.add("trident",parseFloat(a.split("Trident/")[1])||void 0),t.add("svg","undefined"!=typeof SVGAngle),t("webkit")||(d.indexOf("Opera")>=0&&t.add("opera",o>=9.8&&parseFloat(d.split("Version/")[1])||o),!(d.indexOf("Gecko")>=0)||t("wp")||t("khtml")||t("trident")||t("edge")||t.add("mozilla",o),t("mozilla")&&t.add("ff",parseFloat(d.split("Firefox/")[1]||d.split("Minefield/")[1])||void 0))}})(),(()=>{if(e.navigator){const e=navigator.userAgent,d=e.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),a=e.match(/iPhone/i);d&&t.add("esri-mobile",d),a&&t.add("esri-iPhone",a),t.add("esri-geolocation",!!navigator.geolocation)}t.add("esri-canvas-svg-support",!t("trident")),t.add("esri-wasm","WebAssembly"in e),t.add("esri-shared-array-buffer",(()=>{const d="SharedArrayBuffer"in e,a=!1===e.crossOriginIsolated;return d&&!a})),t.add("esri-atomics","Atomics"in e),t.add("esri-workers","Worker"in e),t.add("esri-text-decoder","TextDecoder"in e),t.add("esri-text-encoder","TextEncoder"in e),t.add("featurelayer-snapshot-enabled",!0),t.add("featurelayer-snapshot-point-min-threshold",8e4),t.add("featurelayer-snapshot-point-max-threshold",4e5),t.add("featurelayer-snapshot-point-coverage",.1),t.add("featurelayer-advanced-symbols",!1),t.add("featurelayer-pbf",!0),t.add("featurelayer-pbf-statistics",!1),t.add("feature-layers-workers",!0),t.add("mapview-transitions-duration",200),t.add("mapserver-pbf-enabled",!1),t("host-webworker")||t("host-browser")&&(t.add("csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),t.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{t.add("esri-image-decode",!0,!0,!0)})).catch((()=>{t.add("esri-image-decode",!1,!0,!0)}))}return!1})),t.add("esri-url-encodes-apostrophe",(()=>{const d=e.document.createElement("a");return d.href="?'",d.href.indexOf("?%27")>-1})),t.add("vectortilelayer-max-buffers",(()=>t("ff")?160:Number.POSITIVE_INFINITY)))})(),t}));
