/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["./global"],(function(e){"use strict";var d,o;let a;var r,i;null!=(d=e.dojoConfig)&&d.has||null!=(o=e.esriConfig)&&o.has?a={...null==(r=e.dojoConfig)?void 0:r.has,...null==(i=e.esriConfig)?void 0:i.has}:a={};function t(d){return"function"==typeof a[d]?a[d]=a[d](e):a[d]}return t.add=(e,d,o,r)=>((r||void 0===a[e])&&(a[e]=d),o&&t(e)),t.cache=a,t.add("esri-deprecation-warnings",!0),t.add("esri-featurelayer-webgl",!0),t.add("esri-featurelayer-webgl-labeling",!0),(()=>{t.add("host-webworker",void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope);const d="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(t.add("host-browser",d),t.add("host-node","object"==typeof e.process&&e.process.versions&&e.process.versions.node&&e.process.versions.v8),t.add("dom",d),t("host-browser")){const e=navigator,d=e.userAgent,o=e.appVersion,a=parseFloat(o);if(t.add("wp",parseFloat(d.split("Windows Phone")[1])||void 0),t.add("msapp",parseFloat(d.split("MSAppHost/")[1])||void 0),t.add("khtml",o.indexOf("Konqueror")>=0?a:void 0),t.add("edge",parseFloat(d.split("Edge/")[1])||void 0),t.add("opr",parseFloat(d.split("OPR/")[1])||void 0),t.add("webkit",!t("wp")&&!t("edge")&&parseFloat(d.split("WebKit/")[1])||void 0),t.add("chrome",!t("edge")&&!t("opr")&&parseFloat(d.split("Chrome/")[1])||void 0),t.add("android",!t("wp")&&parseFloat(d.split("Android ")[1])||void 0),t.add("safari",!(o.indexOf("Safari")>=0)||t("wp")||t("chrome")||t("android")||t("edge")||t("opr")?void 0:parseFloat(o.split("Version/")[1])),t.add("mac",o.indexOf("Macintosh")>=0),t.add("quirks","BackCompat"===document.compatMode),!t("wp")&&d.match(/(iPhone|iPod|iPad)/)){const e=RegExp.$1.replace(/P/,"p"),o=d.match(/OS ([\d_]+)/)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replace(/_/g,""));t.add(e,a),t.add("ios",a)}t.add("trident",parseFloat(o.split("Trident/")[1])||void 0),t.add("svg","undefined"!=typeof SVGAngle),t("webkit")||(d.indexOf("Opera")>=0&&t.add("opera",a>=9.8&&parseFloat(d.split("Version/")[1])||a),!(d.indexOf("Gecko")>=0)||t("wp")||t("khtml")||t("trident")||t("edge")||t.add("mozilla",a),t("mozilla")&&t.add("ff",parseFloat(d.split("Firefox/")[1]||d.split("Minefield/")[1])||void 0))}})(),(()=>{if(e.navigator){const e=navigator.userAgent,d=e.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),o=e.match(/iPhone/i);d&&t.add("esri-mobile",d),o&&t.add("esri-iPhone",o),t.add("esri-geolocation",!!navigator.geolocation)}t.add("esri-canvas-svg-support",!t("trident")),t.add("esri-secure-context",(()=>"isSecureContext"in e?e.isSecureContext:e.location&&e.location.origin?0===e.location.origin.indexOf("https:"):void 0)),t.add("esri-wasm","WebAssembly"in e),t.add("esri-shared-array-buffer",(()=>{const d="SharedArrayBuffer"in e,o=!1===e.crossOriginIsolated;return d&&!o})),t.add("esri-atomics","Atomics"in e),t.add("esri-workers","Worker"in e),t.add("esri-text-decoder","TextDecoder"in e),t.add("esri-text-encoder","TextEncoder"in e),t.add("featurelayer-advanced-symbols",!1),t.add("featurelayer-pbf",!0),t.add("featurelayer-pbf-statistics",!1),t.add("feature-layers-workers",!0),t.add("mapview-transitions-duration",200),t("host-webworker")||t("host-browser")&&(t.add("csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),t.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{t.add("esri-image-decode",!0,!0,!0)})).catch((()=>{t.add("esri-image-decode",!1,!0,!0)}))}return!1})),t.add("esri-url-encodes-apostrophe",(()=>{const d=e.document.createElement("a");return d.href="?'",d.href.indexOf("?%27")>-1})),t.add("vectortilelayer-max-buffers",(()=>t("ff")?160:Number.POSITIVE_INFINITY)))})(),t}));
