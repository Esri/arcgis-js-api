/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
define(["./global"],(function(e){"use strict";var d,a;let o;var r,i;null!=(d=e.dojoConfig)&&d.has||null!=(a=e.esriConfig)&&a.has?o={...null==(r=e.dojoConfig)?void 0:r.has,...null==(i=e.esriConfig)?void 0:i.has}:o={};function s(d){return"function"==typeof o[d]?o[d]=o[d](e):o[d]}return s.add=(e,d,a,r)=>((r||void 0===o[e])&&(o[e]=d),a&&s(e)),s.cache=o,s.add("esri-deprecation-warnings",!0),(()=>{s.add("host-webworker",void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope);const d="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(s.add("host-browser",d),s.add("host-node","object"==typeof e.process&&e.process.versions&&e.process.versions.node&&e.process.versions.v8),s.add("dom",d),s("host-browser")){const e=navigator,d=e.userAgent,a=e.appVersion,o=parseFloat(a);if(s.add("wp",parseFloat(d.split("Windows Phone")[1])||void 0),s.add("msapp",parseFloat(d.split("MSAppHost/")[1])||void 0),s.add("khtml",a.includes("Konqueror")?o:void 0),s.add("edge",parseFloat(d.split("Edge/")[1])||void 0),s.add("opr",parseFloat(d.split("OPR/")[1])||void 0),s.add("webkit",!s("wp")&&!s("edge")&&parseFloat(d.split("WebKit/")[1])||void 0),s.add("chrome",!s("edge")&&!s("opr")&&parseFloat(d.split("Chrome/")[1])||void 0),s.add("android",!s("wp")&&parseFloat(d.split("Android ")[1])||void 0),s.add("safari",!a.includes("Safari")||s("wp")||s("chrome")||s("android")||s("edge")||s("opr")?void 0:parseFloat(a.split("Version/")[1])),s.add("mac",a.includes("Macintosh")),!s("wp")&&d.match(/(iPhone|iPod|iPad)/)){const e=RegExp.$1.replace(/P/,"p"),a=d.match(/OS ([\d_]+)/)?RegExp.$1:"1",o=parseFloat(a.replace(/_/,".").replace(/_/g,""));s.add(e,o),s.add("ios",o)}s.add("trident",parseFloat(a.split("Trident/")[1])||void 0),s("webkit")||(!d.includes("Gecko")||s("wp")||s("khtml")||s("trident")||s("edge")||s.add("mozilla",o),s("mozilla")&&s.add("ff",parseFloat(d.split("Firefox/")[1]||d.split("Minefield/")[1])||void 0))}})(),(()=>{if(e.navigator){const e=navigator.userAgent,d=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),a=/iPhone/i.test(e);d&&s.add("esri-mobile",d),a&&s.add("esri-iPhone",a),s.add("esri-geolocation",!!navigator.geolocation)}s.add("esri-canvas-svg-support",!s("trident")),s.add("esri-wasm","WebAssembly"in e),s.add("esri-shared-array-buffer",(()=>{const d="SharedArrayBuffer"in e,a=!1===e.crossOriginIsolated;return d&&!a})),s.add("esri-atomics","Atomics"in e),s.add("esri-workers","Worker"in e),s.add("esri-text-decoder","TextDecoder"in e),s.add("esri-text-encoder","TextEncoder"in e),s.add("web-feat:cache","caches"in e),s.add("esri-workers-arraybuffer-transfer",!s("safari")||Number(s("safari"))>=12),s.add("featurelayer-snapshot-enabled",!0),s.add("featurelayer-snapshot-point-min-threshold",8e4),s.add("featurelayer-snapshot-point-max-threshold",4e5),s.add("featurelayer-snapshot-point-coverage",.1),s.add("featurelayer-advanced-symbols",!1),s.add("featurelayer-pbf",!0),s.add("featurelayer-pbf-statistics",!1),s.add("feature-layers-workers",!0),s.add("mapview-transitions-duration",200),s.add("mapserver-pbf-enabled",!1),s("host-webworker")||s("host-browser")&&(s.add("csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),s.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{s.add("esri-image-decode",!0,!0,!0)})).catch((()=>{s.add("esri-image-decode",!1,!0,!0)}))}return!1})),s.add("esri-url-encodes-apostrophe",(()=>{const d=e.document.createElement("a");return d.href="?'",d.href.includes("?%27")})),s.add("vectortilelayer-max-buffers",s("ff")?160:Number.POSITIVE_INFINITY))})(),s}));
