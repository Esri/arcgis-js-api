/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers","./arrayUtils","./HeapSort"],(function(t,i,h){"use strict";const n=1.5,e=1.1;function s(t){t.data.length>n*t.length&&(t.data.length=Math.floor(t.length*e))}return function(){function n(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new i.PositionHint,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),void 0!==t.deallocator&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>s(this)))}var e=n.prototype;return e.toArray=function(){return this.data.slice(0,this.length)},e.filter=function(t){const i=new Array;for(let h=0;h<this._length;h++){const n=this.data[h];t(n)&&i.push(n)}return i},e.getItemAt=function(t){if(!(t<0||t>=this._length))return this.data[t]},e.includes=function(t,i){const h=this.data.indexOf(t,i);return-1!==h&&h<this.length},e.clear=function(){this.length=0},e.prune=function(){this.clear(),this.data=[]},e.push=function(t){this.data[this._length++]=t},e.pushArray=function(t,i=t.length){for(let h=0;h<i;h++)this.data[this._length++]=t[h]},e.fill=function(t,i){for(let h=0;h<i;h++)this.data[this._length++]=t},e.pushNew=function(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const t=this.data[this._length];return++this._length,t},e.unshift=function(t){this.data.unshift(t),this._length++,s(this)},e.pop=function(){if(0===this.length)return;const t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t},e.remove=function(t){const h=i.indexOf(this.data,t,this.length,this._hint);if(-1!==h)return this.data.splice(h,1),this.length=this.length-1,t},e.removeUnordered=function(t){return this.removeUnorderedIndex(i.indexOf(this.data,t,this.length,this._hint))},e.removeUnorderedIndex=function(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()},e.removeUnorderedMany=function(t,h=t.length,n){this.length=i.removeUnorderedMany(this.data,t,this.length,h,this._hint,n),this._shrink()},e.front=function(){if(0!==this.length)return this.data[0]},e.back=function(){if(0!==this.length)return this.data[this.length-1]},e.swapElements=function(t,i){if(t>=this.length||i>=this.length||t===i)return;const h=this.data[t];this.data[t]=this.data[i],this.data[i]=h},e.sort=function(t){h.sort(this.data,0,this.length,t)},e.iterableSort=function(t){return h.iterableSort(this.data,0,this.length,t)},e.some=function(t,i){for(let h=0;h<this.length;++h)if(t.call(i,this.data[h],h,this.data))return!0;return!1},e.filterInPlace=function(t,i){let h=0;for(let n=0;n<this._length;++n){const e=this.data[n];t.call(i,e,n,this.data)&&(this.data[n]=this.data[h],this.data[h]=e,h++)}if(this._deallocator)for(let n=h;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=h,this._shrink(),this},e.forAll=function(t,i){const h=this.length,n=this.data;for(let e=0;e<h;++e)t.call(i,n[e],e,n)},e.forEach=function(t,i){for(let h=0;h<this.length;++h)t.call(i,this.data[h],h,this.data)},e.map=function(t,i){const h=new Array(this.length);for(let n=0;n<this.length;++n)h[n]=t.call(i,this.data[n],n,this.data);return h},e.reduce=function(t,i){let h=i;for(let n=0;n<this.length;++n)h=t(h,this.data[n],n,this.data);return h},e.has=function(t){const i=this.length,h=this.data;for(let n=0;n<i;++n)if(h[n]===t)return!0;return!1},t._createClass(n,[{key:"length",get:function(){return this._length},set:function(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let i=t;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=t,this._shrink()}}}]),n}()}));
