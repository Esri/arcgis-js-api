/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../config","../kernel","../core/lang","../core/urlUtils","../support/apiKeyUtils"],(function(e,t,n,i,o,r){"use strict";function s(e,t){return t?{...t,query:{...e,...t.query}}:{query:e}}function l(e){return"string"==typeof e?o.urlToObject(e):i.clone(e)}function u(e,t,n){const i={};for(const o in e){if("declaredClass"===o)continue;const r=e[o];if(null!=r&&"function"!=typeof r)if(Array.isArray(r)){i[o]=[];for(let e=0;e<r.length;e++)i[o][e]=u(r[e])}else if("object"==typeof r)if(r.toJSON){const e=r.toJSON(n&&n[o]);i[o]=t?e:JSON.stringify(e)}else i[o]=t?r:JSON.stringify(r);else i[o]=r}return i}function f(e,i){return r.supportsApiKey(e)&&(i||t.apiKey)?i||t.apiKey:n.id?.findCredential(e)?.token}e.asValidOptions=s,e.encode=u,e.getToken=f,e.parseUrl=l,Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
