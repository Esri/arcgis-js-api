/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["exports","../../../core/maybe","../../../geometry/support/spatialReferenceUtils","../../../core/unitUtils"],(function(e,t,n,o){"use strict";function i(e,i,c){if(t.isNone(i)||t.isNone(c)||c.vcsWkid||n.equals(i,c))return null;const u=o.getMetersPerVerticalUnitForSR(i)/o.getMetersPerVerticalUnitForSR(c);if(1===u)return null;switch(e){case"point":case"esriGeometryPoint":return e=>r(e,u);case"polyline":case"esriGeometryPolyline":return e=>f(e,u);case"polygon":case"esriGeometryPolygon":return e=>s(e,u);case"multipoint":case"esriGeometryMultipoint":return e=>l(e,u);default:return null}}function r(e,t){e&&null!=e.z&&(e.z*=t)}function s(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}function f(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}function l(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}function c(e,t,n){if(null==e.hasM||e.hasZ)for(const o of t)for(const e of o)e.length>2&&(e[2]*=n)}function u(e,t,n){if(!e&&!t||!n)return;const i=o.getMetersPerVerticalUnitForSR(n);a(e,n,i),a(t,n,i)}function a(e,t,n){if(e)for(const o of e)p(o.geometry,t,n)}function p(e,t,i){if(!e||!e.spatialReference||n.equals(e.spatialReference,t))return;const r=o.getMetersPerVerticalUnitForSR(e.spatialReference)/i;if(1!==r)if("x"in e)null!=e.z&&(e.z*=r);else if("rings"in e)c(e,e.rings,r);else if("paths"in e)c(e,e.paths,r);else if("points"in e&&(null==e.hasM||e.hasZ))for(const n of e.points)n.length>2&&(n[2]*=r)}e.getGeometryZScaler=i,e.unapplyEditsZUnitScaling=u,Object.defineProperty(e,"__esModule",{value:!0})}));
