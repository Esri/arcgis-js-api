/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{serializeLayerDefinitions as e}from"../../layers/support/layerUtils.js";function i(i){const{contains:s,dynamicLayers:n,geometryPrecision:t,layerDefinitions:r,layerIds:o,maxAllowableOffset:l,outSR:a,returnGeometry:c,searchFields:f,searchText:y}=i.toJSON(),d={contains:s,returnGeometry:c,geometryPrecision:t,maxAllowableOffset:l,searchText:y};if(o&&(d.layers=o.join(",")),f&&(d.searchFields=f.join(",")),a&&(d.sr=a.wkid||JSON.stringify(a)),r){const i=[];for(let e=0;e<r.length;e++){const s=r[e];i[s.id]=s.definitionExpression}d.layerDefs=e(i)}if(n&&n.length){const e=[];for(let s=0;s<n.length;s++){const i=n[s],t=i.id;if(!i.subLayerIds&&o&&o.includes(t)){const s={id:t};s.source=i.source;let n=null;if(r&&r.length){const e=r.find((e=>e.id===t));n=e&&e.definitionExpression}n&&(s.definitionExpression=n),e.push(s)}}let i=JSON.stringify(e);"[]"===i&&(i="[{}]"),d.dynamicLayers=i}return d}export{i as findToFindRESTParameters};
