/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports","../../chunks/_rollupPluginBabelHelpers","../../request","../../geometry/Extent","../../geometry/Point","../../layers/support/RasterInfo","../../layers/support/RasterStorageInfo","../utils"],(function(e,t,i,l,a,s,n,r){"use strict";function o(e,t,i){return u.apply(this,arguments)}function u(){return(u=t._asyncToGenerator((function*(e,t,o){const u=r.parseUrl(e),p=r.encode({...u?.query,f:"json"}),c=r.asValidOptions(p,o),d=`${u?.path}/${t}/info`,f=i(`${d}`,c),g=i(`${d}/keyProperties`,c),h=yield Promise.allSettled([f,g]),m="fulfilled"===h[0].status?h[0].value.data:null,y="fulfilled"===h[1].status?h[1].value.data:null;let x=null;m.statistics?.length&&(x=m.statistics.map((e=>({min:e[0],max:e[1],avg:e[2],stddev:e[3]}))));const P=l.fromJSON(m.extent),S=Math.ceil(P.width/m.pixelSizeX-.1),b=Math.ceil(P.height/m.pixelSizeY-.1),v=P.spatialReference,k=new a({x:m.pixelSizeX,y:m.pixelSizeY,spatialReference:v}),w=m.histograms?.length?m.histograms:null,R=new n({origin:m.origin,blockWidth:m.blockWidth,blockHeight:m.blockHeight,firstPyramidLevel:m.firstPyramidLevel,maximumPyramidLevel:m.maxPyramidLevel});return new s({width:S,height:b,bandCount:m.bandCount,extent:P,spatialReference:v,pixelSize:k,pixelType:m.pixelType.toLowerCase(),statistics:x,histograms:w,keyProperties:y,storageInfo:R})}))).apply(this,arguments)}e.getCatalogItemRasterInfo=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
