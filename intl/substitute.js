/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["exports","../core/object","../core/string","../core/Logger","./date","./number"],(function(t,e,r,n,o,a){"use strict";const u=n.getLogger("esri.intl");function i(t){switch(typeof t){case"string":return t;case"number":return a.formatNumber(t);case"boolean":return""+t;default:return t instanceof Date?o.formatDate(t):""}}t.substitute=function(t,n,s={}){const{format:f={}}=s;return r.replace(t,(t=>function(t,r,n){let s,f;const c=t.indexOf(":");-1===c?s=t.trim():(s=t.slice(0,c).trim(),f=t.slice(c+1).trim());if(!s)return"";const m=e.getDeepValue(s,r);if(null==m)return"";const l=n[f]||n[s];if(l)return function(t,e){switch(e.type){case"date":return o.formatDate(t,e.intlOptions);case"number":return a.formatNumber(t,e.intlOptions);default:return u.warn("missing format descriptor for key {key}"),i(t)}}(m,l);if(f)return function(t,e){switch(e.toLowerCase()){case"dateformat":return o.formatDate(t);case"numberformat":return a.formatNumber(t);default:return u.warn(`inline format is unsupported since 4.12: ${e}`),/^(dateformat|datestring)/i.test(e)?o.formatDate(t):/^numberformat/i.test(e)?a.formatNumber(t):i(t)}}(m,f);return i(m)}(t,n,f)))},Object.defineProperty(t,"__esModule",{value:!0})}));
