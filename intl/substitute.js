/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["exports","../core/Logger","../core/object","../core/string","./date","./number"],(function(t,e,r,n,o,u){"use strict";const a=e.getLogger("esri.intl.substitute");function i(t,e,r={}){const{format:o={}}=r;return n.replace(t,(t=>s(t,e,o)))}function s(t,e,n){let o,u;const a=t.indexOf(":");if(-1===a?o=t.trim():(o=t.slice(0,a).trim(),u=t.slice(a+1).trim()),!o)return"";const i=r.getDeepValue(o,e);if(null==i)return"";const s=(u?n?.[u]:null)??n?.[o];return s?c(i,s):u?f(i,u):m(i)}function c(t,e){switch(e.type){case"date":return o.formatDate(t,e.intlOptions);case"number":return u.formatNumber(t,e.intlOptions);default:return a.warn("missing format descriptor for key {key}"),m(t)}}function f(t,e){switch(e.toLowerCase()){case"dateformat":return o.formatDate(t);case"numberformat":return u.formatNumber(t);default:return a.warn(`inline format is unsupported since 4.12: ${e}`),/^(dateformat|datestring)/i.test(e)?o.formatDate(t):/^numberformat/i.test(e)?u.formatNumber(t):m(t)}}function m(t){switch(typeof t){case"string":return t;case"number":return u.formatNumber(t);case"boolean":return""+t;default:return t instanceof Date?o.formatDate(t):""}}t.substitute=i,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
