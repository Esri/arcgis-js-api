/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/subclass","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../../core/JSONSupport","../../geometry/support/jsonUtils"],(function(e,r,t,o,s,a,n,i,p,c,u,l){"use strict";const f=o.getLogger("esri.tasks.support.ProjectParameters");let d=function(r){function t(e){var t;return(t=r.call(this,e)||this).geometries=null,t.outSpatialReference=null,t.transformation=null,t.transformForward=null,t}return e._inheritsLoose(t,r),t.prototype.toJSON=function(){const e=this.geometries.map((function(e){return e.toJSON()})),r=this.geometries[0],t={};return t.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),t.inSR=r.spatialReference.wkid||JSON.stringify(r.spatialReference.toJSON()),t.geometries=JSON.stringify({geometryType:l.getJsonType(r),geometries:e}),this.transformation&&(t.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(t.transformForward=this.transformForward),t},e._createClass(t,[{key:"outSR",get:function(){return f.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead."),this.outSpatialReference},set:function(e){f.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead."),this.outSpatialReference=e}}]),t}(u.JSONSupport);return r.__decorate([a.property()],d.prototype,"geometries",void 0),r.__decorate([a.property({json:{read:{source:"outSR"}}})],d.prototype,"outSpatialReference",void 0),r.__decorate([a.property({json:{read:!1}})],d.prototype,"outSR",null),r.__decorate([a.property()],d.prototype,"transformation",void 0),r.__decorate([a.property()],d.prototype,"transformForward",void 0),d=r.__decorate([n.subclass("esri.tasks.support.ProjectParameters")],d),d}));
