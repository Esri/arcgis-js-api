/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.19/esri/copyright.txt for details.
*/
define(["./chunks/_rollupPluginBabelHelpers","./chunks/tslib.es6","./core/has","./core/Logger","./core/accessorSupport/ensureType","./core/accessorSupport/decorators/property","./core/accessorSupport/decorators/reader","./core/accessorSupport/decorators/subclass","./core/accessorSupport/decorators/writer","./core/urlUtils","./core/uuid","./portal/support/resourceExtension","./core/JSONSupport","./layers/support/timeUtils"],(function(t,e,r,n,s,i,o,l,a,u,c,d,p,h){"use strict";var m;let f=m=function(e){function r(t){var r;return(r=e.call(this,t)||this).end=null,r.start=null,r}t._inheritsLoose(r,e);var n=r.prototype;return n.readEnd=function(t,e){return null!=e.end?new Date(e.end):null},n.writeEnd=function(t,e){e.end=t?t.getTime():null},n.readStart=function(t,e){return null!=e.start?new Date(e.start):null},n.writeStart=function(t,e){e.start=t?t.getTime():null},n.clone=function(){return new m({end:this.end,start:this.start})},n.expandTo=function(t){if(this.isEmpty||this.isAllTime)return this.clone();const e=this.start?h.truncateDate(this.start,t):null,r=this.end?h.offsetDate(h.truncateDate(this.end,t),1,t):null;return new m({start:e,end:r})},n.intersection=function(t){var e,r,n,s,i,o,l,a;if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return m.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const u=null!=(e=null==(r=this.start)?void 0:r.getTime())?e:-1/0,c=null!=(n=null==(s=this.end)?void 0:s.getTime())?n:1/0,d=null!=(i=null==(o=t.start)?void 0:o.getTime())?i:-1/0,p=null!=(l=null==(a=t.end)?void 0:a.getTime())?l:1/0;let h,f;if(d>=u&&d<=c?h=d:u>=d&&u<=p&&(h=u),c>=d&&c<=p?f=c:p>=u&&p<=c&&(f=p),!isNaN(h)&&!isNaN(f)){const t=new m;return t.start=h===-1/0?null:new Date(h),t.end=f===1/0?null:new Date(f),t}return m.empty},n.offset=function(t,e){if(this.isEmpty||this.isAllTime)return this.clone();const r=new m,{start:n,end:s}=this;return n&&(r.start=h.offsetDate(n,t,e)),s&&(r.end=h.offsetDate(s,t,e)),r},n.equals=function(t){if(!t)return!1;const e=this.start?this.start.getTime():this.start,r=this.end?this.end.getTime():this.end,n=t.start?t.start.getTime():t.start,s=t.end?t.end.getTime():t.end;return e===n&&r===s},n.union=function(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return y.clone();const e=this.start&&t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=this.end&&t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new m({start:e,end:r})},t._createClass(r,[{key:"isAllTime",get:function(){return this.equals(m.allTime)}},{key:"isEmpty",get:function(){return this.equals(m.empty)}}],[{key:"allTime",get:function(){return y}},{key:"empty",get:function(){return T}}]),r}(p.JSONSupport);e.__decorate([i.property({type:Date,json:{write:{allowNull:!0}}})],f.prototype,"end",void 0),e.__decorate([o.reader("end")],f.prototype,"readEnd",null),e.__decorate([a.writer("end")],f.prototype,"writeEnd",null),e.__decorate([i.property({readOnly:!0,json:{read:!1}})],f.prototype,"isAllTime",null),e.__decorate([i.property({readOnly:!0,json:{read:!1}})],f.prototype,"isEmpty",null),e.__decorate([i.property({type:Date,json:{write:{allowNull:!0}}})],f.prototype,"start",void 0),e.__decorate([o.reader("start")],f.prototype,"readStart",null),e.__decorate([a.writer("start")],f.prototype,"writeStart",null),f=m=e.__decorate([l.subclass("esri.TimeExtent")],f);const y=new f,T=new f({start:void 0,end:void 0});return f}));
