/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["./chunks/_rollupPluginBabelHelpers","./core/maybe","./core/accessorSupport/ensureType","./colorUtils","./core/mathUtils"],(function(t,r,n,s,i){"use strict";function e(t){return i.clamp(n.ensureInteger(t),0,255)}function o(t,r,n){return t=Number(t),isNaN(t)?n:t<r?r:t>n?n:t}let a=function(){function n(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}n.blendColors=function(t,r,s,i=new n){return i.r=Math.round(t.r+(r.r-t.r)*s),i.g=Math.round(t.g+(r.g-t.g)*s),i.b=Math.round(t.b+(r.b-t.b)*s),i.a=t.a+(r.a-t.a)*s,i._sanitize()},n.fromRgb=function(t,r){const i=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(i){const t=i[2].split(/\s*,\s*/),e=i[1];if("rgb"===e&&3===t.length||"rgba"===e&&4===t.length){const s=t[0];if("%"===s.charAt(s.length-1)){const s=t.map((t=>2.56*parseFloat(t)));return 4===t.length&&(s[3]=parseFloat(t[3])),n.fromArray(s,r)}return n.fromArray(t.map((t=>parseFloat(t))),r)}if("hsl"===e&&3===t.length||"hsla"===e&&4===t.length)return n.fromArray(s.hsla2rgba(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])),r)}return null},n.fromHex=function(t,r=new n){const s=4===t.length?4:8,i=(1<<s)-1;let e=Number("0x"+t.substr(1));return isNaN(e)?null:(["b","g","r"].forEach((t=>{const n=e&i;e>>=s,r[t]=4===s?17*n:n})),r.a=1,r)},n.fromArray=function(t,r=new n){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()},n.fromString=function(t,r){const i=s.getNamedColor(t);return i&&n.fromArray(i,r)||n.fromRgb(t,r)||n.fromHex(t,r)},n.fromJSON=function(t){return t&&new n([t[0],t[1],t[2],t[3]/255])},n.toUnitRGB=function(t){return r.isSome(t)?[t.r/255,t.g/255,t.b/255]:null},n.toUnitRGBA=function(t){return r.isSome(t)?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null};var i=n.prototype;return i.setColor=function(t){if("string"==typeof t)n.fromString(t,this);else if(Array.isArray(t))n.fromArray(t,this);else{var r,s,i,e;this._set(null!=(r=t.r)?r:0,null!=(s=t.g)?s:0,null!=(i=t.b)?i:0,null!=(e=t.a)?e:1),t instanceof n||this._sanitize()}return this},i.toRgb=function(){return[this.r,this.g,this.b]},i.toRgba=function(){return[this.r,this.g,this.b,this.a]},i.toHex=function(){const t=this.r.toString(16),r=this.g.toString(16),n=this.b.toString(16);return`#${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}${n.length<2?"0"+n:n}`},i.toCss=function(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`},i.toString=function(){return this.toCss(!0)},i.toJSON=function(){return this.toArray()},i.toArray=function(t=0){const r=e(this.r),n=e(this.g),s=e(this.b);return 0===t||1!==this.a?[r,n,s,e(255*this.a)]:[r,n,s]},i.clone=function(){return new n(this.toRgba())},i.hash=function(){return this.r<<24|this.g<<16|this.b<<8|255*this.a},i._sanitize=function(){return this.r=Math.round(o(this.r,0,255)),this.g=Math.round(o(this.g,0,255)),this.b=Math.round(o(this.b,0,255)),this.a=o(this.a,0,1),this},i._set=function(t,r,n,s){this.r=t,this.g=r,this.b=n,this.a=s},t._createClass(n,[{key:"isBright",get:function(){return.299*this.r+.587*this.g+.114*this.b>=127}}]),n}();return a.prototype.declaredClass="esri.Color",a}));
