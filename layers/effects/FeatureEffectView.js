/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/Accessor","../../core/has","../../core/maybe","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/accessorSupport/decorators/subclass","./EffectView"],(function(e,t,i,r,c,f,n,s,o,u){"use strict";let l=function(t){function i(e){var i;return(i=t.call(this,e)||this)._filter=null,i.duration=r("mapview-transitions-duration"),i._excludedEffectView=new u.EffectView(e),i._includedEffectView=new u.EffectView(e),i}e._inheritsLoose(i,t);var f=i.prototype;return f.transitionStep=function(e,t){this._set("scale",t),this.transitioning?(this._includedEffectView.transitionStep(e,t),this._excludedEffectView.transitionStep(e,t),this.transitioning||(this._filter=null)):(this._excludedEffectView.scale=t,this._includedEffectView.scale=t)},f.endTransitions=function(){this._includedEffectView.endTransitions(),this._excludedEffectView.endTransitions(),this._filter=null},f._transitionTo=function(e){const t=this._get("featureEffect"),i=c.unwrap(e),r=c.unwrap(i?.includedEffect),f=c.unwrap(i?.excludedEffect),n=this._includedEffectView.canTransitionTo(r)&&this._excludedEffectView.canTransitionTo(f);this._includedEffectView.effect=r,this._excludedEffectView.effect=f,this._set("featureEffect",i),this._filter=i?.filter||t?.filter||null,n||this.endTransitions()},e._createClass(i,[{key:"excludedEffects",get:function(){return this._excludedEffectView.effects}},{key:"featureEffect",set:function(e){this._get("featureEffect")!==e&&this._transitionTo(e)}},{key:"filter",get:function(){return this._filter||c.unwrap(this.featureEffect)?.filter||null}},{key:"hasEffects",get:function(){return this._excludedEffectView.hasEffects||this._includedEffectView.hasEffects}},{key:"includedEffects",get:function(){return this._includedEffectView.effects}},{key:"scale",set:function(e){this._set("scale",e),this._excludedEffectView.scale=e,this._includedEffectView.scale=e}},{key:"transitioning",get:function(){return this._excludedEffectView.transitioning||this._includedEffectView.transitioning}}]),i}(i);t.__decorate([f.property()],l.prototype,"_filter",void 0),t.__decorate([f.property()],l.prototype,"_excludedEffectView",void 0),t.__decorate([f.property()],l.prototype,"_includedEffectView",void 0),t.__decorate([f.property()],l.prototype,"duration",void 0),t.__decorate([f.property()],l.prototype,"excludedEffects",null),t.__decorate([f.property()],l.prototype,"featureEffect",null),t.__decorate([f.property()],l.prototype,"filter",null),t.__decorate([f.property()],l.prototype,"hasEffects",null),t.__decorate([f.property()],l.prototype,"includedEffects",null),t.__decorate([f.property({value:0})],l.prototype,"scale",null),t.__decorate([f.property()],l.prototype,"transitioning",null),l=t.__decorate([o.subclass("esri.layers.effects.FeatureEffectView")],l);return l}));
