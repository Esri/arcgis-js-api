/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import t from"../request.js";import r from"../core/Error.js";import{property as o}from"../core/accessorSupport/decorators/property.js";import"../core/arrayUtils.js";import"../core/has.js";import"../core/accessorSupport/ensureType.js";import{subclass as s}from"../core/accessorSupport/decorators/subclass.js";import i from"../geometry/Extent.js";import l from"../geometry/SpatialReference.js";import{create as p}from"../geometry/support/aaBoundingRect.js";import a from"./Layer.js";import{BlendLayer as n}from"./mixins/BlendLayer.js";import{RefreshableLayer as m}from"./mixins/RefreshableLayer.js";import{ScaleRangeLayer as c}from"./mixins/ScaleRangeLayer.js";import f from"./support/TileInfo.js";const u={id:"0/0/0",level:0,row:0,col:0,extent:null};let y=class extends(n(c(m(a)))){constructor(){super(...arguments),this.tileInfo=f.create({spatialReference:l.WebMercator,size:256}),this.type="base-tile",this.fullExtent=new i(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,l.WebMercator),this.spatialReference=l.WebMercator}getTileBounds(e,t,r,o){const s=o||p();return u.level=e,u.row=t,u.col=r,u.extent=s,this.tileInfo.updateTileInfo(u),u.extent=null,s}fetchTile(e,r,o,s={}){const{signal:i}=s,l=this.getTileUrl(e,r,o),p={responseType:"image",signal:i,query:{...this.refreshParameters}};return t(l,p).then((e=>e.data))}getTileUrl(){throw new r("basetilelayer:gettileurl-not-implemented","getTileUrl() is not implemented")}};e([o({type:f})],y.prototype,"tileInfo",void 0),e([o({type:["show","hide"]})],y.prototype,"listMode",void 0),e([o({readOnly:!0,value:"base-tile"})],y.prototype,"type",void 0),e([o({nonNullable:!0})],y.prototype,"fullExtent",void 0),e([o()],y.prototype,"spatialReference",void 0),y=e([s("esri.layers.BaseTileLayer")],y);const d=y;export{d as default};
