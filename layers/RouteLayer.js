/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../config","../geometry","../Graphic","../PopupTemplate","../renderers/ClassBreaksRenderer","../renderers/DictionaryRenderer","../renderers/DotDensityRenderer","../renderers/HeatmapRenderer","../renderers/Renderer","../renderers/SimpleRenderer","../renderers/UniqueValueRenderer","../renderers/support/jsonUtils","../core/Collection","../core/Error","../core/HandleOwner","../core/Logger","../core/maybe","../core/MultiOriginJSONSupport","../core/object","../core/reactiveUtils","../core/unitUtils","../core/urlUtils","../core/accessorSupport/decorators/property","../core/arrayUtils","../core/has","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","../core/accessorSupport/originUtils","../geometry/Extent","../geometry/projection","../geometry/support/spatialReferenceUtils","./Layer","./mixins/BlendLayer","./mixins/OperationalLayer","./mixins/PortalLayer","./mixins/ScaleRangeLayer","./support/arcgisLayerUrl","./support/DefaultSymbols","../portal/Portal","../portal/PortalItem","../rest/networkService","../rest/route","../rest/support/DirectionLine","../rest/support/DirectionPoint","../rest/support/networkEnums","../rest/support/PointBarrier","../rest/support/PolygonBarrier","../rest/support/PolylineBarrier","../rest/support/RouteInfo","../rest/support/RouteParameters","../rest/support/RouteSettings","../rest/support/Stop","../geometry/SpatialReference","../geometry/Multipoint"],(function(e,t,r,o,i,n,s,l,a,u,p,y,c,d,f,m,h,S,g,v,w,_,b,P,B,N,I,O,L,D,T,C,J,R,A,x,F,k,G,M,U,j,E,W,q,V,H,z,K,Q,Y,Z,$,X,ee,te,re,oe){"use strict";function ie(e){return e.length?e:null}function ne(e){return"layers"in e}function se(e){return"esri.rest.support.FeatureSet"===e.declaredClass}function le(e){return"esri.rest.support.NetworkFeatureSet"===e.declaredClass}function ae(e,t,r){var o,i,n,s,l,a,u,p,y,c,d;const{impedance:f,networkDataset:h,supportedTravelModes:S,defaultTravelMode:v}=t,w=h.networkAttributes.filter((e=>"esriNAUTCost"===e.usageType)),_=S.find((e=>e.id===v)),b=null!=(o=r.travelMode)?o:_;if(g.isNone(b))return void ve.warn("route-layer:missing-travel-mode","The routing service must have a default travel mode or one must be specified in the route parameter.");const{timeAttributeName:P,distanceAttributeName:B}=b,N=w.find((e=>e.name===P)),I=w.find((e=>e.name===B)),O=null!=(i=null!=(n=null==(s=r.travelMode)?void 0:s.impedanceAttributeName)?n:r.impedanceAttribute)?i:f,L=K.directionsTimeUnitJsonMap.fromJSON(null==N?void 0:N.units),D=K.directionsLengthUnitJsonMap.fromJSON(null==I?void 0:I.units);if(!L||!D)throw new m("routelayer:unknown-impedance-units","the units of either the distance or time impedance are unknown");const T=null!=(l=r.directionsLanguage)?l:t.directionsLanguage,C=null!=(a=null!=(u=r.accumulateAttributes)?u:t.accumulateAttributeNames)?a:[],J=new Set(w.filter((({name:e})=>e===P||e===B||e===O||C.includes(e))).map((({name:e})=>e))),R=e=>{for(const t in e)J.has(t)||delete e[t]};for(const m of e.pointBarriers){var A;if(g.isSome(m.costs))m.addedCost=null!=(A=m.costs[O])?A:0,R(m.costs)}for(const m of e.polygonBarriers){var x;if(g.isSome(m.costs))m.scaleFactor=null!=(x=m.costs[O])?x:1,R(m.costs)}for(const m of e.polylineBarriers){var F;if(g.isSome(m.costs))m.scaleFactor=null!=(F=m.costs[O])?F:1,R(m.costs)}const{routeInfo:k}=e,{findBestSequence:G,preserveFirstStop:M,preserveLastStop:U,startTimeIsUTC:j,timeWindowsAreUTC:E}=r;k.analysisSettings=new ee({accumulateAttributes:C,directionsLanguage:T,findBestSequence:G,preserveFirstStop:M,preserveLastStop:U,startTimeIsUTC:j,timeWindowsAreUTC:E,travelMode:b}),k.totalDuration=ye(null!=(p=k.totalCosts[P])?p:0,L),k.totalDistance=ce(null!=(y=k.totalCosts[B])?y:0,D),k.totalLateDuration=ye(null!=(c=k.totalViolations[P])?c:0,L),k.totalWaitDuration=ye(null!=(d=k.totalWait[P])?d:0,L),g.isSome(k.totalCosts)&&R(k.totalCosts),g.isSome(k.totalViolations)&&R(k.totalViolations),g.isSome(k.totalWait)&&R(k.totalWait);for(const m of e.stops){var W,q,V,H,z,Q;if(g.isSome(m.serviceCosts))m.serviceDuration=ye(null!=(W=m.serviceCosts[P])?W:0,L),m.serviceDistance=ce(null!=(q=m.serviceCosts[B])?q:0,D),R(m.serviceCosts);if(g.isSome(m.cumulativeCosts))m.cumulativeDuration=ye(null!=(V=m.cumulativeCosts[P])?V:0,L),m.cumulativeDistance=ce(null!=(H=m.cumulativeCosts[B])?H:0,D),R(m.cumulativeCosts);if(g.isSome(m.violations))m.lateDuration=ye(null!=(z=m.violations[P])?z:0,L),R(m.violations);if(g.isSome(m.wait))m.waitDuration=ye(null!=(Q=m.wait[P])?Q:0,L),R(m.wait)}}function ue(e){return pe.apply(this,arguments)}function pe(){return pe=e._asyncToGenerator((function*(e){const t=re.WGS84;return yield R.initializeProjection(e.spatialReference,t),R.project(e,t)})),pe.apply(this,arguments)}function ye(e,t){switch(t){case"seconds":return e/60;case"hours":return 60*e;case"days":return 60*e*24;default:return e}}function ce(e,t){return"decimal-degrees"===t||"points"===t||"unknown"===t?e:b.convertUnit(e,t,"meters")}const de=f.ofType(H),fe=f.ofType(z),me=f.ofType(Q),he=f.ofType(Y),Se=f.ofType(Z),ge=f.ofType(te),ve=S.getLogger("esri.layers.RouteLayer");let we=function(t){function o(...e){var r;return(r=t.call(this,...e)||this)._featureCollection=null,r._type="Feature Collection",r.defaultSymbols=new j,r.directionLines=null,r.directionPoints=null,r.featureCollectionType="route",r.legendEnabled=!1,r.maxScale=0,r.minScale=0,r.pointBarriers=new me,r.polygonBarriers=new he,r.polylineBarriers=new Se,r.routeInfo=null,r.spatialReference=re.WGS84,r.stops=new ge,r.type="route",r.handles.add(_.watch((()=>r.stops.toArray()),(()=>{g.isNone(r.routeInfo)&&r._setStopSymbol(r.stops)}),{sync:!0})),r}e._inheritsLoose(o,t);var s=o.prototype;return s.writeFeatureCollectionWebmap=function(e,t,r,o){const i=[this._writePolygonBarriers(),this._writePolylineBarriers(),this._writePointBarriers(),this._writeRouteInfo(),this._writeDirectionLines(),this._writeDirectionPoints(),this._writeStops()].filter((e=>!!e)),n=i.map(((e,t)=>t)),s="web-map"===o.origin?"featureCollection.layers":"layers";w.setDeepValue(s,i,t),t.opacity=this.opacity,t.visibility=this.visible,t.visibleLayers=n},s.readDirectionLines=function(e,t){return this._getNetworkFeatures(t,"DirectionLines",(e=>H.fromPortalJSON(e)))},s.readDirectionPoints=function(e,t){return this._getNetworkFeatures(t,"DirectionPoints",(e=>z.fromPortalJSON(e)))},s.readMaxScale=function(e,t){var r;const o=(ne(t)?t.layers:t.featureCollection.layers).find((e=>g.isSome(e.layerDefinition.maxScale)));return null!=(r=null==o?void 0:o.layerDefinition.maxScale)?r:0},s.readMinScale=function(e,t){var r;const o=(ne(t)?t.layers:t.featureCollection.layers).find((e=>g.isSome(e.layerDefinition.minScale)));return null!=(r=null==o?void 0:o.layerDefinition.minScale)?r:0},s.readPointBarriers=function(e,t){return this._getNetworkFeatures(t,"Barriers",(e=>Q.fromPortalJSON(e)))},s.readPolygonBarriers=function(e,t){return this._getNetworkFeatures(t,"PolygonBarriers",(e=>Y.fromPortalJSON(e)))},s.readPolylineBarriers=function(e,t){return this._getNetworkFeatures(t,"PolylineBarriers",(e=>Z.fromPortalJSON(e)))},s.readRouteInfo=function(e,t){const r=this._getNetworkFeatures(t,"RouteInfo",(e=>$.fromPortalJSON(e)));return r.length>0?r.getItemAt(0):null},s.readSpatialReference=function(e,t){var r,o;const i=ne(t)?t.layers:t.featureCollection.layers;if(!i.length)return re.WGS84;const{layerDefinition:n}=i[0],s=null!=(r=null!=(o=n.spatialReference)?o:n.extent.spatialReference)?r:A.WGS84;return re.fromJSON(s)},s.readStops=function(e,t){return this._getNetworkFeatures(t,"Stops",(e=>te.fromPortalJSON(e)),(e=>this._setStopSymbol(e)))},s.load=function(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Promise.resolve(this)},s.removeAll=function(){g.isSome(this.directionLines)&&(this.directionLines.removeAll(),this._set("directionLines",null)),g.isSome(this.directionPoints)&&(this.directionPoints.removeAll(),this._set("directionPoints",null)),g.isSome(this.routeInfo)&&this._set("routeInfo",null),this.pointBarriers.removeAll(),this.polygonBarriers.removeAll(),this.polylineBarriers.removeAll(),this.stops.removeAll()},s.save=function(){var t=e._asyncToGenerator((function*(){yield this.load();const{fullExtent:e,portalItem:t}=this;if(!t)throw new m("routelayer:portal-item-not-set","save() requires to the layer to have a portal item");if(!t.id)throw new m("routelayer:portal-item-not-saved","Please use saveAs() first to save the routelayer");if("Feature Collection"!==t.type)throw new m("routelayer:portal-item-wrong-type",'Portal item needs to have type "Feature Collection"');if(g.isNone(this.routeInfo))throw new m("routelayer:route-unsolved","save() requires a solved route");const{portal:r}=t;if(yield r._signIn(),r.user||(yield t.reload()),r.user.username!==t.owner)throw new m("routelayer:not-portal-item-owner","You can only overwrite your portal items");const{itemUrl:o}=t,i={messages:[],origin:"portal-item",portal:r,url:o&&P.urlToObject(o),writtenProperties:[]},n=this.write(null,i);return t.extent=yield ue(e),t.title=this.title,yield t.update({data:n}),t}));function r(){return t.apply(this,arguments)}return r}(),s.saveAs=function(){var t=e._asyncToGenerator((function*(e,t={}){if(yield this.load(),g.isNone(this.routeInfo))throw new m("routelayer:route-unsolved","saveAs() requires a solved route");const r=W.from(e).clone();null!=r.extent||(r.extent=yield ue(this.fullExtent)),r.id=null,null!=r.portal||(r.portal=E.getDefault()),null!=r.title||(r.title=this.title),r.type="Feature Collection",r.typeKeywords=["Data","Feature Collection","Multilayer","Route Layer"];const{portal:o}=r,i={messages:[],origin:"portal-item",portal:o,url:null,writtenProperties:[]};yield o._signIn();const n=null==t?void 0:t.folder,s=this.write(null,i);return yield o.user.addItem({item:r,folder:n,data:s}),this.portalItem=r,C.updateOrigins(i),i.portalItem=r,r}));function r(e){return t.apply(this,arguments)}return r}(),s.solve=function(){var t=e._asyncToGenerator((function*(e,t){var r,o,i,n,s,l;const a=null!=(r=null==e?void 0:e.stops)?r:this.stops,u=null!=(o=null==e?void 0:e.pointBarriers)?o:ie(this.pointBarriers),p=null!=(i=null==e?void 0:e.polylineBarriers)?i:ie(this.polylineBarriers),y=null!=(n=null==e?void 0:e.polygonBarriers)?n:ie(this.polygonBarriers);if(g.isNone(a))throw new m("routelayer:undefined-stops","the route layer must have stops defined in the route parameters.");if((se(a)||le(a))&&a.features.length<2||f.isCollection(a)&&a.length<2)throw new m("routelayer:insufficent-stops","the route layer must have two or more stops to solve a route.");const c=yield q.fetchServiceDescription(this.url,null==e?void 0:e.apiKey,t),{defaultTravelMode:d,supportedTravelModes:h}=c,S=h.find((e=>e.id===d)),v=null!=(s=null==e?void 0:e.travelMode)?s:S,w=null!=(l=null==e?void 0:e.accumulateAttributes)?l:[];g.isSome(v)&&w.push(v.distanceAttributeName);const _={startTime:new Date},b={accumulateAttributes:w,directionsOutputType:"featuresets",ignoreInvalidLocations:!0,pointBarriers:u,polylineBarriers:p,polygonBarriers:y,preserveFirstStop:!0,preserveLastStop:!0,returnBarriers:!!u,returnDirections:!0,returnPolygonBarriers:!!y,returnPolylineBarriers:!!p,returnRoutes:!0,returnStops:!0,stops:a},P=e?X.from(e):new X;for(const f in _)null==P[f]&&(P[f]=_[f]);P.set(b);const B=yield V.solve(this.url,P,t),N=this._toRouteLayerSolution(B);return this._isOverridden("title")||(this.title=g.unwrapOrValue(N.routeInfo.name,"Route")),ae(N,c,P),N}));function r(e,r){return t.apply(this,arguments)}return r}(),s.update=function(e){const{stops:t,directionLines:r,directionPoints:o,pointBarriers:i,polylineBarriers:n,polygonBarriers:s,routeInfo:l}=e;this.set({stops:t,pointBarriers:i,polylineBarriers:n,polygonBarriers:s}),this._set("directionLines",r),this._set("directionPoints",o),this._set("routeInfo",l)},s._getLayerDefinition=function(){return{capabilities:"Query,Update,Editing",extent:this.fullExtent.toJSON(),hasM:!1,hasZ:!1,maxScale:this.maxScale,minScale:this.minScale,objectIdField:"__OBJECTID",spatialReference:this.spatialReference.toJSON(),type:"Feature Layer",typeIdField:""}},s._getNetworkFeatures=function(e,t,r,o){const s=(ne(e)?e.layers:e.featureCollection.layers).find((e=>e.layerDefinition.name===t));if(g.isNone(s))return new f;const{layerDefinition:l,popupInfo:a,featureSet:u}=s,p=l.drawingInfo.renderer,{features:y}=u,c=p&&d.read(p),m=y.map((e=>{var o;const s=r(e),{attributes:l}=e,u=new i({attributes:l});return null!=s.symbol||(s.symbol=null!=(o=null==c?void 0:c.getSymbol(u))?o:this._getNetworkSymbol(t)),null!=s.popupTemplate||(s.popupTemplate=a&&n.fromJSON(a)),s}));return o&&m.some((e=>!e.symbol))&&o(m),new f(m)},s._getNetworkSymbol=function(e){switch(e){case"Barriers":return this.defaultSymbols.pointBarriers;case"DirectionPoints":return this.defaultSymbols.directionPoints;case"DirectionLines":return this.defaultSymbols.directionLines;case"PolylineBarriers":return this.defaultSymbols.polylineBarriers;case"PolygonBarriers":return this.defaultSymbols.polygonBarriers;case"RouteInfo":return this.defaultSymbols.routeInfo;case"Stops":return null}},s._setStopSymbol=function(e){if(!e||0===e.length)return;if(g.isNone(this.routeInfo)||1===e.length)return void e.forEach(((t,r)=>{switch(r){case 0:t.symbol=this.defaultSymbols.firstStop;break;case e.length-1:t.symbol=this.defaultSymbols.lastStop;break;default:t.symbol=this.defaultSymbols.middleStop}}));const t=e.map((e=>e.sequence)).filter((e=>g.isSome(e))),r=Math.min(...t),o=Math.max(...t);for(const i of e)i.sequence!==r?i.sequence!==o?"ok"===i.status||"not-located-on-closest"===i.status?"waypoint"!==i.locationType?"break"!==i.locationType?i.symbol=this.defaultSymbols.middleStop:i.symbol=this.defaultSymbols.breakStop:i.symbol=this.defaultSymbols.waypointStop:i.symbol=this.defaultSymbols.invalidStop:i.symbol=this.defaultSymbols.lastStop:i.symbol=this.defaultSymbols.firstStop},s._toRouteLayerSolution=function(e){var t,r,o,i,n;const s=e.routeResults[0].stops.map((e=>te.fromJSON(e.toJSON())));this._setStopSymbol(s);const l=new ge(s),a=new he(null==(t=e.polygonBarriers)?void 0:t.map((e=>{const t=Y.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.polygonBarriers,t}))),u=new Se(null==(r=e.polylineBarriers)?void 0:r.map((e=>{const t=Z.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.polylineBarriers,t}))),p=new me(null==(o=e.pointBarriers)?void 0:o.map((e=>{const t=Q.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.pointBarriers,t}))),y=$.fromJSON(e.routeResults[0].route.toJSON());y.symbol=this.defaultSymbols.routeInfo;const c=new fe(null==(i=e.routeResults[0].directionPoints)?void 0:i.features.map((e=>{const t=z.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.directionPoints,t})));return{directionLines:new de(null==(n=e.routeResults[0].directionLines)?void 0:n.features.map((e=>{const t=H.fromJSON(e.toJSON());return t.symbol=this.defaultSymbols.directionLines,t}))),directionPoints:c,pointBarriers:p,polygonBarriers:a,polylineBarriers:u,routeInfo:y,stops:l}},s._writeDirectionLines=function(){return g.isNone(this.directionLines)||!this.directionLines.length?null:{featureSet:{features:this.directionLines.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPolyline"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.directionLines.toJSON()}},fields:H.fields,geometryType:"esriGeometryPolyline",name:"DirectionLines",title:"Direction Lines"},popupInfo:H.popupInfo}},s._writeDirectionPoints=function(){return g.isNone(this.directionPoints)||!this.directionPoints.length?null:{featureSet:{features:this.directionPoints.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPoint"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.directionPoints.toJSON()}},fields:z.fields,geometryType:"esriGeometryPoint",name:"DirectionPoints",title:"Direction Points"},popupInfo:z.popupInfo}},s._writePointBarriers=function(){return g.isNone(this.pointBarriers)||!this.pointBarriers.length?null:{featureSet:{features:this.pointBarriers.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPoint"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.pointBarriers.toJSON()}},fields:Q.fields,geometryType:"esriGeometryPoint",name:"Barrier",title:"Point Barrier"},popupInfo:Q.popupInfo}},s._writePolygonBarriers=function(){return g.isNone(this.polygonBarriers)||!this.polygonBarriers.length?null:{featureSet:{features:this.polygonBarriers.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPolygon"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.polygonBarriers.toJSON()}},fields:Y.fields,geometryType:"esriGeometryPolygon",name:"PolygonBarriers",title:"Polygon Barriers"},popupInfo:Y.popupInfo}},s._writePolylineBarriers=function(){return g.isNone(this.polylineBarriers)||!this.polylineBarriers.length?null:{featureSet:{features:this.polylineBarriers.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPolyline"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.polylineBarriers.toJSON()}},fields:Z.fields,geometryType:"esriGeometryPolyline",name:"PolylineBarriers",title:"Line Barriers"},popupInfo:Z.popupInfo}},s._writeRouteInfo=function(){return g.isNone(this.routeInfo)?null:{featureSet:{features:[this.routeInfo.toPortalJSON()],geometryType:"esriGeometryPolyline"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"simple",symbol:this.defaultSymbols.routeInfo.toJSON()}},fields:$.fields,geometryType:"esriGeometryPolyline",name:"RouteInfo",title:"Route Details"},popupInfo:$.popupInfo}},s._writeStops=function(){return g.isNone(this.stops)||!this.stops.length?null:{featureSet:{features:this.stops.toArray().map((e=>e.toPortalJSON())),geometryType:"esriGeometryPoint"},layerDefinition:{...this._getLayerDefinition(),drawingInfo:{renderer:{type:"uniqueValue",field1:"Sequence",defaultSymbol:this.defaultSymbols.middleStop.toJSON(),uniqueValueInfos:[{value:"1",symbol:this.defaultSymbols.firstStop.toJSON(),label:"First Stop"},{value:`${this.stops.length}`,symbol:this.defaultSymbols.lastStop.toJSON(),label:"Last Stop"}]}},fields:te.fields,geometryType:"esriGeometryPoint",name:"Stops",title:"Stops"},popupInfo:te.popupInfo}},e._createClass(o,[{key:"fullExtent",get:function(){if(g.isSome(this.routeInfo)&&g.isSome(this.routeInfo.geometry))return this.routeInfo.geometry.extent;if(this.stops.length>1){const{spatialReference:e}=this.stops[0],t=new oe({spatialReference:e}),r=this.stops.toArray().map((e=>e.geometry));for(const o of r)g.isSome(o)&&t.addPoint(o);return t.extent}return new J({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:re.WGS84})}},{key:"title",get:function(){return g.isSome(this.routeInfo)&&g.isSome(this.routeInfo.name)?this.routeInfo.name:"Route"},set:function(e){e?this._override("title",e):this._clearOverride("title")}},{key:"url",get:function(){return r.routeServiceUrl},set:function(e){null!=e?this._set("url",U.sanitizeUrl(e,ve)):this._set("url",r.routeServiceUrl)}}]),o}(F.BlendLayer(M.ScaleRangeLayer(k.OperationalLayer(G.PortalLayer(v.MultiOriginJSONMixin(h.HandleOwnerMixin(x)))))));t.__decorate([B.property({readOnly:!0,json:{read:!1,origins:{"portal-item":{write:{allowNull:!0,ignoreOrigin:!0}},"web-map":{write:{overridePolicy(){return{allowNull:!0,ignoreOrigin:null==this.portalItem}}}}}}})],we.prototype,"_featureCollection",void 0),t.__decorate([T.writer(["web-map","portal-item"],"_featureCollection")],we.prototype,"writeFeatureCollectionWebmap",null),t.__decorate([B.property({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{target:"type",overridePolicy(){return{ignoreOrigin:null!=this.portalItem}}}}}}})],we.prototype,"_type",void 0),t.__decorate([B.property({nonNullable:!0,type:j})],we.prototype,"defaultSymbols",void 0),t.__decorate([B.property({readOnly:!0})],we.prototype,"directionLines",void 0),t.__decorate([L.reader(["web-map","portal-item"],"directionLines",["layers","featureCollection.layers"])],we.prototype,"readDirectionLines",null),t.__decorate([B.property({readOnly:!0})],we.prototype,"directionPoints",void 0),t.__decorate([L.reader(["web-map","portal-item"],"directionPoints",["layers","featureCollection.layers"])],we.prototype,"readDirectionPoints",null),t.__decorate([B.property({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],we.prototype,"featureCollectionType",void 0),t.__decorate([B.property({readOnly:!0})],we.prototype,"fullExtent",null),t.__decorate([B.property({json:{origins:{"web-map":{name:"featureCollection.showLegend"}},write:!0}})],we.prototype,"legendEnabled",void 0),t.__decorate([B.property({type:["show","hide"]})],we.prototype,"listMode",void 0),t.__decorate([B.property({type:Number,nonNullable:!0,json:{write:!1}})],we.prototype,"maxScale",void 0),t.__decorate([L.reader(["web-map","portal-item"],"maxScale",["layers","featureCollection.layers"])],we.prototype,"readMaxScale",null),t.__decorate([B.property({type:Number,nonNullable:!0,json:{write:!1}})],we.prototype,"minScale",void 0),t.__decorate([L.reader(["web-map","portal-item"],"minScale",["layers","featureCollection.layers"])],we.prototype,"readMinScale",null),t.__decorate([B.property({type:["ArcGISFeatureLayer"],value:"ArcGISFeatureLayer"})],we.prototype,"operationalLayerType",void 0),t.__decorate([B.property({nonNullable:!0,type:f.ofType(Q)})],we.prototype,"pointBarriers",void 0),t.__decorate([L.reader(["web-map","portal-item"],"pointBarriers",["layers","featureCollection.layers"])],we.prototype,"readPointBarriers",null),t.__decorate([B.property({nonNullable:!0,type:f.ofType(Y)})],we.prototype,"polygonBarriers",void 0),t.__decorate([L.reader(["web-map","portal-item"],"polygonBarriers",["layers","featureCollection.layers"])],we.prototype,"readPolygonBarriers",null),t.__decorate([B.property({nonNullable:!0,type:f.ofType(Z)})],we.prototype,"polylineBarriers",void 0),t.__decorate([L.reader(["web-map","portal-item"],"polylineBarriers",["layers","featureCollection.layers"])],we.prototype,"readPolylineBarriers",null),t.__decorate([B.property({readOnly:!0})],we.prototype,"routeInfo",void 0),t.__decorate([L.reader(["web-map","portal-item"],"routeInfo",["layers","featureCollection.layers"])],we.prototype,"readRouteInfo",null),t.__decorate([B.property({type:re})],we.prototype,"spatialReference",void 0),t.__decorate([L.reader(["web-map","portal-item"],"spatialReference",["layers","featureCollection.layers"])],we.prototype,"readSpatialReference",null),t.__decorate([B.property({nonNullable:!0,type:f.ofType(te)})],we.prototype,"stops",void 0),t.__decorate([L.reader(["web-map","portal-item"],"stops",["layers","featureCollection.layers"])],we.prototype,"readStops",null),t.__decorate([B.property()],we.prototype,"title",null),t.__decorate([B.property({readOnly:!0,json:{read:!1}})],we.prototype,"type",void 0),t.__decorate([B.property()],we.prototype,"url",null),we=t.__decorate([D.subclass("esri.layers.RouteLayer")],we);return we}));
