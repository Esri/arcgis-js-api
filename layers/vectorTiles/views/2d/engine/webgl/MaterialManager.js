// COPYRIGHT Â© 2022 Esri
//
// All rights reserved under the copyright laws of the United States
// and applicable international laws, treaties, and conventions.
//
// This material is licensed for use under the Esri Master License
// Agreement (MLA), and is bound by the terms of that agreement.
// You may redistribute and use this code without modification,
// provided you adhere to the terms of the MLA and include this
// copyright notice.
//
// See use restrictions at http://www.esri.com/legal/pdfs/mla_e204_e300/english
//
// For additional information, contact:
// Environmental Systems Research Institute, Inc.
// Attn: Contracts and Legal Services Department
// 380 New York Street
// Redlands, California, USA 92373
// USA
//
// email: contracts@esri.com
//
// See http://js.arcgis.com/3.42/esri/copyright.txt for details.

define(["require","exports","./enums","./MaterialInfoUtils","./shaders/fillShaderSnippets","./shaders/iconShaderSnippets","./shaders/labelShaderSnippets","./shaders/lineShaderSnippets","./shaders/textShaderSnippets","../../../webgl/ShaderVariations"],(function(V,_,e,I,i,a,S,T,E,d){return function(){function V(){this._programRep=new Map,this.isInitialize=!1}return V.prototype.dispose=function(){this._fillShaderVariations&&(this._fillShaderVariations.dispose(),this._fillShaderVariations=null),this._lineShaderVariations&&(this._lineShaderVariations.dispose(),this._lineShaderVariations=null),this._iconShaderVariations&&(this._iconShaderVariations.dispose(),this._iconShaderVariations=null),this._textShaderVariations&&(this._textShaderVariations.dispose(),this._textShaderVariations=null),0!==this._programRep.size&&(this._programRep.forEach((function(V){return V.dispose()})),this._programRep.clear())},V.prototype.initialize=function(V){if(!this.isInitialize){var _=new d("label",["labelVS","labelFS"],[],S,V);_.addDefine("ID","ID",[!0,!0],"ID"),_.addDefine("HIGHLIGHT","HIGHLIGHT",[!1,!1],"HIGHLIGHT"),_.addDefine("SDF","SDF",[!1,!1],"SDF"),_.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!1,!1],"VV_SIZE_MIN_MAX_VALUE"),_.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!1,!1],"VV_SIZE_SCALE_STOPS"),_.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!1,!1],"VV_SIZE_FIELD_STOPS"),_.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!1,!1],"VV_SIZE_UNIT_VALUE"),_.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR"),_.addDefine("VV_ROTATION","VV_ROTATION",[!1,!1],"VV_ROTATION"),_.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY"),_.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY"),_.addDefine("PATTERN","PATTERN",[!1,!1],"PATTERN"),_.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");var e=new d("text",["textVS","textFS"],[],E,V);e.addDefine("ID","ID",[!0,!0],"ID"),e.addDefine("HIGHLIGHT","HIGHLIGHT",[!1,!1],"HIGHLIGHT"),e.addDefine("SDF","SDF",[!1,!1],"SDF"),e.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!0,!1],"VV_SIZE_MIN_MAX_VALUE"),e.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!0,!1],"VV_SIZE_SCALE_STOPS"),e.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!0,!1],"VV_SIZE_FIELD_STOPS"),e.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!0,!1],"VV_SIZE_UNIT_VALUE"),e.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR"),e.addDefine("VV_ROTATION","VV_ROTATION",[!0,!1],"VV_ROTATION"),e.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY"),e.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY"),e.addDefine("PATTERN","PATTERN",[!1,!1],"PATTERN"),e.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");var I=new d("icon",["iconVS","iconFS"],[],a,V);I.addDefine("ID","ID",[!0,!0],"ID"),I.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT"),I.addDefine("SDF","SDF",[!0,!0],"SDF"),I.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!0,!1],"VV_SIZE_MIN_MAX_VALUE"),I.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!0,!1],"VV_SIZE_SCALE_STOPS"),I.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!0,!1],"VV_SIZE_FIELD_STOPS"),I.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!0,!1],"VV_SIZE_UNIT_VALUE"),I.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR"),I.addDefine("VV_ROTATION","VV_ROTATION",[!0,!1],"VV_ROTATION"),I.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY"),I.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY"),I.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN"),I.addDefine("HEATMAP","HEATMAP",[!0,!0],"HEATMAP");var n=new d("fill",["fillVS","fillFS"],[],i,V);n.addDefine("ID","ID",[!0,!0],"ID"),n.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT"),n.addDefine("SDF","SDF",[!1,!1],"SDF"),n.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!1,!1],"VV_SIZE_MIN_MAX_VALUE"),n.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!1,!1],"VV_SIZE_SCALE_STOPS"),n.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!1,!1],"VV_SIZE_FIELD_STOPS"),n.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!1,!1],"VV_SIZE_UNIT_VALUE"),n.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR"),n.addDefine("VV_ROTATION","VV_ROTATION",[!1,!1],"VV_ROTATION"),n.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY"),n.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY"),n.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN"),n.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP");var A=new d("line",["lineVS","lineFS"],[],T,V);A.addDefine("ID","ID",[!0,!0],"ID"),A.addDefine("HIGHLIGHT","HIGHLIGHT",[!0,!0],"HIGHLIGHT"),A.addDefine("SDF","SDF",[!0,!0],"SDF"),A.addDefine("VV_SIZE_MIN_MAX_VALUE","VV_SIZE_MIN_MAX_VALUE",[!0,!1],"VV_SIZE_MIN_MAX_VALUE"),A.addDefine("VV_SIZE_SCALE_STOPS","VV_SIZE_SCALE_STOPS",[!0,!1],"VV_SIZE_SCALE_STOPS"),A.addDefine("VV_SIZE_FIELD_STOPS","VV_SIZE_FIELD_STOPS",[!0,!1],"VV_SIZE_FIELD_STOPS"),A.addDefine("VV_SIZE_UNIT_VALUE","VV_SIZE_UNIT_VALUE",[!0,!1],"VV_SIZE_UNIT_VALUE"),A.addDefine("VV_COLOR","VV_COLOR",[!0,!1],"VV_COLOR"),A.addDefine("VV_ROTATION","VV_ROTATION",[!0,!1],"VV_ROTATION"),A.addDefine("VV_OPACITY","VV_OPACITY",[!0,!1],"VV_OPACITY"),A.addDefine("VERTEX_VISIBILITY","VERTEX_VISIBILITY",[!1,!1],"VERTEX_VISIBILITY"),A.addDefine("PATTERN","PATTERN",[!0,!0],"PATTERN"),A.addDefine("HEATMAP","HEATMAP",[!1,!1],"HEATMAP"),this._labelShaderVariations=_,this._textShaderVariations=e,this._fillShaderVariations=n,this._iconShaderVariations=I,this._lineShaderVariations=A,this.isInitialize=!0}},V.prototype.getProgram=function(V,_,i){if(V|=_===e.WGLDrawPhase.HITTEST?8:0,V|=_===e.WGLDrawPhase.HIGHLIGHT?16:0,this._programRep[V])return this._programRep[V];if(!(this._iconShaderVariations&&this._fillShaderVariations&&this._lineShaderVariations&&this._labelShaderVariations))return null;var a,S=I.getMaterialVariations(V);switch(S.geometryType){case e.WGLGeometryType.MARKER:a=this._iconShaderVariations.getProgram(S.variations,null,null,i);break;case e.WGLGeometryType.TEXT:a=this._textShaderVariations.getProgram(S.variations,null,null,i);break;case e.WGLGeometryType.LABEL:a=this._labelShaderVariations.getProgram(S.variations,null,null,i);break;case e.WGLGeometryType.FILL:a=this._fillShaderVariations.getProgram(S.variations,null,null,i);break;case e.WGLGeometryType.LINE:a=this._lineShaderVariations.getProgram(S.variations,null,null,i)}return a&&(this._programRep[V]=a),a},V}()}));