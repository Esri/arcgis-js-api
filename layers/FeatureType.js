define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","../kernel","../lang","../symbols/jsonUtils","./RangeDomain","./CodedValueDomain","./InheritedDomain","./FeatureTemplate"],function(e,s,a,n,t,o,i,r,l,m,d){var h=e(null,{declaredClass:"esri.layers.FeatureType",constructor:function(e){if(e&&s.isObject(e)){this.id=e.id,this.name=e.name;var a=e.symbol;a&&(this.symbol=i.fromJson(a));var n,t,o=e.domains,h=this.domains={};for(n in o)if(o.hasOwnProperty(n)){var c=o[n];switch(c.type){case"range":h[n]=new r(c);break;case"codedValue":h[n]=new l(c);break;case"inherited":h[n]=new m(c)}}var u=e.templates;if(u){var f=this.templates=[];for(t=0;t<u.length;t++)f.push(new d(u[t]))}}},toJson:function(){var e,s={id:this.id,name:this.name,symbol:this.symbol&&this.symbol.toJson()},n=this.domains,t=this.templates,i=o.fixJson;if(n){var r=s.domains={};for(e in n)n.hasOwnProperty(e)&&(r[e]=n[e]&&n[e].toJson());i(r)}return t&&(s.templates=a.map(t,function(e){return e.toJson()})),i(s)}});return n("extend-esri")&&s.setObject("layers.FeatureType",h,t),h});