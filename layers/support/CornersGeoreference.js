/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/Logger","../../core/maybe","../../core/accessorSupport/decorators/property","../../core/arrayUtils","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/subclass","../../geometry/Point","../../geometry/Polygon","../../geometry/projection","./GeoreferenceBase"],(function(e,t,o,r,n,p,s,c,i,l,a,u){"use strict";let y=function(t){function n(e){var o;return(o=t.call(this,e)||this).bottomLeft=null,o.bottomRight=null,o.topLeft=null,o.topRight=null,o.type="corners",o}return e._inheritsLoose(n,t),n.prototype._projectCorner=function(e,t){if(r.isNone(e))return e;const{geometry:n,pending:p}=a.projectOrLoad(e,t);return p?null:p||n?n:(o.getLogger(this.declaredClass).warn("map point could not be projected to the spatial reference",{georeference:this,point:e,sourceSpatialReference:e.spatialReference,targetSpatialReference:t}),null)},e._createClass(n,[{key:"coords",get:function(){let{topLeft:e,topRight:t,bottomLeft:o,bottomRight:n}=this;if(r.isNone(e)||r.isNone(t)||r.isNone(o)||r.isNone(n))return null;const p=e.spatialReference;return t=this._projectCorner(t,p),o=this._projectCorner(o,p),n=this._projectCorner(n,p),r.isNone(t)||r.isNone(o)||r.isNone(n)?null:new l({rings:[[[o.x,o.y],[e.x,e.y],[t.x,t.y],[n.x,n.y],[o.x,o.y]]],spatialReference:p})}}]),n}(u);t.__decorate([n.property({readOnly:!0})],y.prototype,"coords",null),t.__decorate([n.property({type:i})],y.prototype,"bottomLeft",void 0),t.__decorate([n.property({type:i})],y.prototype,"bottomRight",void 0),t.__decorate([n.property({type:i})],y.prototype,"topLeft",void 0),t.__decorate([n.property({type:i})],y.prototype,"topRight",void 0),y=t.__decorate([c.subclass("esri.layers.support.CornersGeoreference")],y);return y}));
