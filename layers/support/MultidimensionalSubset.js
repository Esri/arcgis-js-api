/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../geometry","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/arrayUtils","../../core/accessorSupport/decorators/subclass","../../geometry/Extent","../../geometry/Polygon","../../geometry/support/jsonUtils","./DimensionalDefinition","../../geometry/Geometry"],(function(e,t,r,s,n,o,i,a,l,u,c,p,y){"use strict";var f;const m={base:y,key:"type",typeMap:{extent:l,polygon:u}};let d=f=function(t){function r(e){var r;return(r=t.call(this,e)||this).areaOfInterest=null,r.subsetDefinitions=null,r}return e._inheritsLoose(r,t),r.prototype.clone=function(){const e=this.subsetDefinitions?.map((e=>e.clone())),t=this.areaOfInterest?this.areaOfInterest.clone():this.areaOfInterest;return new f({areaOfInterest:t,subsetDefinitions:e})},e._createClass(r,[{key:"dimensions",get:function(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Map;e.forEach((e=>{if(!e.dimensionName)return;let r,s;if(Array.isArray(e.values[0])){const t=e.values;r=t[0][0],s=t[e.values.length-1][1]}else{const t=e.values;r=t[0],s=t[e.values.length-1]}if(t.has(e.dimensionName)){const n=t.get(e.dimensionName);n[0]=Math.min(r,n[0]),n[1]=Math.max(s,n[1])}else t.set(e.dimensionName,[r,s])}));const r=[];for(const s of t)r.push({name:s[0],extent:s[1]});return r}},{key:"variables",get:function(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Set;return e.forEach((e=>{e.variableName&&t.add(e.variableName)})),[...t]}}]),r}(s.JSONSupport);t.__decorate([n.property({types:m,json:{read:c.fromJSON,write:!0}})],d.prototype,"areaOfInterest",void 0),t.__decorate([n.property({readOnly:!0})],d.prototype,"dimensions",null),t.__decorate([n.property({readOnly:!0})],d.prototype,"variables",null),t.__decorate([n.property({type:[p],json:{write:!0}})],d.prototype,"subsetDefinitions",void 0),d=f=t.__decorate([a.subclass("esri.layers.support.MultidimensionalSubset")],d);return d}));
