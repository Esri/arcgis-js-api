/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../PopupTemplate","../../renderers/ClassBreaksRenderer","../../renderers/DictionaryRenderer","../../renderers/DotDensityRenderer","../../renderers/HeatmapRenderer","../../renderers/PieChartRenderer","../../renderers/Renderer","../../renderers/SimpleRenderer","../../renderers/UniqueValueRenderer","../../renderers/support/jsonUtils","../../renderers/support/types","../../symbols","../../core/lang","../../core/object","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer","../../core/accessorSupport/extensions/serializableProperty/reader","./AggregateField","./commonProperties","./FeatureReduction","./LabelClass"],(function(e,r,o,t,n,p,s,i,a,l,d,c,u,y,b,f,m,g,_,h,v,S,w,I,R,T,x){"use strict";var j;const V=w.createTypeReader({types:y.symbolTypesRenderer}),B="esri.layers.support.FeatureReductionBinning";let F=j=function(r){function o(e){var o;return(o=r.call(this,e)||this).type="binning",o.binType="geohash",o.fixedBinLevel=3,o.labelingInfo=null,o.labelsVisible=!0,o.maxScale=0,o.popupEnabled=!0,o.popupTemplate=null,o.fields=[],o.renderer=null,o}e._inheritsLoose(o,r);var t=o.prototype;return t.writeFields=function(e,r,o){const t=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));f.setDeepValue(o,t,r)},t.readRenderer=function(e,r,o){const t=r.drawingInfo?.renderer;return t?c.read(t,r,o)??void 0:r.defaultSymbol?r.types&&r.types.length?new d({defaultSymbol:V(r.defaultSymbol,r,o),field:r.typeIdField,uniqueValueInfos:r.types.map((e=>({id:e.id,symbol:V(e.symbol,e,o)})))}):new l({symbol:V(r.defaultSymbol,r,o)}):null},t.clone=function(){return new j({fields:b.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:b.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:b.clone(this.popupTemplate),renderer:b.clone(this.renderer)})},o}(T.FeatureReduction);r.__decorate([_.enumeration({binning:"binning"})],F.prototype,"type",void 0),r.__decorate([_.enumeration({geohash:"geohash"})],F.prototype,"binType",void 0),r.__decorate([m.property({type:Number,range:{min:1,max:9},json:{write:!0}})],F.prototype,"fixedBinLevel",void 0),r.__decorate([m.property({type:[x],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],F.prototype,"labelingInfo",void 0),r.__decorate([m.property(R.labelsVisible)],F.prototype,"labelsVisible",void 0),r.__decorate([m.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],F.prototype,"maxScale",void 0),r.__decorate([m.property(R.popupEnabled)],F.prototype,"popupEnabled",void 0),r.__decorate([m.property({type:o,json:{name:"popupInfo",write:!0}})],F.prototype,"popupTemplate",void 0),r.__decorate([m.property({type:[I],json:{write:!0}})],F.prototype,"fields",void 0),r.__decorate([S.writer("fields")],F.prototype,"writeFields",null),r.__decorate([m.property({types:u.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],F.prototype,"renderer",void 0),r.__decorate([h.reader("renderer",["drawingInfo.renderer"])],F.prototype,"readRenderer",null),F=j=r.__decorate([v.subclass(B)],F);return F}));
