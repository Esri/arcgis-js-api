/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
define(["exports"],(function(e){"use strict";const t=9999999e31,n=2e-7,a={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function s(e){return a[e]??[-34028234663852886e22,34028234663852886e22]}function u(e,a,u){if(e.depthCount&&e.depthCount>1)return;const{pixels:i,statistics:l,pixelType:o}=e,r=i[0].length,f=e.bandMasks??[],c=e.mask??new Uint8Array(r).fill(255),b="f32"===o||"f64"===o,m=s(o);let p=!1;for(let s=0;s<i.length;s++){const e="number"==typeof a?a:a[s];if(null==e)continue;const d=l?.[s].minValue??m[0],h=l?.[s].maxValue??m[1];if(d>e+Number.EPSILON||h<e-Number.EPSILON)continue;const M=f[s]||new Uint8Array(r).fill(255),N=i[s],g=u?.customFloatTolerance;if(b&&0!==g){let a=g;a||(a=Math.abs(e)>=t?n*Math.abs(e):"f32"===o?2**-23:Number.EPSILON);for(let t=0;t<N.length;t++)M[t]&&Math.abs(N[t]-e)<a&&(N[t]=0,M[t]=0,c[t]=0,p=!0)}else for(let t=0;t<N.length;t++)M[t]&&N[t]===e&&(N[t]=0,M[t]=0,c[t]=0,p=!0);f[s]=M}p&&(e.bandMasks=f,e.mask=c),p&&"updateStatistics"in e&&e.updateStatistics()}e.convertNoDataToMask=u,e.getPixelValueRange=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
