/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.21/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../geometry","../../core/maybe","./PixelBlock","./rasterFormats/RasterCodec","./rasterFunctions/pixelUtils","./rasterFunctions/vectorFieldUtils","../../renderers/support/RasterSymbolizer","../../geometry/Extent"],(function(e,t,r,o,n,s,i,c,l){"use strict";let a=function(){function t(){}var a=t.prototype;return a.convertVectorFieldData=function(e){const t=o.fromJSON(e.pixelBlock),n=i.convertVectorFieldData(t,e.type);return Promise.resolve(r.isSome(n)&&n.toJSON())},a.decode=function(){var t=e._asyncToGenerator((function*(e){const t=yield n.decode(e.data,e.options);return t&&t.toJSON()}));function r(e){return t.apply(this,arguments)}return r}(),a.symbolize=function(e){e.pixelBlock=o.fromJSON(e.pixelBlock),e.extent=e.extent?l.fromJSON(e.extent):null;const t=this.symbolizer.symbolize(e);return Promise.resolve(r.isSome(t)&&t.toJSON())},a.updateSymbolizer=function(){var t=e._asyncToGenerator((function*(e){var t;this.symbolizer=c.fromJSON(e.symbolizerJSON),e.histograms&&"rasterStretch"===(null==(t=this.symbolizer)?void 0:t.rendererJSON.type)&&(this.symbolizer.rendererJSON.histograms=e.histograms)}));function r(e){return t.apply(this,arguments)}return r}(),a.stretch=function(e){const t=this.symbolizer.simpleStretch(o.fromJSON(e.srcPixelBlock),e.stretchParams);return Promise.resolve(r.isSome(t)&&t.toJSON())},a.estimateStatisticsHistograms=function(e){const t=s.estimateStatisticsHistograms(o.fromJSON(e.srcPixelBlock));return Promise.resolve(t)},a.split=function(e){const t=s.split(o.fromJSON(e.srcPixelBlock),e.tileSize,e.maximumPyramidLevel);return t&&t.forEach(((e,r)=>{t.set(r,null==e?void 0:e.toJSON())})),Promise.resolve(t)},a.mosaicAndTransform=function(){var t=e._asyncToGenerator((function*(e){const t=e.srcPixelBlocks.map((e=>e?new o(e):null)),r=s.mosaic(t,e.srcMosaicSize,null,null,e.alignmentInfo);if(!e.coefs)return r&&r.toJSON();const n=s.approximateTransform(r,e.destDimension,e.coefs,e.sampleSpacing,e.interpolation);return n&&n.toJSON()}));function r(e){return t.apply(this,arguments)}return r}(),t}();return a}));
