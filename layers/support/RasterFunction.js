/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/lang","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../../core/JSONSupport"],(function(e,t,n,r,o,i,u,c,a,s,p,l,d,f,y){"use strict";var m;const g=new Set(["Raster","Raster2","DEM","FillRaster"]),_=new Set(["Rasters"]),w=e=>e&&e.rasterFunction?S.fromJSON(e):e,h=e=>e&&e instanceof S?e.toJSON():e;var F;!function(e){e[e.MOSAIC=0]="MOSAIC",e[e.GROUP=1]="GROUP",e[e.ITEM=2]="ITEM"}(F||(F={}));let S=m=function(t){function n(e){var n;return(n=t.call(this,e)||this).functionArguments=null,n.functionName=null,n.outputPixelType="unknown",n.variableName=null,n.description=null,n.functionDefinition=null,n.thumbnail=null,n}e._inheritsLoose(n,t);var o=n.prototype;return o.readFunctionArguments=function(e,t){return(e=>{if(null==e)return null;const t={};for(const n of Object.keys(e))g.has(n)?t[n]=w(e[n]):_.has(n)&&Array.isArray(e[n])?t[n]=e[n].map(w):t[n]=e[n];return t})(t.arguments||t.rasterFunctionArguments)},o.writeFunctionArguments=function(e,t,n){const r={};for(const t of Object.keys(e))g.has(t)?r[t]=h(e[t]):_.has(t)&&Array.isArray(e[t])?r[t]=e[t].map(h):r[t]=h(e[t]);this.functionDefinition?t.arguments=r:t[n]=r},o.readFunctionName=function(e,t){const n=t.rasterFunctionInfos,r=t.name;return r||(n&&n.length&&"None"!==n[0].name?n[0].name:t.rasterFunction)},o.writeFunctionName=function(e,t,n){this.functionDefinition?t.name=e:t[n]=e},o.readFunctionType=function(e){return F[e]},o.writeFunctionType=function(e,t,n){t[n]=F[e]},o.clone=function(){return new m({functionName:this.functionName,functionArguments:r.clone(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,description:this.description,functionType:this.functionType,functionDefinition:this.functionDefinition,thumbnail:this.thumbnail})},n}(y.JSONSupport);return t.__decorate([u.property({json:{type:Object,write:{target:"rasterFunctionArguments"}}})],S.prototype,"functionArguments",void 0),t.__decorate([a.reader("functionArguments",["rasterFunctionArguments","arguments"])],S.prototype,"readFunctionArguments",null),t.__decorate([p.writer("functionArguments")],S.prototype,"writeFunctionArguments",null),t.__decorate([u.property({json:{type:String,write:{target:"rasterFunction"}}})],S.prototype,"functionName",void 0),t.__decorate([a.reader("functionName",["rasterFunction","rasterFunctionInfos","name"])],S.prototype,"readFunctionName",null),t.__decorate([p.writer("functionName")],S.prototype,"writeFunctionName",null),t.__decorate([c.enumeration({C128:"c128",C64:"c64",F32:"f32",F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1}),u.property({json:{default:"unknown"}})],S.prototype,"outputPixelType",void 0),t.__decorate([u.property({type:String,json:{read:!0,write:!0}})],S.prototype,"variableName",void 0),t.__decorate([u.property({type:String,json:{read:!0,write:!0,origins:{"web-document":{read:!1,write:!1}}}})],S.prototype,"description",void 0),t.__decorate([u.property({json:{origins:{"web-document":{read:!1,write:!1}}}})],S.prototype,"functionType",void 0),t.__decorate([a.reader("functionType")],S.prototype,"readFunctionType",null),t.__decorate([p.writer("functionType")],S.prototype,"writeFunctionType",null),t.__decorate([u.property({type:Object,json:{read:{source:"function"},write:{target:"function"},origins:{"web-document":{read:!1,write:!1}}}})],S.prototype,"functionDefinition",void 0),t.__decorate([u.property({type:String,json:{read:!0,write:!0,origins:{"web-document":{read:!1,write:!1}}}})],S.prototype,"thumbnail",void 0),S=m=t.__decorate([s.subclass("esri.layers.support.RasterFunction")],S),S}));
