/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../../chunks/_rollupPluginBabelHelpers","../../chunks/tslib.es6","../../core/has","../../core/lang","../../core/Logger","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/cast","../../core/jsonMap","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","../../core/urlUtils","../../core/uuid","../../portal/support/resourceExtension","../../core/JSONSupport","../../geometry/Point","./DimensionalDefinition","./RasterFunction"],(function(e,t,r,o,i,s,n,a,c,l,p,d,u,y,m,h,_,M){"use strict";var w;const g=c.strict()({MT_FIRST:"first",MT_LAST:"last",MT_MIN:"min",MT_MAX:"max",MT_MEAN:"mean",MT_BLEND:"blend",MT_SUM:"sum"}),b=c.strict()({esriMosaicNone:"none",esriMosaicCenter:"center",esriMosaicNadir:"nadir",esriMosaicViewpoint:"viewpoint",esriMosaicAttribute:"attribute",esriMosaicLockRaster:"lock-raster",esriMosaicNorthwest:"northwest",esriMosaicSeamline:"seamline"});let f=w=function(t){function r(e){var r;return(r=t.call(this,e)||this).ascending=!0,r.itemRenderingRule=null,r.lockRasterIds=null,r.method=null,r.multidimensionalDefinition=null,r.objectIds=null,r.operation=null,r.sortField=null,r.sortValue=null,r.viewpoint=null,r.where=null,r}e._inheritsLoose(r,t);var i=r.prototype;return i.readAscending=function(e,t){return null!=t.ascending?t.ascending:null==t.sortAscending||t.sortAscending},i.readMethod=function(e,t){return function(e){let t;switch(e?e.toLowerCase().replace("esrimosaic",""):""){case"byattribute":case"attribute":t="esriMosaicAttribute";break;case"lockraster":t="esriMosaicLockRaster";break;case"center":t="esriMosaicCenter";break;case"northwest":t="esriMosaicNorthwest";break;case"nadir":t="esriMosaicNadir";break;case"viewpoint":t="esriMosaicViewpoint";break;case"seamline":t="esriMosaicSeamline";break;case"none":default:t="esriMosaicNone"}return b.fromJSON(t)}(t.mosaicMethod||t.defaultMosaicMethod)},i.readOperation=function(e,t){const r=t.mosaicOperation,o=t.mosaicOperator&&t.mosaicOperator.toLowerCase(),i=r||(o?g.toJSON(o):null);return g.fromJSON(i)||"first"},i.castSortValue=function(e){return null==e||"string"==typeof e||"number"==typeof e?e:`${e}`},i.clone=function(){return new w({ascending:this.ascending,itemRenderingRule:o.clone(this.itemRenderingRule),lockRasterIds:o.clone(this.lockRasterIds),method:this.method,multidimensionalDefinition:o.clone(this.multidimensionalDefinition),objectIds:o.clone(this.objectIds),operation:this.operation,sortField:this.sortField,sortValue:this.sortValue,viewpoint:o.clone(this.viewpoint),where:this.where})},r}(m.JSONSupport);return t.__decorate([n.property({type:Boolean,json:{write:!0}})],f.prototype,"ascending",void 0),t.__decorate([l.reader("ascending",["ascending","sortAscending"])],f.prototype,"readAscending",null),t.__decorate([n.property({type:M,json:{write:!0}})],f.prototype,"itemRenderingRule",void 0),t.__decorate([n.property({type:[s.Integer],json:{write:{overridePolicy(){return{enabled:"lock-raster"===this.method}}}}})],f.prototype,"lockRasterIds",void 0),t.__decorate([n.property({type:String,json:{type:b.jsonValues,write:{target:"mosaicMethod",writer:b.write}}})],f.prototype,"method",void 0),t.__decorate([l.reader("method",["mosaicMethod","defaultMosaicMethod"])],f.prototype,"readMethod",null),t.__decorate([n.property({type:[_],json:{write:!0}})],f.prototype,"multidimensionalDefinition",void 0),t.__decorate([n.property({type:[s.Integer],json:{name:"fids",write:!0}})],f.prototype,"objectIds",void 0),t.__decorate([n.property({json:{type:g.jsonValues,read:{reader:g.read},write:{target:"mosaicOperation",writer:g.write}}})],f.prototype,"operation",void 0),t.__decorate([l.reader("operation",["mosaicOperation","mosaicOperator"])],f.prototype,"readOperation",null),t.__decorate([n.property({type:String,json:{write:{overridePolicy(){return{enabled:"attribute"===this.method}}}}})],f.prototype,"sortField",void 0),t.__decorate([n.property({type:[String,Number],json:{write:{allowNull:!0,overridePolicy(){return{enabled:"attribute"===this.method,allowNull:!0}}}}})],f.prototype,"sortValue",void 0),t.__decorate([a.cast("sortValue")],f.prototype,"castSortValue",null),t.__decorate([n.property({type:h,json:{write:!0}})],f.prototype,"viewpoint",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],f.prototype,"where",void 0),f=w=t.__decorate([p.subclass("esri.layers.support.MosaicRule")],f),f}));
