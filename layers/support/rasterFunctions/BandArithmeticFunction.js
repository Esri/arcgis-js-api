/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/maybe","../../../core/accessorSupport/decorators/property","../../../core/arrayUtils","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/decorators/subclass","./BandArithmeticFunctionArguments","./bandIndexUtils","./BaseRasterFunction"],(function(t,e,r,n,s,o,i,u,c,a){"use strict";let p=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).functionName="BandArithmetic",t.functionArguments=null,t.rasterArgumentNames=["raster"],t}t._inheritsLoose(n,e);var s=n.prototype;return s._bindSourceRasters=function(){this.outputPixelType=this._getOutputPixelType("f32");const t=this.sourceRasterInfos[0],e=t.clone();return e.pixelType=this.outputPixelType,e.statistics=null,e.histograms=null,e.bandCount="sultan"===this.functionArguments.method?t.bandCount:1,this.rasterInfo=e,{success:!0}},s._processPixels=function(t){const e=t.pixelBlocks?.[0];if(r.isNone(e))return e;const{method:n,bandIndexes:s}=this.functionArguments,o=s.split(" ").map((t=>parseFloat(t)));return c.calculateBandIndex(e,{method:n,bandIndexes:o,equation:s})},n}(a);e.__decorate([n.property({json:{write:!0,name:"rasterFunction"}})],p.prototype,"functionName",void 0),e.__decorate([n.property({type:u,json:{write:!0,name:"rasterFunctionArguments"}})],p.prototype,"functionArguments",void 0),e.__decorate([n.property()],p.prototype,"rasterArgumentNames",void 0),p=e.__decorate([i.subclass("esri.layers.support.rasterFunctions.BandArithmeticFunction")],p);return p}));
