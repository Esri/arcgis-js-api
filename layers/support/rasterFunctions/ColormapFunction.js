/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.25/esri/copyright.txt for details.
*/
define(["../../../chunks/_rollupPluginBabelHelpers","../../../chunks/tslib.es6","../../../core/accessorSupport/decorators/property","../../../core/arrayUtils","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/decorators/subclass","./BaseRasterFunction","./ColormapFunctionArguments","../../../renderers/support/colorRampUtils"],(function(r,e,o,t,s,n,c,u,p){"use strict";let i=function(e){function o(){var r;return(r=e.apply(this,arguments)||this).functionName="Colormap",r.functionArguments=null,r.rasterArgumentNames=["raster"],r}r._inheritsLoose(o,e);var t=o.prototype;return t._bindSourceRasters=function(){const r=this.sourceRasterInfos[0];if(r.bandCount>1)return{success:!1,error:"colormap-function: source data must be single band"};let{colormap:e,colorRamp:o}=this.functionArguments;if(e?.length||o&&(e=p.convertColorRampToColors(o,256,!0)),!e?.length)return{success:!1,error:"colormap-function: missing colormap argument"};this.outputPixelType=this._getOutputPixelType("u8");const t=r.clone();return t.pixelType=this.outputPixelType,t.colormap=e,this.rasterInfo=t,{success:!0}},t._processPixels=function(r){return r.pixelBlocks?.[0]},o}(c);e.__decorate([o.property({json:{write:!0,name:"rasterFunction"}})],i.prototype,"functionName",void 0),e.__decorate([o.property({type:u,json:{write:!0,name:"rasterFunctionArguments"}})],i.prototype,"functionArguments",void 0),e.__decorate([o.property()],i.prototype,"rasterArgumentNames",void 0),e.__decorate([o.property({json:{write:!0}})],i.prototype,"indexedColormap",void 0),i=e.__decorate([n.subclass("esri.layers.support.rasterFunctions.ColormapFunction")],i);return i}));
