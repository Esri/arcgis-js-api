/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.18/esri/copyright.txt for details.
*/
define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","../core/has","../core/Logger","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/subclass","../core/Error","../core/urlUtils","../core/uuid","../portal/support/resourceExtension","../request","./Layer","./mixins/BlendLayer","./mixins/RefreshableLayer","./mixins/ScaleRangeLayer"],(function(e,r,t,a,s,o,n,i,c,p,l,y,u,d,m,g){"use strict";let h=function(r){function t(){var e;return(e=r.apply(this,arguments)||this).type="base-dynamic",e}e._inheritsLoose(t,r);var a=t.prototype;return a.getImageUrl=function(){throw new i("basedynamiclayer:getImageUrl-not-implemented","getImageUrl() is not implemented")},a.fetchImage=function(e,r,t,a){const s=this.getImageUrl(e,r,t),o={responseType:"image",signal:a&&a.signal};return a&&a.timestamp&&(o.query={_ts:a.timestamp}),"string"==typeof s?y(s,o).then((e=>e.data)):s.then((e=>y(e,o))).then((e=>e.data))},t}(d.BlendLayer(g.ScaleRangeLayer(m.RefreshableLayer(u))));return r.__decorate([o.property({readOnly:!0,value:"base-dynamic"})],h.prototype,"type",void 0),r.__decorate([o.property({type:["show","hide"]})],h.prototype,"listMode",void 0),h=r.__decorate([n.subclass("esri.layers.BaseDynamicLayer")],h),h}));
